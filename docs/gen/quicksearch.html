<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"pages_google-photos-page.js.html":{"id":"pages_google-photos-page.js.html","title":"Source: pages/google-photos-page.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: pages/google-photos-page.js 'use strict'; new ExceptionHandler(); window.app = window.app || {}; app.GooglePhotosPage = Polymer({ is: 'google-photos-page', behaviors: [ Chrome.LocalizeBehavior, ], properties: { isAlbumMode: { type: Boolean, value: true, notify: true, }, useGoogleAlbums: { type: Boolean, value: true, notify: true, }, useGooglePhotos: { type: Boolean, value: false, notify: true, }, albums: { /** @type {app.GoogleSource.Album[]} */ type: Array, notify: true, value: [], }, selections: { /** @type {{id: id, photos: photos}} */ type: Array, value: [], }, waitForLoad: { type: Boolean, value: false, notify: true, }, permPicasa: { type: String, value: 'notSet', notify: true, }, isHidden: { type: Boolean, computed: '_computeHidden(waitForLoad, permPicasa)', }, }, // so we can lazily create the page factoryImpl: function(id) { this.setAttribute('id', id); }, ready: function() { if (Chrome.Storage.getBool('isAlbumMode')) { this.loadAlbumList(); } }, /** * Query Picasa for the list of the users albums */ loadAlbumList: function() { const ERR_TITLE = Chrome.Locale.localize('err_load_album_list'); this._checkPermissions().then((allowed) =&gt; { if (!allowed) { const err = new Error(Chrome.Locale.localize('err_auth_picasa')); return Promise.reject(err); } this.set('waitForLoad', true); return app.GoogleSource.loadAlbumList(); }).then((albums) =&gt; { // get all the user's albums this.splice('albums', 0, this.albums.length); albums = albums || []; albums.forEach((album) =&gt; { this.push('albums', album); }); // update the currently selected albums from the web // eslint-disable-next-line promise/no-nesting app.PhotoSources.process('useGoogleAlbums').catch((err) =&gt; { Chrome.GA.error(err.message, 'GooglePhotosPage.loadAlbumList'); }); // set selected state on albums this._selectAlbums(); this.set('waitForLoad', false); return Promise.resolve(); }).catch((err) =&gt; { this.set('waitForLoad', false); Chrome.Log.error(err.message, 'GooglePhotosPage.loadAlbumList', ERR_TITLE); this.$.dialogTitle.innerHTML = Chrome.Locale.localize('err_request_failed'); this.$.dialogText.innerHTML = err.message; this.$.errorDialog.open(); }); }, /** * Try to get permissions, if not already authorized - may block * @returns {Promise&lt;boolean&gt;} true if we have permissions * @private */ _checkPermissions: function() { if (app.Permissions.isAllowed(app.Permissions.PICASA)) { return Promise.resolve(true); } else { return app.Permissions.request(app.Permissions.PICASA).then((granted) =&gt; { return Promise.resolve(granted); }); } }, /** * Set keys for photo sources * @param {boolean} useGoogle - Google Photos use enabled * @param {boolean} isAlbumMode - Are we in album mode * @private */ _setUseKeys: function(useGoogle, isAlbumMode) { const useAlbums = (useGoogle &amp;&amp; isAlbumMode); const usePhotos = (useGoogle &amp;&amp; !isAlbumMode); this.set('useGoogleAlbums', useAlbums); this.set('useGooglePhotos', usePhotos); }, /** * Event: Handle tap on mode icon * @private */ _onModeTapped: function() { this.set('isAlbumMode', !this.isAlbumMode); this._setUseKeys(this.$.googlePhotosToggle.checked, this.isAlbumMode); if (this.isAlbumMode) { this.loadAlbumList(); } else { this.albums.splice(0, this.albums.length); this.selections.splice(0, this.selections.length); } }, /** * Event: Handle tap on refresh album list icon * @private */ _onRefreshTapped: function() { Chrome.GA.event(Chrome.GA.EVENT.ICON, 'refreshGoogleAlbums'); this.loadAlbumList(); }, /** * Event: Handle tap on select all albums icon * @private */ _onSelectAllTapped: function() { Chrome.GA.event(Chrome.GA.EVENT.ICON, 'selectAllGoogleAlbums'); for (let i = 0; i &lt; this.albums.length; i++) { const album = this.albums[i]; if (!album.checked) { this.selections.push({id: album.id, photos: album.photos}); const set = Chrome.Storage.safeSet('albumSelections', this.selections, 'useGoogleAlbums'); if (!set) { // exceeded storage limits this.selections.pop(); this._showStorageErrorDialog( 'GooglePhotosPage._onSelectAllTapped'); break; } this.set('albums.' + i + '.checked', true); } } }, /** * Event: Handle tap on deselect all albums icon * @private */ _onDeselectAllTapped: function() { Chrome.GA.event(Chrome.GA.EVENT.ICON, 'deselectAllGoogleAlbums'); this._uncheckAll(); this.selections.splice(0, this.selections.length); Chrome.Storage.set('albumSelections', null); }, /** * Event: Album checkbox state changed * @param {Event} event - tap event * @param {app.GoogleSource.Album} event.model.album - the album * @private */ _onAlbumSelectChanged: function(event) { const album = event.model.album; Chrome.GA.event(Chrome.GA.EVENT.CHECK, `selectGoogleAlbum: ${album.checked}`); if (album.checked) { // add new this.selections.push({id: album.id, photos: album.photos}); } else { // delete old const index = this.selections.findIndex((e) =&gt; { return e.id === album.id; }); if (index !== -1) { this.selections.splice(index, 1); } } const set = Chrome.Storage.safeSet('albumSelections', this.selections, 'useGoogleAlbums'); if (!set) { // exceeded storage limits this.selections.pop(); this.set('albums.' + album.index + '.checked', false); this._showStorageErrorDialog( 'GooglePhotosPage._onAlbumSelectChanged'); } }, /** * Event: checked state changed on main toggle changed * @private */ _onUseGoogleChanged: function() { const useGoogle = this.$.googlePhotosToggle.checked; this._setUseKeys(useGoogle, this.isAlbumMode); Chrome.GA.event(Chrome.GA.EVENT.TOGGLE, `useGoogle: ${useGoogle}`); }, /** * Exceeded storage limits error * @param {string} method - function that caused error * @private */ _showStorageErrorDialog: function(method) { const ERR_TITLE = Chrome.Locale.localize('err_storage_title'); Chrome.Log.error('safeSet failed', method, ERR_TITLE); this.$.dialogTitle.innerHTML = ERR_TITLE; this.$.dialogText.innerHTML = Chrome.Locale.localize('err_storage_desc'); this.$.errorDialog.open(); }, /** * Set the checked state of the stored albums * @private */ _selectAlbums: function() { this.set('selections', Chrome.Storage.get('albumSelections', [])); for (let i = 0; i &lt; this.albums.length; i++) { for (let j = 0; j &lt; this.selections.length; j++) { if (this.albums[i].id === this.selections[j].id) { this.set('albums.' + i + '.checked', true); break; } } } }, /** * Uncheck all albums * @private */ _uncheckAll: function() { this.albums.forEach((album, index) =&gt; { if (album.checked) { this.set('albums.' + index + '.checked', false); } }); }, /** * Computed property: Hidden state of main interface * @param {boolean} waitForLoad - true if loading * @param {string} permPicasa - permission state * @returns {boolean} true if hidden * @private */ _computeHidden: function(waitForLoad, permPicasa) { let ret = true; if (!waitForLoad &amp;&amp; (permPicasa === 'allowed')) { ret = false; } return ret; }, /** * Computed binding: Calculate page title * @param {boolean} isAlbumMode - true if album mode * @returns {string} page title * @private */ _computeTitle: function(isAlbumMode) { let ret = ''; if (isAlbumMode) { ret = Chrome.Locale.localize('google_title'); } else { ret = Chrome.Locale.localize('google_title_photos'); } return ret; }, /** * Computed binding: Calculate mode icon * @param {boolean} isAlbumMode - true if album mode * @returns {string} an icon * @private */ _computeModeIcon: function(isAlbumMode) { let ret = ''; if (isAlbumMode) { ret = 'myicons:photo-album'; } else { ret = 'myicons:photo'; } return ret; }, /** * Computed binding: Calculate mode tooltip * @param {boolean} isAlbumMode - true if album mode * @returns {string} page title * @private */ _computeModeTooltip: function(isAlbumMode) { let ret = ''; if (isAlbumMode) { ret = Chrome.Locale.localize('tooltip_google_mode_albums'); } else { ret = Chrome.Locale.localize('tooltip_google_mode_photos'); } return ret; }, /** * Computed binding: Calculate mode tooltip * @param {boolean} useGoogle - true if using Google Photos * @param {boolean} isAlbumMode - true if album mode * @returns {boolean} true if album icons should be disabled * @private */ _computeAlbumIconDisabled(useGoogle, isAlbumMode) { return !(useGoogle &amp;&amp; isAlbumMode); }, /** * Computed binding: Set photo count label on an album * @param {int} count - number of photos in album * @returns {string} i18n label * @private */ _computePhotoLabel: function(count) { let ret = `${count} ${Chrome.Locale.localize('photos')}`; if (count === 1) { ret = `${count} ${Chrome.Locale.localize('photo')}`; } return ret; }, /** * Initialize value if it is not in localStorage * @private */ _initPermPicasa: function() { this.set('permPicasa', 'notSet'); }, /** * Initialize value if it is not in localStorage * @private */ _initIsAlbumMode: function() { this.set('isAlbumMode', true); }, /** * Initialize value if it is not in localStorage * @private */ _initUseGoogleAlbums: function() { this.set('useGoogleAlbums', true); }, /** * Initialize value if it is not in localStorage * @private */ _initUseGooglePhotos: function() { this.set('useGooglePhotos', true); }, }); × Search results Close "},"pages_settings-page.js.html":{"id":"pages_settings-page.js.html","title":"Source: pages/settings-page.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: pages/settings-page.js 'use strict'; new ExceptionHandler(); Polymer({ is: 'settings-page', behaviors: [ Chrome.LocalizeBehavior, ], properties: { selectedTab: { type: Number, value: 0, notify: true, }, enabled: { type: Boolean, value: true, notify: true, }, showTimeValue: { type: Number, value: 1, notify: true, }, menuHidden: { type: Boolean, computed: '_computeMenuHidden(selectedTab)', }, }, ready: function() { this.set('selectedTab', 0); }, /** * Deselect the given {@link app.PhotoSource} * @param {string} useName - Name of &lt;setting-toggle&gt; */ deselectPhotoSource: function(useName) { this._setPhotoSourceChecked(useName, false); }, /** * Event: select all {@link app.PhotoSource} objects tapped * @private */ _selectAllTapped: function() { this._setPhotoSourcesChecked(true); }, /** * Event: deselect all {@link app.PhotoSource} objects tapped * @private */ _deselectAllTapped: function() { this._setPhotoSourcesChecked(false); }, /** * Event: restore default settings tapped * @private */ _restoreDefaultsTapped: function() { Chrome.Msg.send(Chrome.Msg.RESTORE_DEFAULTS).catch(() =&gt; {}); }, /** * Event: Process the background permission * @private */ _chromeBackgroundTapped() { const isSet = !Chrome.Storage.get('allowBackground'); const perm = app.Permissions.BACKGROUND; const isAllowed = app.Permissions.isAllowed(perm); const errTitle = Chrome.Locale.localize('err_optional_permissions'); if (isSet &amp;&amp; !isAllowed) { app.Permissions.request(perm).catch((err) =&gt; { Chrome.Log.error(err.message, 'settings-page._chromeBackgroundTapped', errTitle); }); } else if (!isSet &amp;&amp; isAllowed) { app.Permissions.remove(perm).catch((err) =&gt; { Chrome.Log.error(err.message, 'settings-page._chromeBackgroundTapped', errTitle); }); } }, /** * Set checked state of a {@link app.PhotoSource} * @param {string} useName - source name * @param {boolean} state - checked state * @private */ _setPhotoSourceChecked: function(useName, state) { const query = `[name=${useName}]`; const el = document.querySelector(query); if (el &amp;&amp; !useName.includes('useGoogle')) { el.setChecked(state); } }, /** * Set checked state of all {@link app.PhotoSource} objects * @param {boolean} state - checked state * @private */ _setPhotoSourcesChecked: function(state) { const useNames = app.PhotoSources.getUseKeys(); useNames.forEach((useName) =&gt; { this._setPhotoSourceChecked(useName, state); }); }, /** * Computed property: Set menu icons visibility * @param {int} selectedTab - the current tab * @returns {boolean} true if menu should be visible * @private */ _computeMenuHidden: function(selectedTab) { return (selectedTab !== 2); }, _getUnit: function(name, min, max, step, mult) { return { 'name': Chrome.Locale.localize(name), 'min': min, 'max': max, 'step': step, 'mult': mult, }; }, /** * Computed binding: Set disabled state of largeTime toggle * @param {boolean} enabled - enabled state of screensaver * @param {number} showTimeValue - showTime value * @returns {boolean} true if disabled * @private */ _computeLargeTimeDisabled: function(enabled, showTimeValue) { let ret = false; if (!enabled || (showTimeValue === 0)) { ret = true; } return ret; }, /** * Computed binding: idle time values * @returns {Array} Array of menu items * @private */ _computeWaitTimeUnits: function() { return [ this._getUnit('minutes', 1, 60, 1, 1), this._getUnit('hours', 1, 24, 1, 60), this._getUnit('days', 1, 365, 1, 1440), ]; }, /** * Computed binding: transition time values * @returns {Array} Array of menu items * @private */ _computeTransitionTimeUnits: function() { return [ this._getUnit('seconds', 4, 60, 1, 1), this._getUnit('minutes', 1, 60, 1, 60), this._getUnit('hours', 1, 24, 1, 3600), this._getUnit('days', 1, 365, 1, 86400), ]; }, /** * Computed binding: photo sizing values * @returns {Array} Array of menu items * @private */ _computePhotoSizingMenu: function() { return [ Chrome.Locale.localize('menu_letterbox'), Chrome.Locale.localize('menu_zoom'), Chrome.Locale.localize('menu_frame'), Chrome.Locale.localize('menu_full'), Chrome.Locale.localize('menu_random'), ]; }, /** * Computed binding: photo transition values * @returns {Array} Array of menu items * @private */ _computePhotoTransitionMenu: function() { return [ Chrome.Locale.localize('menu_scale_up'), Chrome.Locale.localize('menu_fade'), Chrome.Locale.localize('menu_slide_from_right'), Chrome.Locale.localize('menu_slide_down'), Chrome.Locale.localize('menu_spin_up'), Chrome.Locale.localize('menu_slide_up'), Chrome.Locale.localize('menu_slide_from_bottom'), Chrome.Locale.localize('menu_slide_right'), Chrome.Locale.localize('menu_random'), ]; }, /** * Computed binding: time format values * @returns {Array} Array of menu items * @private */ _computeTimeFormatMenu: function() { return [ Chrome.Locale.localize('no'), Chrome.Locale.localize('menu_12_hour'), Chrome.Locale.localize('menu_24_hour'), ]; }, }); × Search results Close "},"pages_help-page.js.html":{"id":"pages_help-page.js.html","title":"Source: pages/help-page.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: pages/help-page.js (function(window) { 'use strict'; new ExceptionHandler(); window.app = window.app || {}; app.HelpPageFactory = Polymer({ is: 'help-page', behaviors: [ Chrome.LocalizeBehavior, ], properties: { githubPath: { type: String, value: function() { return app.Utils.getGithubPath(); }, readOnly: true, }, githubPagesPath: { type: String, value: function() { return app.Utils.getGithubPagesPath(); }, readOnly: true, }, }, /** * computed binding: Get a mailto url * @param {string} subject - email subject * @returns {string} url * @private */ _computeMailToUrl: function(subject) { return app.Utils.getEmailUrl(subject, app.Utils.getEmailBody()); }, /** * computed binding: Get the extension version * @returns {string} Version of the extension * @private */ _computeVersion: function() { const text = Chrome.Utils.getVersion(); return encodeURIComponent(text); }, }); })(window); × Search results Close "},"pages_error-page.js.html":{"id":"pages_error-page.js.html","title":"Source: pages/error-page.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: pages/error-page.js (function(window) { 'use strict'; new ExceptionHandler(); window.app = window.app || {}; app.ErrorPageFactory = Polymer({ is: 'error-page', behaviors: [ Chrome.LocalizeBehavior, ], properties: { lastError: { type: Object, value: function() { return new Chrome.Storage.LastError(); }, notify: true, }, }, ready: function() { Chrome.Storage.getLastError().then((lastError) =&gt; { this.set('lastError', lastError); return Promise.resolve(); }).catch((err) =&gt; { Chrome.GA.error(err.message, 'ErrorPage.ready'); }); chrome.storage.onChanged.addListener((changes) =&gt; { // listen for changes to lastError for (const key in changes) { if (changes.hasOwnProperty(key)) { if (key === 'lastError') { const change = changes[key]; this.set('lastError', change.newValue); break; } } } }); }, /** * Event: Email support * @private */ _onEmailTapped: function() { let body = app.Utils.getEmailBody(); body = body + `${this.lastError.title}\\n\\n${this.lastError.message}\\n\\n` + `${this.lastError.stack}`; body = body + '\\n\\nPlease provide any additional info. ' + 'on what led to the error.\\n\\n'; const url = app.Utils.getEmailUrl('Last Error', body); Chrome.GA.event(Chrome.GA.EVENT.ICON, 'LastError email'); chrome.tabs.create({url: url}); }, /** * Event: Remove the error * @private */ _onRemoveTapped: function() { Chrome.Storage.clearLastError(); Chrome.GA.event(Chrome.GA.EVENT.ICON, 'LastError delete'); }, /** * Computed Binding * @param {Chrome.Storage.LastError} lastError - the error * @returns {string} stack trace * @private */ _computeStack: function(lastError) { let ret = ''; if (lastError.message) { ret += lastError.stack; } return ret; }, /** * Computed Binding * @param {Chrome.Storage.LastError} lastError - the error * @returns {string} page title * @private */ _computeTitle: function(lastError) { let ret = Chrome.Locale.localize('last_error_viewer_title'); if (lastError.message) { ret += ` - ${lastError.title}`; } return ret; }, }); })(window); × Search results Close "},"background_alarm.js.html":{"id":"background_alarm.js.html","title":"Source: background/alarm.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: background/alarm.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Manage alarms from the chrome.alarms API * @see https://developer.chrome.com/apps/alarms * @namespace */ app.Alarm = (function() { 'use strict'; new ExceptionHandler(); const chromep = new ChromePromise(); /** * Alarms triggered by chrome.alarms * @typedef {Object} Alarms * @property {string} ACTIVATE - screen saver is active * @property {string} DEACTIVATE - screen saver is not activate * @property {string} UPDATE_PHOTOS - photo sources should be updated * @property {string} BADGE_TEXT - icon's Badge text should be set * @const * @private * @memberOf app.Alarm */ const _ALARMS = { 'ACTIVATE': 'ACTIVATE', 'DEACTIVATE': 'DEACTIVATE', 'UPDATE_PHOTOS': 'UPDATE_PHOTOS', 'BADGE_TEXT': 'BADGE_TEXT', }; /** * Set state when the screensaver is in the active time range * @private * @memberOf app.Alarm */ function _setActiveState() { if (Chrome.Storage.getBool('keepAwake')) { chrome.power.requestKeepAwake('display'); } const interval = app.Data.getIdleSeconds(); chromep.idle.queryState(interval).then((state) =&gt; { // display screensaver if enabled and the idle time criteria is met if (Chrome.Storage.getBool('enabled') &amp;&amp; (state === 'idle')) { app.SSControl.display(false); } return Promise.resolve(); }).catch((err) =&gt; { Chrome.Log.error(err.message, 'Alarm._setActiveState'); }); app.Alarm.updateBadgeText(); } /** * Set state when the screensaver is in the inactive time range * @private * @memberOf app.Alarm */ function _setInactiveState() { if (Chrome.Storage.getBool('allowSuspend')) { chrome.power.releaseKeepAwake(); } else { chrome.power.requestKeepAwake('system'); } app.SSControl.close(); app.Alarm.updateBadgeText(); } /** * Set the Badge text on the icon * @private * @memberOf app.Alarm */ function _setBadgeText() { let text = ''; if (Chrome.Storage.getBool('enabled')) { text = app.Alarm.isActive() ? '' : Chrome.Locale.localize('sleep_abbrev'); } else { text = Chrome.Storage.getBool('keepAwake') ? Chrome.Locale.localize( 'power_abbrev') : Chrome.Locale.localize('off_abbrev'); } chrome.browserAction.setBadgeText({text: text}); } /** * Event: Fired when an alarm has elapsed. * @see https://developer.chrome.com/apps/alarms#event-onAlarm * @param {Object} alarm - details on alarm * @private * @memberOf app.Alarm */ function _onAlarm(alarm) { switch (alarm.name) { case _ALARMS.ACTIVATE: // entering active time range of keep awake _setActiveState(); break; case _ALARMS.DEACTIVATE: // leaving active time range of keep awake _setInactiveState(); break; case _ALARMS.UPDATE_PHOTOS: // get the latest for the live photo streams app.PhotoSources.processDaily(); break; case _ALARMS.BADGE_TEXT: // set the icons text _setBadgeText(); break; default: break; } } /** * Event: called when document and resources are loaded * @private * @memberOf app.Alarm */ function _onLoad() { // Listen for alarms chrome.alarms.onAlarm.addListener(_onAlarm); } // listen for document and resources loaded window.addEventListener('load', _onLoad); return { /** * Set the repeating alarms states * @memberOf app.Alarm */ updateRepeatingAlarms: function() { const keepAwake = Chrome.Storage.getBool('keepAwake'); const aStart = Chrome.Storage.getBool('activeStart'); const aStop = Chrome.Storage.getBool('activeStop'); // create keep awake active period scheduling alarms if (keepAwake &amp;&amp; (aStart !== aStop)) { const startDelayMin = Chrome.Time.getTimeDelta(aStart); const stopDelayMin = Chrome.Time.getTimeDelta(aStop); chrome.alarms.create(_ALARMS.ACTIVATE, { delayInMinutes: startDelayMin, periodInMinutes: Chrome.Time.MIN_IN_DAY, }); chrome.alarms.create(_ALARMS.DEACTIVATE, { delayInMinutes: stopDelayMin, periodInMinutes: Chrome.Time.MIN_IN_DAY, }); // if we are currently outside of the active range // then set inactive state if (!Chrome.Time.isInRange(aStart, aStop)) { _setInactiveState(); } } else { chrome.alarms.clear(_ALARMS.ACTIVATE); chrome.alarms.clear(_ALARMS.DEACTIVATE); } // Add daily alarm to update photo sources that request this chromep.alarms.get(_ALARMS.UPDATE_PHOTOS).then((alarm) =&gt; { if (!alarm) { chrome.alarms.create(_ALARMS.UPDATE_PHOTOS, { when: Date.now() + Chrome.Time.MSEC_IN_DAY, periodInMinutes: Chrome.Time.MIN_IN_DAY, }); } return Promise.resolve(); }).catch((err) =&gt; { Chrome.Log.error(err.message, 'chromep.alarms.get(_ALARMS.UPDATE_PHOTOS)'); }); }, /** * Set the icon badge text * @memberOf app.Alarm */ updateBadgeText: function() { // delay setting a little to make sure range check is good chrome.alarms.create(_ALARMS.BADGE_TEXT, { when: Date.now() + 1000, }); }, /** * Determine if the screen saver can be displayed * @returns {boolean} true, if can display * @memberOf app.Alarm */ isActive: function() { const enabled = Chrome.Storage.getBool('enabled'); const keepAwake = Chrome.Storage.getBool('keepAwake'); const aStart = Chrome.Storage.get('activeStart'); const aStop = Chrome.Storage.get('activeStop'); const inRange = Chrome.Time.isInRange(aStart, aStop); // do not display if screen saver is not enabled or // keepAwake scheduler is enabled and is in the inactive range return !(!enabled || (keepAwake &amp;&amp; !inRange)); }, }; })(); × Search results Close "},"sources_photo_source_chromecast.js.html":{"id":"sources_photo_source_chromecast.js.html","title":"Source: sources/photo_source_chromecast.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: sources/photo_source_chromecast.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { 'use strict'; window.app = window.app || {}; new ExceptionHandler(); /** * A potential source of photos from Chromecast * @alias app.CCSource */ app.CCSource = class extends app.PhotoSource { /** * Create a new photo source * @param {string} useKey - The key for if the source is selected * @param {string} photosKey - The key for the collection of photos * @param {string} type - A descriptor of the photo source * @param {string} desc - A human readable description of the source * @param {boolean} isDaily - Should the source be updated daily * @param {boolean} isArray - Is the source an Array of photo Arrays * @param {?Object} [loadArg=null] - optional arg for load function * @constructor */ constructor(useKey, photosKey, type, desc, isDaily, isArray, loadArg = null) { super(useKey, photosKey, type, desc, isDaily, isArray, loadArg); } /** * Fetch the photos for this source * @returns {Promise&lt;app.PhotoSource.Photo[]&gt;} Array of photos */ fetchPhotos() { const url = '/assets/chromecast.json'; return Chrome.Http.doGet(url).then((photos) =&gt; { photos = photos || []; for (const photo of photos) { photo.asp = 1.78; } return Promise.resolve(photos); }); } }; })(); × Search results Close "},"background_data.js.html":{"id":"background_data.js.html","title":"Source: background/data.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: background/data.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Manage the extensions data * @namespace */ app.Data = (function() { 'use strict'; new ExceptionHandler(); const chromep = new ChromePromise(); /** * Version of localStorage - update when items are added, removed, changed * @type {int} * @default * @const * @private * @memberOf app.Data */ const _DATA_VERSION = 17; /** * A number and associated units * @typedef {Object} app.Data.UnitValue * @property {number} base - value in base unit * @property {number} display - value in display unit * @property {int} unit - display unit */ /** * Values for items in localStorage * @typedef {Object} app.Data.LocalStorage * @property {int} version - version of data * @property {boolean} enabled - is screensaver enabled * @property {string} permPicasa - optional permission for Picasa * @property {string} permBackground - optional permission to run in bg * @property {boolean} allowBackground - run Chrome in background * @property {app.Data.UnitValue} idleTime - idle time to display screensaver * @property {app.Data.UnitValue} transitionTime - time between photos * @property {boolean} skip - ignore extreme aspect ratio photos * @property {boolean} shuffle - randomize photo order * @property {int} photoSizing - photo display type * @property {int} photoTransition - transition animation * @property {boolean} interactive - vcr controls for screensaver * @property {int} showTime - time display format * @property {boolean} largeTime - display larger time label * @property {boolean} showPhotog - display name on own photos * @property {boolean} showLocation - display photo location * @property {string} background - background image * @property {boolean} keepAwake - manage computer poser settings * @property {boolean} chromeFullscreen - don't display over fullscreen * @property {boolean} allDisplays - show on all displays * @property {string} activeStart - Keep Wake start time '00:00' 24 hr * @property {string} activeStop - Keep Wake stop time '00:00' 24 hr * @property {boolean} allowSuspend - let computer sleep * @property {boolean} allowPhotoClicks - show photo source on left click * @property {boolean} useSpaceReddit - use this photo source * @property {boolean} useEarthReddit - use this photo source * @property {boolean} useAnimalReddit - use this photo source * @property {boolean} useEditors500px - use this photo source * @property {boolean} usePopular500px - use this photo source * @property {boolean} useYesterday500px - use this photo source * @property {boolean} useInterestingFlickr - use this photo source * @property {boolean} useChromecast - use this photo source * @property {boolean} useAuthors - use this photo source * @property {boolean} useSpaceReddit - use this photo source * @property {boolean} fullResGoogle - true for actual size Google photos * @property {boolean} isAlbumMode - true if Google Photos album mode * @property {boolean} useGoogle - use this photo source * @property {boolean} useGoogleAlbums - use this photo source * @property {Array} albumSelections - user's selected Google Photos albums * @property {boolean} useGooglePhotos - use this photo source */ /** * Default values in localStorage * @type {app.Data.LocalStorage} * @const * @private * @memberOf app.Data */ const _DEF_VALUES = { 'version': _DATA_VERSION, 'enabled': true, 'isAlbumMode': true, 'permPicasa': 'notSet', // enum: notSet allowed denied 'permBackground': 'notSet', // enum: notSet allowed denied 'allowBackground': false, 'idleTime': {'base': 5, 'display': 5, 'unit': 0}, // minutes 'transitionTime': {'base': 30, 'display': 30, 'unit': 0}, // seconds 'skip': true, 'shuffle': true, 'photoSizing': 0, 'photoTransition': 1, 'interactive': false, 'showTime': 2, // 24 hr format 'largeTime': false, 'fullResGoogle': false, 'showPhotog': true, 'showLocation': true, 'background': 'background:linear-gradient(to bottom, #3a3a3a, #b5bdc8)', 'keepAwake': false, 'chromeFullscreen': true, 'allDisplays': false, 'activeStart': '00:00', // 24 hr time 'activeStop': '00:00', // 24 hr time 'allowSuspend': false, 'allowPhotoClicks': true, 'useSpaceReddit': false, 'useEarthReddit': false, 'useAnimalReddit': false, 'useEditors500px': false, 'usePopular500px': false, 'useYesterday500px': false, 'useInterestingFlickr': false, 'useChromecast': true, 'useAuthors': false, 'useGoogle': true, 'useGoogleAlbums': true, 'albumSelections': [], 'useGooglePhotos': false, }; /** * Set state based on screensaver enabled flag * Note: this does not effect the keep awake settings so you could * use the extension as a display keep awake scheduler without * using the screensaver * @private * @memberOf app.Data */ function _processEnabled() { // update context menu text const label = Chrome.Storage.getBool('enabled') ? Chrome.Locale.localize( 'disable') : Chrome.Locale.localize('enable'); app.Alarm.updateBadgeText(); chromep.contextMenus.update('ENABLE_MENU', { title: label, }).catch(() =&gt; {}); } /** * Set power scheduling features * @private * @memberOf app.Data */ function _processKeepAwake() { Chrome.Storage.getBool('keepAwake') ? chrome.power.requestKeepAwake( 'display') : chrome.power.releaseKeepAwake(); app.Alarm.updateRepeatingAlarms(); app.Alarm.updateBadgeText(); } /** * Set wait time for screen saver display after machine is idle * @private * @memberOf app.Data */ function _processIdleTime() { chrome.idle.setDetectionInterval(app.Data.getIdleSeconds()); } /** * Get default time format based on locale * @returns {int} 12 or 24 * @private * @memberOf app.Data */ function _getTimeFormat() { let ret = 2; // 24 hr const format = Chrome.Locale.localize('time_format'); if (format &amp;&amp; (format === '12')) { ret = 1; } return ret; } /** * Set the 'os' value * @returns {Promise} err on failure * @private * @memberOf app.Data */ function _setOS() { return chromep.runtime.getPlatformInfo().then((info) =&gt; { Chrome.Storage.set('os', info.os); return Promise.resolve(); }); } /** * Save the [_DEF_VALUES]{@link app.Data._DEF_VALUES} items, if they * do not already exist * @private * @memberOf app.Data */ function _addDefaults() { Object.keys(_DEF_VALUES).forEach(function(key) { if (Chrome.Storage.get(key) === null) { Chrome.Storage.set(key, _DEF_VALUES[key]); } }); } /** * Convert a setting-slider value due to addition of units * @param {!string} key - localStorage key * @private * @memberOf app.Data */ function _convertSliderValue(key) { const value = Chrome.Storage.get(key); if (value) { const newValue = { base: value, display: value, unit: 0, }; Chrome.Storage.set(key, newValue); } } return { /** * Initialize the data saved in localStorage * @memberOf app.Data */ initialize: function() { _addDefaults(); // set operating system _setOS().catch(() =&gt; {}); // and the last error Chrome.Storage.clearLastError().catch((err) =&gt; { Chrome.GA.error(err.message, 'Data.initialize'); }); // set time format based on locale Chrome.Storage.set('showTime', _getTimeFormat()); // update state app.Data.processState(); }, /** * Update the data saved in localStorage * @memberOf app.Data */ update: function() { // New items, changes, and removal of unused items can take place // here when the version changes const oldVersion = Chrome.Storage.getInt('version'); if (Number.isNaN(oldVersion) || (_DATA_VERSION &gt; oldVersion)) { // update version number Chrome.Storage.set('version', _DATA_VERSION); } if (!Number.isNaN(oldVersion)) { if (oldVersion &lt; 14) { // background used to be a required permission // installed extensions before the change will keep // this permission on update. // https://stackoverflow.com/a/38278824/4468645 Chrome.Storage.set('permBackground', 'allowed'); Chrome.Storage.set('allowBackground', true); } if (oldVersion &lt; 12) { // picasa used to be a required permission // installed extensions before the change will keep // this permission on update. // https://stackoverflow.com/a/38278824/4468645 Chrome.Storage.set('permPicasa', 'allowed'); } if (oldVersion &lt; 10) { // was setting this without quotes before const oldOS = localStorage.getItem('os'); if (oldOS) { Chrome.Storage.set('os', oldOS); } } if (oldVersion &lt; 8) { // change setting-slider values due to adding units _convertSliderValue('transitionTime'); _convertSliderValue('idleTime'); } } _addDefaults(); // update state app.Data.processState(); }, /** * Restore default values for data saved in localStorage * @memberOf app.Data */ restoreDefaults: function() { Object.keys(_DEF_VALUES).forEach(function(key) { if (!key.includes('useGoogle') &amp;&amp; (key !== 'googlePhotosSelections') &amp;&amp; (key !== 'albumSelections')) { // skip Google photos settings Chrome.Storage.set(key, _DEF_VALUES[key]); } }); // restore default time format based on locale Chrome.Storage.set('showTime', _getTimeFormat()); // update state app.Data.processState(); }, /** * Process changes to localStorage items * @param {string} [key='all'] - the item that changed * @memberOf app.Data */ processState: function(key = 'all') { // Map processing functions to localStorage values const STATE_MAP = { 'enabled': _processEnabled, 'keepAwake': _processKeepAwake, 'activeStart': _processKeepAwake, 'activeStop': _processKeepAwake, 'allowSuspend': _processKeepAwake, 'idleTime': _processIdleTime, }; if (key === 'all') { // process everything Object.keys(STATE_MAP).forEach(function(ky) { const fn = STATE_MAP[ky]; fn(); }); // process photo SOURCES app.PhotoSources.processAll(); // set os, if not already if (!Chrome.Storage.get('os')) { _setOS().catch(() =&gt; {}); } } else { // individual change if (app.PhotoSources.isUseKey(key) || (key === 'fullResGoogle')) { // photo source change const useKey = (key === 'fullResGoogle') ? 'useGoogleAlbums' : key; app.PhotoSources.process(useKey).catch((err) =&gt; { // send message on processing error const msg = app.Msg.PHOTO_SOURCE_FAILED; msg.key = useKey; msg.error = err.message; return Chrome.Msg.send(msg); }).catch(() =&gt; {}); } else { const fn = STATE_MAP[key]; if (typeof(fn) !== 'undefined') { fn(); } } } }, /** * Get the idle time in seconds * @returns {int} idle time in seconds * @memberOf app.Utils */ getIdleSeconds: function() { const idle = Chrome.Storage.get('idleTime'); return idle.base * 60; }, }; })(); × Search results Close "},"sources_photo_source_flickr.js.html":{"id":"sources_photo_source_flickr.js.html","title":"Source: sources/photo_source_flickr.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: sources/photo_source_flickr.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { 'use strict'; window.app = window.app || {}; new ExceptionHandler(); /** * Flickr rest API * @type {string} * @const * @default * @private * @memberOf app.FlickrSource */ const _URL_BASE = 'https://api.flickr.com/services/rest/'; /** * Flickr rest API authorization key * @type {string} * @const * @private * @memberOf app.FlickrSource */ const _KEY = '1edd9926740f0e0d01d4ecd42de60ac6'; /** * Max photos to return * @type {int} * @const * @default * @private * @memberOf app.FlickrSource */ const _MAX_PHOTOS = 250; /** * A potential source of photos from flickr * @alias app.FlickrSource */ app.FlickrSource = class extends app.PhotoSource { /** * Create a new photo source * @param {string} useKey - The key for if the source is selected * @param {string} photosKey - The key for the collection of photos * @param {string} type - A descriptor of the photo source * @param {string} desc - A human readable description of the source * @param {boolean} isDaily - Should the source be updated daily * @param {boolean} isArray - Is the source an Array of photo Arrays * @param {?Object} [loadArg=null] - optional arg for load function * @constructor */ constructor(useKey, photosKey, type, desc, isDaily, isArray, loadArg = null) { super(useKey, photosKey, type, desc, isDaily, isArray, loadArg); } /** * Extract the photos into an Array * @param {JSON} response - server response * @returns {Promise&lt;app.PhotoSource.Photo[]&gt;} Array of photos * @private */ static _processPhotos(response) { if (!response.photos || !response.photos.photo) { const err = new Error(Chrome.Locale.localize('err_photo_source_title')); return Promise.reject(err); } /** @(type) {PhotoSource.SourcePhoto[]} */ const photos = []; for (const photo of response.photos.photo) { let url = null; let width; let height; if (photo &amp;&amp; (photo.media === 'photo') &amp;&amp; (photo.isfriend !== '0') &amp;&amp; (photo.isfamily !== '0')) { url = photo.url_k || url; url = photo.url_o || url; if (url) { if (photo.url_o) { width = parseInt(photo.width_o, 10); height = parseInt(photo.height_o, 10); } else { width = parseInt(photo.width_k, 10); height = parseInt(photo.height_k, 10); } const asp = width / height; let pt = null; if (photo.latitude &amp;&amp; photo.longitude) { pt = app.PhotoSource.createPoint(photo.latitude, photo.longitude); } app.PhotoSource.addPhoto(photos, url, photo.ownername, asp, photo.owner, pt); } } } return Promise.resolve(photos); } /** * Fetch the photos for this source * @returns {Promise&lt;app.PhotoSource.Photo[]&gt;} Array of photos */ fetchPhotos() { let url; if (this._loadArg) { // my photos const userId = '86149994@N06'; url = `${_URL_BASE}?method=flickr.people.getPublicPhotos` + `&amp;api_key=${_KEY}&amp;user_id=${userId}` + `&amp;extras=owner_name,url_o,media,geo&amp;per_page=${_MAX_PHOTOS}` + '&amp;format=json&amp;nojsoncallback=1'; } else { // public photos url = `${_URL_BASE}?method=flickr.interestingness.getList` + `&amp;api_key=${_KEY}&amp;extras=owner_name,url_k,media,geo` + `&amp;per_page=${_MAX_PHOTOS}` + '&amp;format=json&amp;nojsoncallback=1'; } return Chrome.Http.doGet(url).then((response) =&gt; { if (response.stat !== 'ok') { return Promise.reject(new Error(response.message)); } return app.FlickrSource._processPhotos(response); }); } }; })(); × Search results Close "},"my_analytics.js.html":{"id":"my_analytics.js.html","title":"Source: my_analytics.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: my_analytics.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Manage Google Analytics tracking * @namespace */ app.GA = (function() { 'use strict'; /** * Tracking ID * @type {string} * @const * @private * @memberOf app.GA */ const _TRACKING_ID = 'UA-61314754-1'; /** * Event: called when document and resources are loaded&lt;br /&gt; * Initialize Google Analytics * @private * @memberOf app.GA */ function _onLoad() { // initialize analytics Chrome.GA.initialize(_TRACKING_ID, 'Photo Screensaver', 'photo-screen-saver', Chrome.Utils.getVersion()); } // listen for document and resources loaded window.addEventListener('load', _onLoad); })(); × Search results Close "},"screensaver_geo.js.html":{"id":"screensaver_geo.js.html","title":"Source: screensaver/geo.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/geo.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Handle interaction the Google maps geocode API * @namespace */ app.Geo = (function() { 'use strict'; new ExceptionHandler(); /** * Path to Google's geocode api * @type {string} * @const * @default * @private * @memberOf app.Geo */ const _GEOCODE_API = 'http://maps.googleapis.com/maps/api/geocode/json'; /** * A Geo location * @typedef {Object} app.Geo.Location * @property {string} loc - descriptive location * @property {string} point - geo location 'lat lon' * @memberOf app.Geo */ /** * Cache of Geo Locations * @typedef {Object} app.Geo.Cache * @property {app.Geo.Location[]} entries - Array of locations * @property {int} maxSize - max entries to cache * @memberOf app.Geo */ /** * Location cache * @type {app.Geo.Cache} * @private * @memberOf app.Geo */ const _LOC_CACHE = { entries: [], maxSize: 100, }; /** * Try to get (@link app.Geo.Location} from cache * @param {string} point - a geolocation * @returns {app.Geo.Location|undefined} location, undefined if not cached * @memberOf app.Geo * @private */ function _getFromCache(point) { return _LOC_CACHE.entries.find((element) =&gt; { return (element.point === point); }); } /** * Try to get (@link app.Geo.Location} from cache * @param {string} point - a geolocation * @param {string} location - description * @private * @memberOf app.Geo */ function _addToCache(point, location) { _LOC_CACHE.entries.push({ loc: location, point: point, }); if (_LOC_CACHE.entries.length &gt; _LOC_CACHE.maxSize) { // FIFO _LOC_CACHE.entries.shift(); } } /** * Make sure point is in fixed point notation * @param {string} point - 'lat lng' may have exponential notation * @returns {string} 'lat,lng' fixed point notation * @private * @memberOf app.Geo */ function _cleanPoint(point) { let ret = point; try { const stringArray = point.split(' '); if (stringArray.length === 2) { const lat = parseFloat(stringArray[0]).toFixed(8); const lng = parseFloat(stringArray[1]).toFixed(8); ret = `${lat},${lng}`; } } catch (ex) { Chrome.Utils.noop(); } return ret; } return { /** * Get the location string * @param {string} point - 'lat,long' * @returns {Promise&lt;string&gt;} geolocation as string * @memberOf app.Geo */ get: function(point) { if (!Chrome.Storage.getBool('showLocation')) { return Promise.reject(new Error('showLocation is off')); } else if (Chrome.Utils.isWhiteSpace(point)) { return Promise.reject(new Error('point is empty or null')); } // replace any exponential notation const pt = _cleanPoint(point); // check cache const cache = _getFromCache(pt); if (cache) { // retrieve from cache return Promise.resolve(cache.loc); } // get from api - it will translate based on the browser language const url = `${_GEOCODE_API}?latlng=${pt}`; const conf = Chrome.JSONUtils.shallowCopy(Chrome.Http.conf); conf.maxRetries = 2; return Chrome.Http.doGet(url, conf).then((response) =&gt; { let location = ''; if ((response.status === 'OK') &amp;&amp; response.results &amp;&amp; (response.results.length &gt; 0)) { location = response.results[0].formatted_address; // cache it _addToCache(pt, location); } return Promise.resolve(location); }); }, }; })(); × Search results Close "},"sources_photo_source.js.html":{"id":"sources_photo_source.js.html","title":"Source: sources/photo_source.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: sources/photo_source.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { 'use strict'; window.app = window.app || {}; new ExceptionHandler(); /** * A photo from a {@link app.PhotoSource} * This is the photo information that is persisted. * * @typedef {{}} app.PhotoSource.Photo * @property {string} url - The url to the photo * @property {string} author - The photographer * @property {number} asp - The aspect ratio of the photo * @property {Object} [ex] - Additional information about the photo * @property {string} [point] - geolocation 'lat lon' */ /** * The photos for a {@link app.PhotoSource} * * @typedef {{}} app.PhotoSource.Photos * @property {string} type - type of {@link app.PhotoSource} * @property {app.PhotoSource.Photo[]} photos - The photos */ /** * A potential source of photos for the screen saver * @alias app.PhotoSource */ app.PhotoSource = class PhotoSource { /** * Create a new photo source * @param {string} useKey - The key for if the source is selected * @param {string} photosKey - The key for the collection of photos * @param {string} type - A descriptor of the photo source * @param {string} desc - A human readable description of the source * @param {boolean} isDaily - Should the source be updated daily * @param {boolean} isArray - Is the source an Array of photo Arrays * @param {?Object} [loadArg=null] - optional arg for load function * @constructor */ constructor(useKey, photosKey, type, desc, isDaily, isArray, loadArg = null) { this._useKey = useKey; this._photosKey = photosKey; this._type = type; this._desc = desc; this._isDaily = isDaily; this._isArray = isArray; this._loadArg = loadArg; // set the user facing description } /** * Factory Method to create a new {@link app.PhotoSource} * @param {app.PhotoSources.UseKey} useKey - photo source useKey * @returns {?app.PhotoSource} a new PhotoSource or subclass * @static */ static createSource(useKey) { switch (useKey) { case app.PhotoSources.UseKey.ALBUMS_GOOGLE: return new app.GoogleSource(useKey, 'albumSelections', 'Google User', Chrome.Locale.localize('google_title_photos'), true, true, true); case app.PhotoSources.UseKey.PHOTOS_GOOGLE: // not implemented yet return new app.GoogleSource(useKey, 'googleImages', 'Google User', 'NOT IMPLEMENTED', true, false, false); case app.PhotoSources.UseKey.CHROMECAST: return new app.CCSource(useKey, 'ccImages', 'Google', Chrome.Locale.localize('setting_chromecast'), false, false, null); case app.PhotoSources.UseKey.ED_500: return new app.Px500Source(useKey, 'editors500pxImages', '500', Chrome.Locale.localize('setting_500editors'), true, false, 'editors'); case app.PhotoSources.UseKey.POP_500: return new app.Px500Source(useKey, 'popular500pxImages', '500', Chrome.Locale.localize('setting_500popular'), true, false, 'popular'); case app.PhotoSources.UseKey.YEST_500: return new app.Px500Source(useKey, 'yesterday500pxImages', '500', Chrome.Locale.localize('setting_500yest'), true, false, 'fresh_yesterday'); case app.PhotoSources.UseKey.INT_FLICKR: return new app.FlickrSource(useKey, 'flickrInterestingImages', 'flickr', Chrome.Locale.localize('setting_flickr_int'), true, false, false); case app.PhotoSources.UseKey.AUTHOR: return new app.FlickrSource(useKey, 'authorImages', 'flickr', Chrome.Locale.localize('setting_mine'), false, false, true); case app.PhotoSources.UseKey.SPACE_RED: return new app.RedditSource(useKey, 'spaceRedditImages', 'reddit', Chrome.Locale.localize('setting_reddit_space'), true, false, 'r/spaceporn/'); case app.PhotoSources.UseKey.EARTH_RED: return new app.RedditSource(useKey, 'earthRedditImages', 'reddit', Chrome.Locale.localize('setting_reddit_earth'), true, false, 'r/EarthPorn/'); case app.PhotoSources.UseKey.ANIMAL_RED: return new app.RedditSource(useKey, 'animalRedditImages', 'reddit', Chrome.Locale.localize('setting_reddit_animal'), true, false, 'r/animalporn/'); default: // TODO title Chrome.Log.error(`Bad PhotoSource type: ${useKey}`, 'SSView.createView'); return null; } } /** * Add a {@link app.PhotoSource.Photo} to an existing Array * @param {Array} photos - {@link app.PhotoSource.Photo} Array * @param {string} url - The url to the photo * @param {string} author - The photographer * @param {number} asp - The aspect ratio of the photo * @param {Object} [ex] - Additional information about the photo * @param {string} [point] - 'lat lon' */ static addPhoto(photos, url, author, asp, ex, point) { /** @type {app.PhotoSource.Photo} */ const photo = { url: url, author: author, asp: asp.toPrecision(3), }; if (ex) { photo.ex = ex; } if (point) { photo.point = point; } photos.push(photo); } /** * Create a geo point string from a latitude and longitude * @param {number} lat - latitude * @param {number} lon - longitude * @returns {string} 'lat lon' * @memberOf app.Geo */ static createPoint(lat, lon) { if ((typeof lat === 'number') &amp;&amp; (typeof lon === 'number')) { return `${lat.toFixed(6)} ${lon.toFixed(6)}`; } else { return `${lat} ${lon}`; } } /** * Fetch the photos for this source - override * @abstract * @returns {Promise&lt;app.PhotoSource.Photo[]&gt;} Array of photos */ fetchPhotos() { } /** * Get if we should update daily * @returns {boolean} if true, update daily */ isDaily() { return this._isDaily; } /** * Get the photos from local storage * @returns {app.PhotoSource.Photos} the photos */ getPhotos() { let ret = { type: this._type, photos: [], }; if (this.use()) { let photos = []; if (this._isArray) { let items = Chrome.Storage.get(this._photosKey); // could be that items have not been retrieved yet items = items || []; for (const item of items) { photos = photos.concat(item.photos); } } else { photos = Chrome.Storage.get(this._photosKey); // could be that items have not been retrieved yet photos = photos || []; } ret.photos = photos; } return ret; } /** * Determine if this source has been selected for display * @returns {boolean} true if selected */ use() { return Chrome.Storage.getBool(this._useKey); } /** * Process the photo source. * @returns {Promise&lt;void&gt;} void */ process() { if (this.use()) { return this.fetchPhotos().then((photos) =&gt; { const errMess = this._savePhotos(photos); if (!Chrome.Utils.isWhiteSpace(errMess)) { return Promise.reject(new Error(errMess)); } return Promise.resolve(); }).catch((err) =&gt; { let title = Chrome.Locale.localize('err_photo_source_title'); title += `: ${this._desc}`; Chrome.Log.error(err.message, 'PhotoSource.process', title); return Promise.reject(err); }); } else { localStorage.removeItem(this._photosKey); return Promise.resolve(); } } /** * Save the photos to localStorage in a safe manner * @param {app.PhotoSource.Photo[]} photos * - {@link app.PhotoSource.Photo} Array * @returns {?string} non-null on error * @private */ _savePhotos(photos) { let ret = null; const keyBool = this._useKey; if (photos &amp;&amp; photos.length) { const set = Chrome.Storage.safeSet(this._photosKey, photos, keyBool); if (!set) { ret = 'Exceeded storage capacity.'; } } return ret; } }; })(); × Search results Close "},"sources_photo_source_google.js.html":{"id":"sources_photo_source_google.js.html","title":"Source: sources/photo_source_google.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: sources/photo_source_google.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { 'use strict'; window.app = window.app || {}; new ExceptionHandler(); /** * A Google Photo Album * @typedef {Object} app.GoogleSource.Album * @property {int} index - Array index * @property {string} uid - unique identifier * @property {string} name - album name * @property {string} id - Google album Id * @property {string} thumb - thumbnail url * @property {boolean} checked - is album selected * @property {int} ct - number of photos * @property {app.PhotoSource.Photo[]} photos - Array of photos * @memberOf app.GoogleSource */ /** * A Selected Google Photo Album * @typedef {Object} app.GoogleSource.SelectedAlbum * @property {string} id - Google album Id * @property {app.PhotoSource.Photo[]} photos - Array of photos * @memberOf app.GoogleSource */ /** * Path to Picasa API * @type {string} * @const * @default * @private * @memberOf app.GoogleSource */ const _URL_BASE = 'https://picasaweb.google.com/data/feed/api/user/'; /** * Picasa API extension good through 3/15/2019 * @type {string} * @const * @default * @private * @memberOf app.GoogleSource */ const _EXT_QUERY = '&amp;deprecation-extension=true'; /** * Query for list of albums * @type {string} * @const * @default * @private * @memberOf app.GoogleSource */ const _ALBUMS_QUERY = '?max-results=2000&amp;access=all&amp;kind=album' + '&amp;fields=entry(gphoto:albumType,gphoto:id)&amp;v=2&amp;alt=json' + _EXT_QUERY; /** * Query an album for its photos * @type {string} * @const * @default * @private * @memberOf app.GoogleSource */ const _ALBUM_QUERY = '&amp;thumbsize=72' + '&amp;fields=title,gphoto:id,entry(media:group/media:content,' + 'media:group/media:credit,media:group/media:thumbnail,georss:where)' + '&amp;v=2&amp;alt=json' + _EXT_QUERY; /** * A potential source of photos from Google * @alias app.GoogleSource */ app.GoogleSource = class extends app.PhotoSource { /** * Create a new photo source * @param {string} useKey - The key for if the source is selected * @param {string} photosKey - The key for the collection of photos * @param {string} type - A descriptor of the photo source * @param {string} desc - A human readable description of the source * @param {boolean} isDaily - Should the source be updated daily * @param {boolean} isArray - Is the source an Array of photo Arrays * @param {?Object} [loadArg=null] - optional arg for load function * @constructor */ constructor(useKey, photosKey, type, desc, isDaily, isArray, loadArg = null) { super(useKey, photosKey, type, desc, isDaily, isArray, loadArg); } /** Determine if a Picasa entry is an image * @param {Object} entry - Picasa media object * @returns {boolean} true if entry is a photo * @private */ static _isImage(entry) { const content = entry.media$group.media$content; for (let i = 0; i &lt; content.length; i++) { if (content[i].medium !== 'image') { return false; } } return true; } /** Get max image size to retrieve * @returns {string} image size description * @private */ static _getMaxImageSize() { let ret = '1600'; if (Chrome.Storage.getBool('fullResGoogle')) { ret = 'd'; } return ret; } /** Determine if a Picasa entry has Geo position * @param {Object} entry - Picasa media object * @returns {boolean} true if entry has Geo position * @private */ static _hasGeo(entry) { return !!(entry.georss$where &amp;&amp; entry.georss$where.gml$Point &amp;&amp; entry.georss$where.gml$Point.gml$pos &amp;&amp; entry.georss$where.gml$Point.gml$pos.$t); } /** Get the thumbnail url if it exists * @param {Array} entry - Picasa media object * @returns {?string} url or null * @private */ static _getThumbnail(entry) { let ret = null; if (entry.length &amp;&amp; entry[0].media$group &amp;&amp; entry[0].media$group.media$thumbnail[0]) { ret = entry[0].media$group.media$thumbnail[0].url; } return ret; } /** * Extract the Picasa photos into an Array * @param {Object} root - root object from Picasa API call * @returns {app.PhotoSource.Photo[]} Array of photos * @private */ static _processPhotos(root) { const photos = []; if (root) { const feed = root.feed; const entries = feed.entry || []; for (const entry of entries) { if (app.GoogleSource._isImage(entry)) { const url = entry.media$group.media$content[0].url; const width = entry.media$group.media$content[0].width; const height = entry.media$group.media$content[0].height; const asp = width / height; const author = entry.media$group.media$credit[0].$t; let point; if (app.GoogleSource._hasGeo(entry)) { point = entry.georss$where.gml$Point.gml$pos.$t; } app.PhotoSource.addPhoto(photos, url, author, asp, {}, point); } } } return photos; } /** * Retrieve a Google Photos album * @param {string} albumId - Picasa album ID * @param {string} [userId='default'] - userId for non-authenticated request * @returns {Promise&lt;Object&gt;} Root object from Picasa call null if not found * @private */ static _loadAlbum(albumId, userId = 'default') { const imageMax = app.GoogleSource._getMaxImageSize(); const queryParams = `?imgmax=${imageMax}${_ALBUM_QUERY}`; const url = `${_URL_BASE}${userId}/albumid/${albumId}/${queryParams}`; if (userId === 'default') { const conf = Chrome.JSONUtils.shallowCopy(Chrome.Http.conf); conf.isAuth = true; return Chrome.Http.doGet(url, conf).catch((err) =&gt; { const statusMsg = `${Chrome.Locale.localize('err_status')}: 404`; if (err.message.includes(statusMsg)) { // album was probably deleted return Promise.resolve(null); } else { return Promise.reject(err); } }); } else { return Chrome.Http.doGet(url); } } /** * Retrieve the users list of albums, including the photos in each * @returns {Promise&lt;app.GoogleSource.Album[]&gt;} Array of albums */ static loadAlbumList() { const url = `${_URL_BASE}default/${_ALBUMS_QUERY}`; // get list of albums const conf = Chrome.JSONUtils.shallowCopy(Chrome.Http.conf); conf.isAuth = true; conf.retryToken = true; conf.interactive = true; return Chrome.Http.doGet(url, conf).then((root) =&gt; { if (!root || !root.feed || !root.feed.entry) { const err = new Error(Chrome.Locale.localize('err_no_albums')); return Promise.reject(err); } const feed = root.feed; const entries = feed.entry || []; const promises = []; for (const entry of entries) { // series of API calls to get each album if (!entry.gphoto$albumType) { // skip special albums (e.g. Google+ posts, backups) const albumId = entry.gphoto$id.$t; promises.push(app.GoogleSource._loadAlbum(albumId)); } } // Collate the albums return Promise.all(promises); }).then((vals) =&gt; { /** @type {app.GoogleSource.Album[]} */ let albums = []; let ct = 0; const values = vals || []; for (const value of values) { if (value !== null) { const feed = value.feed; if (feed &amp;&amp; feed.entry) { const thumb = app.GoogleSource._getThumbnail(feed.entry); const photos = app.GoogleSource._processPhotos(value); if (photos &amp;&amp; photos.length) { /** @type {app.GoogleSource.Album} */ const album = {}; album.index = ct; album.uid = 'album' + ct; album.name = feed.title.$t; album.id = feed.gphoto$id.$t; album.ct = photos.length; album.thumb = thumb; album.checked = false; album.photos = photos; albums.push(album); ct++; } } } } return Promise.resolve(albums); }); } /** * Fetch the photos for the selected albums * @returns {Promise&lt;app.PhotoSource.Photo[]&gt;} Array of photos */ static _fetchAlbumPhotos() { let vals = Chrome.Storage.get('albumSelections'); // series of API calls to get each album const promises = []; const albums = vals || []; for (const album of albums) { promises.push(app.GoogleSource._loadAlbum(album.id)); } // Collate the albums return Promise.all(promises).then((vals) =&gt; { /** @type {app.GoogleSource.SelectedAlbum[]} */ const albums = []; const values = vals || []; for (const value of values) { if (value) { const feed = value.feed; const photos = app.GoogleSource._processPhotos(value); if (photos &amp;&amp; photos.length) { albums.push({ id: feed.gphoto$id.$t, photos: photos, }); } } } return Promise.resolve(albums); }); } /** * Fetch the photos for this source * @returns {Promise&lt;app.PhotoSource.Photo[]&gt;} Array of photos */ fetchPhotos() { return app.GoogleSource._fetchAlbumPhotos(); } }; })(); × Search results Close "},"my_msg.js.html":{"id":"my_msg.js.html","title":"Source: my_msg.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: my_msg.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Wrapper for chrome messages * @see https://developer.chrome.com/extensions/messaging * @namespace */ app.Msg = (function() { 'use strict'; new ExceptionHandler(); /** * Chrome Messages * @type {{}} * @property {Chrome.Msg.Message} SS_SHOW - show screensaver * @property {Chrome.Msg.Message} SS_CLOSE - close screensaver * @property {Chrome.Msg.Message} SS_IS_SHOWING - is a screensaver showing * @property {Chrome.Msg.Message} PHOTO_SOURCE_FAILED - failed to web load * @const * @memberOf app.Msg */ const _MSG = { SS_SHOW: { message: 'showScreensaver', }, SS_CLOSE: { message: 'closeScreensaver', }, SS_IS_SHOWING: { message: 'isScreensaverShowing', }, PHOTO_SOURCE_FAILED: { message: 'photoSourceFailed', key: '', error: '', }, }; return { SS_SHOW: _MSG.SS_SHOW, SS_CLOSE: _MSG.SS_CLOSE, SS_IS_SHOWING: _MSG.SS_IS_SHOWING, PHOTO_SOURCE_FAILED: _MSG.PHOTO_SOURCE_FAILED, }; })(); × Search results Close "},"options_permissions.js.html":{"id":"options_permissions.js.html","title":"Source: options/permissions.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: options/permissions.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Handle optional permissions * @namespace */ app.Permissions = (function() { 'use strict'; new ExceptionHandler(); const chromep = new ChromePromise(); /** * A permission state enum * @typedef {{}} app.Permissions.State * @property {string} notSet - never been allowed or denied * @property {string} allowed - user allowed * @property {string} denied - user denied * @memberOf app.Permissions */ /** * A permission type * @typedef {{}} app.Permissions.Type * @property {string} name - name in localStorage * @property {string[]} permissions - array of permissions * @property {string[]} origins - array of origins * @memberOf app.Permissions */ /** * Possible states of an {@link app.Permissions.Type} * @type {app.Permissions.State} * @const * @private * @memberOf app.Permissions */ const _STATE = { notSet: 'notSet', allowed: 'allowed', denied: 'denied', }; /** * Permission for access to users' Google Photos * @const * @type {app.Permissions.Type} * @memberOf app.Permissions */ const PICASA = { name: 'permPicasa', permissions: [], origins: ['https://picasaweb.google.com/'], }; /** * Permission for running in background * @const * @type {app.Permissions.Type} * @memberOf app.Permissions */ const BACKGROUND = { name: 'permBackground', permissions: ['background'], origins: [], }; /** * Persist the state of an {@link app.Permissions.Type} * @param {app.Permissions.Type} type - permission type * @param {string} value - permission state * @private * @memberOf app.Permissions */ function _setState(type, value) { // send message to store value so items that are bound // to it will get storage event const msg = Chrome.JSONUtils.shallowCopy(Chrome.Msg.STORE); msg.key = type.name; msg.value = value; Chrome.Msg.send(msg).catch(() =&gt; {}); } /** * Determine if we have the optional permissions * @param {app.Permissions.Type} type - permission type * @returns {Promise&lt;boolean&gt;} true if we have permissions * @memberOf app.Permissions */ function _contains(type) { return chromep.permissions.contains({ permissions: type.permissions, origins: type.origins, }); } return { /** * @type {app.Permissions.Type} * @memberOf app.Permissions */ PICASA: PICASA, /** * @type {app.Permissions.Type} * @memberOf app.Permissions */ BACKGROUND: BACKGROUND, /** * Has user made choice on permissions * @param {app.Permissions.Type} type - permission type * @returns {boolean} true if allowed or denied * @memberOf app.Permissions */ notSet: function(type) { return Chrome.Storage.get(type.name) === _STATE.notSet; }, /** * Has the user allowed the optional permissions * @param {app.Permissions.Type} type - permission type * @returns {boolean} true if allowed * @memberOf app.Permissions */ isAllowed: function(type) { return Chrome.Storage.get(type.name) === _STATE.allowed; }, /** * Request optional permission - may block * @param {app.Permissions.Type} type - permission type * @returns {Promise&lt;boolean&gt;} true if permission granted * @memberOf app.Permissions */ request: function(type) { let isGranted; return chromep.permissions.request({ permissions: type.permissions, origins: type.origins, }).then((granted) =&gt; { isGranted = granted; if (granted) { _setState(type, _STATE.allowed); return Promise.resolve(); } else { _setState(type, _STATE.denied); // try to remove if it has been previously granted return app.Permissions.remove(type); } }).then(() =&gt; { return Promise.resolve(isGranted); }); }, /** * Remove the optional permissions * @param {app.Permissions.Type} type - permission type * @returns {Promise&lt;boolean&gt;} true if removed * @memberOf app.Permissions */ remove: function(type) { return _contains(type).then((contains) =&gt; { if (contains) { // try to remove permission return chromep.permissions.remove({ permissions: type.permissions, origins: type.origins, }); } else { return Promise.resolve(false); } }).then((removed) =&gt; { if (removed) { _setState(type, _STATE.notSet); } return Promise.resolve(removed); }); }, }; })(); × Search results Close "},"sources_photo_sources.js.html":{"id":"sources_photo_sources.js.html","title":"Source: sources/photo_sources.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: sources/photo_sources.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Manage the {@link app.PhotoSource} objects * @namespace */ app.PhotoSources = (function() { 'use strict'; new ExceptionHandler(); /** * Enum for {@link app.PhotoSource} useKey * @typedef {enum} app.PhotoSources.UseKey * @readonly * @enum {int} * @memberOf app.PhotoSources */ const UseKey = { ALBUMS_GOOGLE: 'useGoogleAlbums', PHOTOS_GOOGLE: 'useGooglePhotos', CHROMECAST: 'useChromecast', ED_500: 'useEditors500px', POP_500: 'usePopular500px', YEST_500: 'useYesterday500px', SPACE_RED: 'useSpaceReddit', EARTH_RED: 'useEarthReddit', ANIMAL_RED: 'useAnimalReddit', INT_FLICKR: 'useInterestingFlickr', AUTHOR: 'useAuthors', }; /** * Get the selected sources from local storage * @returns {app.PhotoSource[]} Array of sources * @private * @memberOf app.PhotoSources */ function _getSelectedSources() { let ret = []; for (const key in UseKey) { if (UseKey.hasOwnProperty(key)) { const useKey = UseKey[key]; if (Chrome.Storage.getBool(useKey)) { try { const source = app.PhotoSource.createSource(useKey); if (source) { ret.push(source); } } catch (ex) { Chrome.GA.exception(ex, `${useKey} failed to load`, false); } } } } return ret; } return { UseKey: UseKey, /** * Get all the useage keys * @returns {string[]} Array of useage keys * @memberOf app.PhotoSources */ getUseKeys: function() { let ret = []; for (const key in UseKey) { if (UseKey.hasOwnProperty(key)) { ret.push(UseKey[key]); } } return ret; }, /** * Determine if a given key is a photo source * @param {string} keyName - key to check * @returns {boolean} true if photo source * @memberOf app.PhotoSources */ isUseKey: function(keyName) { let ret = false; for (const key in UseKey) { if (UseKey.hasOwnProperty(key)) { if (UseKey[key] === keyName) { ret = true; break; } } } return ret; }, /** * Process the given photo source and save to localStorage. * @param {string} useKey - The photo source to retrieve * @returns {Promise&lt;void&gt;} void * @memberOf app.PhotoSources */ process: function(useKey) { try { const source = app.PhotoSource.createSource(useKey); if (source) { return source.process(); } } catch (ex) { Chrome.GA.exception(ex, `${useKey} failed to load`, false); return Promise.reject(ex); } }, /** * Get all the photos from all selected sources. These will be * used by the screensaver. * @returns {app.PhotoSource.Photos[]} Array of sources photos * @memberOf app.PhotoSources */ getSelectedPhotos: function() { const sources = _getSelectedSources(); let ret = []; for (const source of sources) { ret.push(source.getPhotos()); } return ret; }, /** * Process all the selected photo sources. * This normally requires a https call and may fail for various reasons * @memberOf app.PhotoSources */ processAll: function() { const sources = _getSelectedSources(); for (const source of sources) { source.process().catch(() =&gt; {}); } }, /** * Process all the selected photo sources that are to be * updated every day. * This normally requires a https call and may fail for various reasons * @memberOf app.PhotoSources */ processDaily: function() { const sources = _getSelectedSources(); for (const source of sources) { if (source.isDaily()) { source.process().catch(() =&gt; {}); } } }, }; })(); × Search results Close "},"sources_photo_source_500px.js.html":{"id":"sources_photo_source_500px.js.html","title":"Source: sources/photo_source_500px.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: sources/photo_source_500px.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { 'use strict'; window.app = window.app || {}; new ExceptionHandler(); /** * 500px rest API * @type {string} * @const * @default * @private * @memberOf app.Px500Source */ const _URL_BASE = 'https://api.500px.com/v1/'; /** * API authorization key * @type {string} * @const * @private * @memberOf app.Px500Source */ const _KEY = 'iyKV6i6wu0R8QUea9mIXvEsQxIF0tMRVXopwYcFC'; /** * Max photos to return - 100 is API max * @type {int} * @const * @default * @private * @memberOf app.Px500Source */ const _MAX_PHOTOS = 90; /** * Categories to use Make them an array to overcome 100 photo limit per call * @type {Array} * @const * @default * @private * @memberOf app.Px500Source */ const _CATS = [ 'Nature,City and Architecture', 'Landscapes,Animals', 'Macro,Still Life,Underwater', ]; /** * A potential source of photos from 500px * @alias app.Px500Source */ app.Px500Source = class extends app.PhotoSource { /** * Create a new photo source * @param {string} useKey - The key for if the source is selected * @param {string} photosKey - The key for the collection of photos * @param {string} type - A descriptor of the photo source * @param {string} desc - A human readable description of the source * @param {boolean} isDaily - Should the source be updated daily * @param {boolean} isArray - Is the source an Array of photo Arrays * @param {?Object} [loadArg=null] - optional arg for load function * @constructor */ constructor(useKey, photosKey, type, desc, isDaily, isArray, loadArg = null) { super(useKey, photosKey, type, desc, isDaily, isArray, loadArg); } /** * Call API to get some photos * @param {string} url - server url * @returns {Promise&lt;app.PhotoSource.Photo[]&gt;} Array of photos * @private */ static _doGet(url) { return Chrome.Http.doGet(url).then((response) =&gt; { if (response.error) { return Promise.reject(new Error(response.error)); } const photos = []; for (const photo of response.photos) { if (!photo.nsfw) { const asp = photo.width / photo.height; let ex = null; let pt = null; if (photo.latitude &amp;&amp; photo.longitude) { pt = app.PhotoSource.createPoint(photo.latitude, photo.longitude); ex = {}; } app.PhotoSource.addPhoto(photos, photo.images[0].url, photo.user.fullname, asp, ex, pt); } } return Promise.resolve(photos); }); } /** * Fetch the photos for this source * @returns {Promise&lt;app.PhotoSource.Photo[]&gt;} Array of photos */ fetchPhotos() { const type = this._loadArg; // series of API calls const promises = []; for (const _CAT of _CATS) { let url = `${_URL_BASE}photos/?consumer_key=${_KEY}&amp;feature=${type}` + `&amp;only=${_CAT}&amp;rpp=${_MAX_PHOTOS}` + '&amp;sort=rating&amp;image_size=2048'; promises.push(app.Px500Source._doGet(url)); } // Collate the photos return Promise.all(promises).then((values) =&gt; { let photos = []; for (const value of values) { photos = photos.concat(value); } return Promise.resolve(photos); }); } }; })(); × Search results Close "},"sources_photo_source_reddit.js.html":{"id":"sources_photo_source_reddit.js.html","title":"Source: sources/photo_source_reddit.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: sources/photo_source_reddit.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { 'use strict'; window.app = window.app || {}; new ExceptionHandler(); /** * Extension's redirect uri * @type {string} * @const * @private * @memberOf app.RedditSource */ const _REDIRECT_URI = `https://${chrome.runtime.id}.chromiumapp.org/reddit`; /** * Reddit rest API authorization key * @type {string} * @const * @private * @memberOf app.RedditSource */ const _KEY = 'bATkDOUNW_tOlg'; /** * Max photos to return * @type {int} * @const * @default * @private * @memberOf app.RedditSource */ const _MAX_PHOTOS = 100; /** * Min size of photo to use * @type {int} * @const * @default * @private * @memberOf app.RedditSource */ const _MIN_SIZE = 750; /** * Max size of photo to use * @type {int} * @const * @default * @private * @memberOf app.RedditSource */ const _MAX_SIZE = 3500; /** * Expose reddit API * @type {Function} * @private * @memberOf app.RedditSource */ let _snoocore; /** * A potential source of photos from reddit * @alias app.RedditSource */ app.RedditSource = class extends app.PhotoSource { /** * Create a new photo source * @param {string} useKey - The key for if the source is selected * @param {string} photosKey - The key for the collection of photos * @param {string} type - A descriptor of the photo source * @param {string} desc - A human readable description of the source * @param {boolean} isDaily - Should the source be updated daily * @param {boolean} isArray - Is the source an Array of photo Arrays * @param {?Object} [loadArg=null] - optional arg for load function * @constructor */ constructor(useKey, photosKey, type, desc, isDaily, isArray, loadArg = null) { super(useKey, photosKey, type, desc, isDaily, isArray, loadArg); } /** * Parse the size from the submission title. * this is the old way reddit did it * @param {string} title - submission title * @returns {{width: int, height: int}} Photo size * @private */ static _getSize(title) { const ret = {width: -1, height: -1}; const regex = /\\[(\\d*)\\D*(\\d*)\\]/; const res = title.match(regex); if (res) { ret.width = parseInt(res[1], 10); ret.height = parseInt(res[2], 10); } return ret; } /** * Build the list of photos for one page of items * @param {Array} children - Array of objects from reddit * @returns {app.PhotoSource.Photo[]} Array of photos * @private */ static _processChildren(children) { const photos = []; let url; let width = 1; let height = 1; for (const child of children) { const data = child.data; if (!data.over_18) { // skip NSFW if (data.preview &amp;&amp; data.preview.images) { // new way. has full size image and array of reduced // resolutions let item = data.preview.images[0]; url = item.source.url; width = parseInt(item.source.width, 10); height = parseInt(item.source.height, 10); if (Math.max(width, height) &gt; _MAX_SIZE) { // too big. get the largest reduced resolution image item = item.resolutions[item.resolutions.length - 1]; url = item.url.replace(/&amp;amp;/g, '&amp;'); width = parseInt(item.width, 10); height = parseInt(item.height, 10); } } else if (data.title) { // old way of specifying images - parse size from title const size = app.RedditSource._getSize(data.title); url = data.url; width = size.width; height = size.height; } } const asp = width / height; const author = data.author; if (asp &amp;&amp; !isNaN(asp) &amp;&amp; (Math.max(width, height) &gt;= _MIN_SIZE) &amp;&amp; (Math.max(width, height) &lt;= _MAX_SIZE)) { app.PhotoSource.addPhoto(photos, url, author, asp, data.url); } } return photos; } /** * Fetch the photos for this source * @returns {Promise&lt;app.PhotoSource.Photo[]&gt;} Array of photos */ fetchPhotos() { let photos = []; if (!_snoocore) { return Promise.reject(new Error('Snoocore library failed to load')); } return _snoocore(`${this._loadArg}hot`).listing({ limit: _MAX_PHOTOS, }).then((slice) =&gt; { photos = photos.concat(app.RedditSource._processChildren(slice.children)); return slice.next(); }).then((slice) =&gt; { photos = photos.concat(app.RedditSource._processChildren(slice.children)); return Promise.resolve(photos); }).catch((err) =&gt; { let msg = err.message; if (msg) { // extract first sentence const idx = msg.indexOf('.'); if (idx !== -1) { msg = msg.substring(0, idx + 1); } } else { msg = 'Unknown Error'; } return Promise.reject(new Error(msg)); }); } }; /** * Event: called when document and resources are loaded * @private * @memberOf Background */ function _onLoad() { try { const Snoocore = window.Snoocore; if (typeof Snoocore !== 'undefined') { _snoocore = new Snoocore({ userAgent: 'photo-screen-saver', throttle: 0, oauth: { type: 'implicit', key: _KEY, redirectUri: _REDIRECT_URI, scope: ['read'], }, }); } } catch (ex) { Chrome.GA.exception(ex, 'Snoocore library failed to load', false); _snoocore = null; } } // listen for document and resources loaded window.addEventListener('load', _onLoad); })(window); × Search results Close "},"screensaver_screensaver.js.html":{"id":"screensaver_screensaver.js.html","title":"Source: screensaver/screensaver.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/screensaver.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * A screensaver * @namespace */ app.Screensaver = (function() { 'use strict'; new ExceptionHandler(); /** * Main auto-binding template * @typedef {Element} app.Screensaver.Template * @property {Array&lt;app.SSView&gt;} _views - array of views * @property {?string} sizingType - the way an image is rendered * @property {int} aniType - the animation type for photo transitions * @property {int} screenWidth - screen width in pixels * @property {int} screenHeight - screen height in pixels * @property {boolean} paused - true if slideshow paused * @property {boolean} noPhotos - true if there are no usable photos * @property {string} noPhotosLabel - label when no photos are usable * @property {string} timeLabel - current time label * @property {Function} set - Polymer setter * @property {Function} push - Polymer pusher * @memberOf app.Screensaver */ /** * Main auto-binding template * @type {app.Screensaver.Template} * @const * @private * @memberOf app.Screensaver */ const t = document.querySelector('#t'); t.sizingType = null; t.screenWidth = screen.width; t.screenHeight = screen.height; t.aniType = 0; t.paused = false; t.noPhotos = false; t.noPhotosLabel = ''; t.timeLabel = ''; /** * Event: Template Bound, bindings have resolved and content has been * stamped to the page * @private * @memberOf app.Screensaver */ function _onDomChange() { // set selected background image document.body.style.background = Chrome.Storage.get('background').substring(11); Chrome.GA.page('/screensaver.html'); // register event listeners app.SSEvents.initialize(); _setZoom(); _setupPhotoTransitions(); app.Screensaver.launch(); } /** * Process settings related to between photo transitions * @private * @memberOf app.Screensaver */ function _setupPhotoTransitions() { let type = Chrome.Storage.getInt('photoTransition', 0); if (type === 8) { // pick random transition type = Chrome.Utils.getRandomInt(0, 7); } t.set('aniType', type); app.SSTime.initialize(); } /** * Set the window zoom factor to 1.0 * @private * @memberOf app.Screensaver */ function _setZoom() { if (Chrome.Utils.getChromeVersion() &gt;= 42) { // override zoom factor to 1.0 - chrome 42 and later const chromep = new ChromePromise(); chromep.tabs.getZoom().then((zoomFactor) =&gt; { if ((zoomFactor &lt;= 0.99) || (zoomFactor &gt;= 1.01)) { chrome.tabs.setZoom(1.0); } return null; }).catch((err) =&gt; { Chrome.Log.error(err.message, 'chromep.tabs.getZoom'); }); } } // listen for dom-change t.addEventListener('dom-change', _onDomChange); return { /** * Launch the slide show * @param {int} [delay=2000] - delay before start * @memberOf app.Screensaver */ launch: function(delay = 2000) { const hasPhotos = app.SSBuilder.build(); if (hasPhotos) { // kick off the slide show if there are photos selected app.SSRunner.start(delay); } }, /** * Create the {@link app.SSViews} that will be animated * @memberOf app.Screensaver */ createPages: function() { app.SSViews.create(t); }, /** * Set the sizing type for the paper-image elements * @param {string} type The sizing type * @memberOf app.Screensaver */ setSizingType: function(type) { t.set('sizingType', type); }, /** * Do we have usable photos * @returns {boolean} true if all photos are bad * @memberOf app.Screensaver */ noPhotos: function() { return t.noPhotos; }, /** * Set the state when no photos are available * @memberOf app.Screensaver */ setNoPhotos: function() { t.set('noPhotos', true); t.noPhotosLabel = Chrome.Locale.localize('no_photos'); }, /** * Set the time label * @param {string} label - current time * @memberOf app.Screensaver */ setTimeLabel: function(label) { t.timeLabel = label; }, /** * Set the state when slideshow is paused * @param {boolean} paused - paused state * @memberOf app.Screensaver */ setPaused: function(paused) { t.paused = paused; if (paused) { t.$.pauseImage.classList.add('fadeOut'); t.$.playImage.classList.remove('fadeOut'); } else { t.$.playImage.classList.add('fadeOut'); t.$.pauseImage.classList.remove('fadeOut'); } }, }; })(); × Search results Close "},"screensaver_ss_builder.js.html":{"id":"screensaver_ss_builder.js.html","title":"Source: screensaver/ss_builder.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/ss_builder.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Builder for a {@link app.Screensaver} * @namespace */ app.SSBuilder = (function() { 'use strict'; new ExceptionHandler(); /** * Build the {@link app.SSPhotos} that will be displayed * @returns {boolean} true if there is at least one photo * @private * @memberOf app.SSBuilder */ function _loadPhotos() { let sources = app.PhotoSources.getSelectedPhotos(); sources = sources || []; for (const source of sources) { app.SSPhotos.addFromSource(source); } if (!app.SSPhotos.getCount()) { // No usable photos app.Screensaver.setNoPhotos(); return false; } if (Chrome.Storage.getBool('shuffle')) { // randomize the order app.SSPhotos.shuffle(); } return true; } return { /** * Build everything related to a {@link app.Screensaver} * @returns {boolean} true if there are photos for the show * @memberOf app.SSBuilder */ build: function() { // load the photos for the slide show const hasPhotos = _loadPhotos(); if (hasPhotos) { // create the animated pages app.Screensaver.createPages(); // initialize the photo finder app.SSFinder.initialize(); } return hasPhotos; }, }; })(); × Search results Close "},"background_ss_controller.js.html":{"id":"background_ss_controller.js.html","title":"Source: background/ss_controller.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: background/ss_controller.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Controller for the screen saver * @namespace */ app.SSControl = (function() { 'use strict'; new ExceptionHandler(); const chromep = new ChromePromise(); /** * Screensaver URL * @type {string} * @const * @private * @memberOf app.SSControl */ const _SS_URL = '/html/screensaver.html'; /** * Error showing Screensaver * @type {string} * @const * @private * @memberOf app.SSControl */ const _ERR_SHOW = Chrome.Locale.localize('err_show_ss'); /** * Determine if there is a full screen chrome window running on a display * @param {Object} display - a connected display * @returns {Promise&lt;boolean&gt;} true if there is a full screen * window on the display * @private * @memberOf app.SSControl */ function _hasFullscreen(display) { if (Chrome.Storage.getBool('chromeFullscreen')) { return chromep.windows.getAll({populate: false}).then((wins) =&gt; { let ret = false; const left = display ? display.bounds.left : 0; const top = display ? display.bounds.top : 0; for (let i = 0; i &lt; wins.length; i++) { const win = wins[i]; if ((win.state === 'fullscreen') &amp;&amp; (!display || (win.top === top &amp;&amp; win.left === left))) { ret = true; break; } } return Promise.resolve(ret); }); } else { return Promise.resolve(false); } } /** * Determine if the screen saver is currently showing * @returns {Promise&lt;boolean&gt;} true if showing * @private * @memberOf app.SSControl */ function _isShowing() { // send message to the screensaver to see if he is around return Chrome.Msg.send(app.Msg.SS_IS_SHOWING).then(() =&gt; { return Promise.resolve(true); }).catch(() =&gt; { // no one listening return Promise.resolve(false); }); } /** * Open a screen saver window on the given display * @param {Object} display - a connected display * @private * @memberOf app.SSControl */ function _open(display) { // window creation options const winOpts = { url: _SS_URL, focused: true, type: 'popup', }; _hasFullscreen(display).then((isTrue) =&gt; { if (isTrue) { // don't display if there is a fullscreen window return null; } if (Chrome.Utils.getChromeVersion() &gt;= 44 &amp;&amp; !display) { // Chrome supports fullscreen option on create since version 44 winOpts.state = 'fullscreen'; } else { const left = display ? display.bounds.left : 0; const top = display ? display.bounds.top : 0; winOpts.left = left; winOpts.top = top; winOpts.width = 1; winOpts.height = 1; } return chromep.windows.create(winOpts); }).then((win) =&gt; { if (win &amp;&amp; (winOpts.state !== 'fullscreen')) { chrome.windows.update(win.id, {state: 'fullscreen'}); } return null; }).catch((err) =&gt; { Chrome.Log.error(err.message, 'SSControl._open', _ERR_SHOW); }); } /** * Open a screensaver on every display * @private * @memberOf app.SSControl */ function _openOnAllDisplays() { chromep.system.display.getInfo().then((displayArr) =&gt; { if (displayArr.length === 1) { _open(null); } else { for (const display of displayArr) { _open(display); } } return Promise.resolve(); }).catch((err) =&gt; { Chrome.Log.error(err.message, 'SSControl._openOnAllDisplays', _ERR_SHOW); }); } /** * Event: Fired when the system changes to an active, idle or locked state. * The event fires with &quot;locked&quot; if the screen is locked or the screensaver * activates, &quot;idle&quot; if the system is unlocked and the user has not * generated any input for a specified number of seconds, and &quot;active&quot; * when the user generates input on an idle system. * @see https://developer.chrome.com/extensions/idle#event-onStateChanged * @param {string} state - current state of computer * @private * @memberOf app.SSControl */ function _onIdleStateChanged(state) { _isShowing().then((isShowing) =&gt; { if (state === 'idle') { if (app.Alarm.isActive() &amp;&amp; !isShowing) { app.SSControl.display(false); } return Promise.resolve(); } else { // eslint-disable-next-line promise/no-nesting return Chrome.Utils.isWindows().then((isTrue) =&gt; { if (!isTrue) { // Windows 10 Creators triggers an 'active' state // when the window is created, so we have to skip closing here. // Wouldn't need this at all if ChromeOS handled keyboard right app.SSControl.close(); } return Promise.resolve(); }); } }).catch((err) =&gt; { Chrome.Log.error(err.message, 'SSControl._isShowing', _ERR_SHOW); }); } // noinspection JSUnusedLocalSymbols /** * Event: Fired when a message is sent from either an extension process&lt;br&gt; * (by runtime.sendMessage) or a content script (by tabs.sendMessage). * @see https://developer.chrome.com/extensions/runtime#event-onMessage * @param {Chrome.Msg.Message} request - details for the message * @param {Object} [sender] - MessageSender object * @param {Function} [response] - function to call once after processing * @returns {boolean} true if asynchronous * @private * @memberOf app.SSControl */ function _onChromeMessage(request, sender, response) { if (request.message === app.Msg.SS_SHOW.message) { // preview the screensaver app.SSControl.display(true); } return false; } // listen for changes to the idle state of the computer chrome.idle.onStateChanged.addListener(_onIdleStateChanged); // listen for chrome messages Chrome.Msg.listen(_onChromeMessage); return { /** * Display the screen saver(s) * !Important: Always request screensaver through this call * @param {boolean} single - if true, only show on one display * @memberOf app.SSControl */ display: function(single) { if (!single &amp;&amp; Chrome.Storage.getBool('allDisplays')) { _openOnAllDisplays(); } else { _open(null); } }, /** * Close all the screen saver windows * @memberOf app.SSControl */ close: function() { // send message to the screen savers to close themselves Chrome.Msg.send(app.Msg.SS_CLOSE).catch(() =&gt; {}); }, }; })(); × Search results Close "},"screensaver_ss_events.js.html":{"id":"screensaver_ss_events.js.html","title":"Source: screensaver/ss_events.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/ss_events.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Event handling for a {@link app.Screensaver} * @namespace */ app.SSEvents = (function() { 'use strict'; new ExceptionHandler(); /** * Starting mouse position * @type {{x: ?int, y: ?int}} * @const * @private * @memberOf app.SSEvents */ const _MOUSE_START = {x: null, y: null}; /** * Close ourselves * @private * @memberOf app.SSEvents */ function _close() { // send message to other screen savers to close themselves Chrome.Msg.send(app.Msg.SS_CLOSE).catch(() =&gt; {}); setTimeout(function() { // delay a little to process events window.close(); }, 750); } /** * Event: Fired when a registered command is activated using * a keyboard shortcut. * @see https://developer.chrome.com/extensions/commands#event-onCommand * @param {string} cmd - keyboard command * @private * @memberOf app.SSEvents */ function _onKeyCommand(cmd) { if (app.SSRunner.isInteractive()) { if (cmd === 'ss-toggle-paused') { Chrome.GA.event(Chrome.GA.EVENT.KEY_COMMAND, `${cmd}`); app.SSRunner.togglePaused(); } else if (cmd === 'ss-forward') { Chrome.GA.event(Chrome.GA.EVENT.KEY_COMMAND, `${cmd}`); app.SSRunner.forward(); } else if (cmd === 'ss-back') { Chrome.GA.event(Chrome.GA.EVENT.KEY_COMMAND, `${cmd}`); app.SSRunner.back(); } } } // noinspection JSUnusedLocalSymbols /** * Event: Fired when a message is sent from either an extension&lt;br&gt; * (by runtime.sendMessage) or a content script (by tabs.sendMessage). * @see https://developer.chrome.com/extensions/runtime#event-onMessage * @param {Chrome.Msg.Message} request - details for the message * @param {Object} [sender] - MessageSender object * @param {Function} [response] - function to call once after processing * @returns {boolean} true if asynchronous * @private * @memberOf app.SSEvents */ function _onMessage(request, sender, response) { if (request.message === app.Msg.SS_CLOSE.message) { _close(); } else if (request.message === app.Msg.SS_IS_SHOWING.message) { // let people know we are here response({message: 'OK'}); } return false; } /** * Event: KeyboardEvent * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent * @param {KeyboardEvent} ev - KeyboardEvent * @private * @memberOf app.SSEvents */ function _onKey(ev) { const keyName = ev.key; if (!app.SSRunner.isStarted()) { _close(); return; } switch (keyName) { case 'Alt': case 'Shift': case ' ': case 'ArrowLeft': case 'ArrowRight': // fallthrough if (!app.SSRunner.isInteractive()) { _close(); } break; default: _close(); break; } } /** * Event: mousemove * @param {MouseEvent} ev - mousemove event * @private * @memberOf app.SSEvents */ function _onMouseMove(ev) { if (_MOUSE_START.x &amp;&amp; _MOUSE_START.y) { const deltaX = Math.abs(ev.clientX - _MOUSE_START.x); const deltaY = Math.abs(ev.clientY - _MOUSE_START.y); if (Math.max(deltaX, deltaY) &gt; 10) { // close after a minimum amount of mouse movement _close(); } } else { // first move, set values _MOUSE_START.x = ev.clientX; _MOUSE_START.y = ev.clientY; } } /** * Event: mouse click * @private * @memberOf app.SSEvents */ function _onMouseClick() { if (app.SSRunner.isStarted()) { const idx = app.SSViews.getSelectedIndex(); const allowPhotoClicks = Chrome.Storage.getBool('allowPhotoClicks'); if (allowPhotoClicks &amp;&amp; (typeof(idx) !== 'undefined')) { const view = app.SSViews.get(idx); view.photo.showSource(); } } _close(); } return { /** * Add the event listeners * @memberOf app.SSEvents */ initialize: function() { // listen for chrome messages Chrome.Msg.listen(_onMessage); // listen for key events window.addEventListener('keydown', _onKey, false); // listen for mousemove events window.addEventListener('mousemove', _onMouseMove, false); // listen for mouse click events window.addEventListener('click', _onMouseClick, false); // listen for special keyboard commands chrome.commands.onCommand.addListener(_onKeyCommand); }, }; })(); × Search results Close "},"screensaver_ss_photo_finder.js.html":{"id":"screensaver_ss_photo_finder.js.html","title":"Source: screensaver/ss_photo_finder.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/ss_photo_finder.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Find a photo that is ready for slideshow * @namespace */ app.SSFinder = (function() { 'use strict'; new ExceptionHandler(); /** * Transition time in milliseconds * @type {int} * @private * @memberOf app.SSFinder */ let _transTime = 30000; /** * Add the next photo from the master array * @param {int} idx - index into {@link app.SSViews} * @private * @memberOf app.SSFinder */ function _replacePhoto(idx) { if (app.SSViews.isSelectedIndex(idx)) { return; } const viewLength = app.SSViews.getCount(); const photoLen = app.SSPhotos.getCount(); if (photoLen &lt;= viewLength) { return; } const photo = app.SSPhotos.getNextUsable(); if (photo) { const view = app.SSViews.get(idx); view.setPhoto(photo); } } return { /** * Initialize the photo finder * @memberOf app.SSFinder */ initialize: function() { const transTime = Chrome.Storage.get('transitionTime'); if (transTime) { _transTime = transTime.base * 1000; } }, /** * Get the next photo to display * @param {int} idx - index into {@link app.SSViews} * @returns {int} next - index into {@link app.SSViews} * to display, -1 if none are ready * @memberOf app.SSFinder */ getNext: function(idx) { let ret = app.SSViews.findLoadedPhoto(idx); if (ret === -1) { // no photos ready, wait a little, try again app.SSRunner.setWaitTime(500); } else { // photo found, set the waitTime back to transition time app.SSRunner.setWaitTime(_transTime); } return ret; }, /** * Add the next photo from the master array * @param {int} idx - {@link app.SSViews} index to replace * @memberOf app.SSFinder */ replacePhoto: function(idx) { if (idx &gt;= 0) { _replacePhoto(idx); } }, }; })(); × Search results Close "},"screensaver_ss_history.js.html":{"id":"screensaver_ss_history.js.html","title":"Source: screensaver/ss_history.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/ss_history.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Track the recent history of a {@link app.Screensaver} traversal * @namespace */ app.SSHistory = (function() { 'use strict'; new ExceptionHandler(); /** * History item * @typedef {Object} app.SSHistory.Item * @property {int} viewsIdx - {@link app.SSViews} index * @property {int} replaceIdx - {@link app.SSViews} index * @property {int} photoId - {@link app.SSPhoto} id * @property {int} photosPos - pointer into {@link app.SSPhotos} * @memberOf app.SSHistory */ /** * Slide show history * @property {Array&lt;app.SSHistory.Item&gt;} arr - history items * @property {int} idx - pointer into arr * @property {int} max - max length of arr, it will actually have 1 item more * @consts * @private * @memberOf app.SSHistory */ const _history = { arr: [], idx: -1, max: 20, }; return { /** * Initialize the history * @memberOf app.SSHistory */ initialize: function() { _history.max = Math.min(app.SSPhotos.getCount(), _history.max); }, /** * Add item to the history * @param {?int} newIdx - if not null, a request from the back command * @param {int} selected - the current selection * @param {int} replaceIdx - the replace index * @memberOf app.SSHistory */ add: function(newIdx, selected, replaceIdx) { if (newIdx === null) { const view = app.SSViews.get(selected); const idx = _history.idx; const len = _history.arr.length; const photoId = view.photo.getId(); const photosPos = app.SSPhotos.getCurrentIndex(); const historyItem = { viewsIdx: selected, replaceIdx: replaceIdx, photoId: photoId, photosPos: photosPos, }; if ((idx === len - 1)) { // add to end if (_history.arr.length &gt; _history.max) { // FIFO delete _history.arr.shift(); _history.idx--; _history.idx = Math.max(_history.idx, -1); } // add newest photo _history.arr.push(historyItem); } } _history.idx++; }, /** * Reset the slide show history * @memberOf app.SSHistory */ clear: function() { _history.arr = []; _history.idx = -1; }, /** * Backup one slide * @returns {?int} {@link app.SSViews} index to step to * @memberOf app.SSHistory */ back: function() { if (_history.idx &lt;= 0) { // at beginning return null; } let nextStep = null; let inc = 2; let idx = _history.idx - inc; _history.idx = idx; if (idx &lt; 0) { if ((_history.arr.length &gt; _history.max)) { // at beginning of history _history.idx+= inc; return null; } else { // at beginning, first time through _history.idx = -1; inc = 1; nextStep = -1; idx = 0; } } // update state from history const photosPos = _history.arr[idx].photosPos; const replaceIdx = _history.arr[idx + inc].replaceIdx; app.SSPhotos.setCurrentIndex(photosPos); app.SSRunner.setReplaceIdx(replaceIdx); const viewsIdx = _history.arr[idx].viewsIdx; const photoId = _history.arr[idx].photoId; nextStep = (nextStep === null) ? viewsIdx : nextStep; const view = app.SSViews.get(viewsIdx); const photo = app.SSPhotos.get(photoId); view.setPhoto(photo); view.render(); return nextStep; }, }; })(); × Search results Close "},"screensaver_ss_photo.js.html":{"id":"screensaver_ss_photo.js.html","title":"Source: screensaver/ss_photo.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/ss_photo.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { 'use strict'; window.app = window.app || {}; new ExceptionHandler(); /** * A photo for the screen saver * * @property {int} _id - Unique id * @property {string} _url - The url to the photo * @property {string} _photographer - The photographer * @property {string} _type - type of {@link app.PhotoSource} * @property {number} _aspectRatio - aspect ratio * @property {Object} _ex - additional information about the photo * @property {string} _point - geolocation 'lat lon' * @property {boolean} _isBad - true if url didn't load * @alias app.SSPhoto */ app.SSPhoto = class SSPhoto { /** * Create a new photo * @param {int} id - unique id * @param {app.PhotoSource.Photo} source - source photo * @param {string} sourceType - type of {@link app.PhotoSource} * @constructor */ constructor(id, source, sourceType) { this._id = id; this._url = source.url; this._photographer = source.author ? source.author : ''; this._type = sourceType; this._aspectRatio = source.asp; this._ex = source.ex; this._point = source.point; this._isBad = false; } /** * Get unique id * @returns {int} id */ getId() { return this._id; } /** * Set unique id * @param {int} id - unique id */ setId(id) { this._id = id; } /** * Is photo bad * @returns {boolean} true if bad */ isBad() { return this._isBad; } /** * Mark photo unusable */ markBad() { this._isBad = true; } /** * Get photo url * @returns {string} url */ getUrl() { return this._url; } /** * Get photo source type * @returns {string} type */ getType() { return this._type; } /** * Get photographer * @returns {string} photographer */ getPhotographer() { return this._photographer; } /** * Get photo aspect ratio * @returns {number} aspect ratio */ getAspectRatio() { return this._aspectRatio; } /** * Get geo location point * @returns {?string} point */ getPoint() { return this._point; } /** * Create a new tab with a link to the * original source of the photo, if possible */ showSource() { let regex; let id; let url = null; switch (this._type) { case '500': // parse photo id regex = /(\\/[^/]*){4}/; id = this._url.match(regex); url = `http://500px.com/photo${id[1]}`; break; case 'flickr': if (this._ex) { // parse photo id regex = /(\\/[^/]*){4}(_.*_)/; id = this._url.match(regex); url = `https://www.flickr.com/photos/${this._ex}${id[1]}`; } break; case 'reddit': if (this._ex) { url = this._ex; } break; default: if (this._type !== 'Google User') { url = this._url; } break; } if (url !== null) { chrome.tabs.create({url: url}); } } }; })(); × Search results Close "},"screensaver_ss_photos.js.html":{"id":"screensaver_ss_photos.js.html","title":"Source: screensaver/ss_photos.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/ss_photos.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Collection of {@link app.SSPhoto} objects * @namespace */ app.SSPhotos = (function() { 'use strict'; new ExceptionHandler(); /** * The array of photos * @type {Array&lt;app.SSPhoto&gt;} * @const * @private * @memberOf app.SSPhotos */ const _photos = []; /** * Current index into {@link _photos} * @type {int} * @private * @memberOf app.SSPhotos */ let _curIdx = 0; return { /** * Add the photos from an {@link app.PhotoSource.Photos} * @param {app.PhotoSource.Photos} source * - The {@link app.PhotoSource.Photos} * @memberOf app.SSPhotos */ addFromSource: function(source) { const type = source.type; const viewType = app.SSViews.getType(); let ct = 0; for (const sourcePhoto of source.photos) { if (!app.SSView.ignore(sourcePhoto.asp, viewType)) { const photo = new app.SSPhoto(ct, sourcePhoto, type); _photos.push(photo); ct++; } } }, /** * Get number of photos * @returns {int} The number of photos * @memberOf app.SSPhotos */ getCount: function() { return _photos.length; }, /** * Do we have photos that aren't bad * @returns {boolean} true if at least one photo is good * @memberOf app.SSPhotos */ hasUsable: function() { return !_photos.every((photo) =&gt; { return photo.isBad(); }); }, /** * Get the {@link app.SSPhoto} at the given index * @param {int} idx - The index * @returns {app.SSPhoto} A {@link app.SSPhoto} * @memberOf app.SSPhotos */ get: function(idx) { return _photos[idx]; }, /** * Get the next {@link app.SSPhoto} that is usable * @returns {?app.SSPhoto} An {@link app.SSPhoto} * @memberOf app.SSPhotos */ getNextUsable: function() { // wrap-around loop: https://stackoverflow.com/a/28430482/4468645 for (let i = 0; i &lt; _photos.length; i++) { // find a url that is ok, AFAWK const index = (i + _curIdx) % _photos.length; const photo = _photos[index]; if (!photo.isBad() &amp;&amp; !app.SSViews.hasPhoto(photo)) { _curIdx = index; app.SSPhotos.incCurrentIndex(); return photo; } } return null; }, /** * Get current index into {@link _photos} * @returns {int} index * @memberOf app.SSPhotos */ getCurrentIndex: function() { return _curIdx; }, /** * Set current index into {@link _photos} * @param {int} idx - The index * @memberOf app.SSPhotos */ setCurrentIndex: function(idx) { _curIdx = idx; }, /** * Increment current index into {@link _photos} * @returns {int} new current index * @memberOf app.SSPhotos */ incCurrentIndex: function() { return _curIdx = (_curIdx === _photos.length - 1) ? 0 : _curIdx + 1; }, /** * Randomize the photos * @memberOf app.SSPhotos */ shuffle: function() { Chrome.Utils.shuffleArray(_photos); // renumber _photos.forEach((photo, index) =&gt; { photo.setId(index); }); }, }; })(); × Search results Close "},"screensaver_ss_runner.js.html":{"id":"screensaver_ss_runner.js.html","title":"Source: screensaver/ss_runner.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/ss_runner.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Control the running of a {@link app.Screensaver} * @namespace */ app.SSRunner = (function() { 'use strict'; new ExceptionHandler(); /** * Instance variables * @type {Object} * @property {boolean} started - true if slideshow started * @property {int} replaceIdx - page to replace with next photo * @property {int} lastSelected - last selected page * @property {int} waitTime - wait time when looking for photo in milliSecs * @property {boolean} interactive - is interaction allowed * @property {boolean} paused - is screensaver paused * @property {number} timeOutId - id of setTimeout * @private * @memberOf app.SSRunner */ const _VARS = { started: false, replaceIdx: -1, lastSelected: -1, waitTime: 30000, interactive: false, paused: false, timeOutId: 0, }; /** * Stop the animation * @private * @memberOf app.SSRunner */ function _stop() { window.clearTimeout(_VARS.timeOutId); } /** * Restart the slideshow * @param {?int} [newIdx=null] optional idx to use for current idx * @private * @memberOf app.SSRunner */ function _restart(newIdx = null) { const transTime = Chrome.Storage.get('transitionTime'); if (transTime) { app.SSRunner.setWaitTime(transTime.base * 1000); } _runShow(newIdx); } /** * Increment the slide show manually * @param {?int} [newIdx=null] optional idx to use for current idx * @private * @memberOf app.SSRunner */ function _step(newIdx = null) { if (app.SSRunner.isPaused()) { app.SSRunner.togglePaused(newIdx); app.SSRunner.togglePaused(); } else { _stop(); _restart(newIdx); } } /** * Self called at fixed time intervals to cycle through the photos * @param {?int} [newIdx=null] override selected * @private * @memberOf app.SSRunner */ function _runShow(newIdx = null) { if (app.Screensaver.noPhotos()) { // no usable photos to show return; } const selected = app.SSViews.getSelectedIndex(); const viewLen = app.SSViews.getCount(); let curIdx = (newIdx === null) ? selected : newIdx; curIdx = !app.SSRunner.isStarted() ? 0 : curIdx; let nextIdx = (curIdx === viewLen - 1) ? 0 : curIdx + 1; if (!app.SSRunner.isStarted()) { // special case for first page. neon-animated-pages is configured // to run the entry animation for the first selection nextIdx = 0; } nextIdx = app.SSFinder.getNext(nextIdx); if (nextIdx !== -1) { // the next photo is ready if (!app.SSRunner.isStarted()) { _VARS.started = true; app.SSTime.setTime(); } // setup photo const view = app.SSViews.get(nextIdx); view.render(); // track the photo history app.SSHistory.add(newIdx, nextIdx, _VARS.replaceIdx); // update selected so the animation runs _VARS.lastSelected = selected; app.SSViews.setSelectedIndex(nextIdx); if (newIdx === null) { // load next photo from master array app.SSFinder.replacePhoto(_VARS.replaceIdx); _VARS.replaceIdx = _VARS.lastSelected; } } // set the next timeout, then call ourselves - runs unless interrupted _VARS.timeOutId = window.setTimeout(() =&gt; { _runShow(); }, _VARS.waitTime); } return { /** * Start the slideshow * @param {int} [delay=2000] - delay before start * @memberOf app.SSRunner */ start: function(delay = 2000) { const transTime = Chrome.Storage.get('transitionTime'); if (transTime) { app.SSRunner.setWaitTime(transTime.base * 1000); } _VARS.interactive = Chrome.Storage.get('interactive'); app.SSHistory.initialize(); // start slide show. slight delay at beginning so we have a smooth start window.setTimeout(_runShow, delay); }, /** * Get wait time between _runShow calls * @returns {int} current wait time * @memberOf app.SSRunner */ getWaitTime: function() { return _VARS.waitTime; }, /** * Set wait time between _runShow calls in milliSecs * @param {int} waitTime - wait time for next attempt to get photo * @memberOf app.SSRunner */ setWaitTime: function(waitTime) { _VARS.waitTime = waitTime; }, /** * Set last selected index * @param {int} lastSelected - last index in {@link app.SSViews} * @memberOf app.SSRunner */ setLastSelected: function(lastSelected) { _VARS.lastSelected = lastSelected; }, /** * Set last selected index * @param {int} idx - replace index in {@link app.SSViews} * @memberOf app.SSRunner */ setReplaceIdx: function(idx) { _VARS.replaceIdx = idx; }, /** * Has the first page run * @returns {boolean} if animation has started * @memberOf app.SSRunner */ isStarted: function() { return _VARS.started; }, /** * Is interactive mode allowed * @returns {boolean} true if allowed * @memberOf app.SSRunner */ isInteractive: function() { return _VARS.interactive; }, /** * Are we paused * @returns {boolean} true if paused * @memberOf app.SSRunner */ isPaused: function() { return _VARS.paused; }, /** * Is the given idx a part of the current animation pair * @param {int} idx - index into {@link app.SSViews} * @returns {boolean} if selected or last selected * @memberOf app.SSRunner */ isCurrentPair: function(idx) { const selected = app.SSViews.getSelectedIndex(); return ((idx === selected) || (idx === _VARS.lastSelected)); }, /** * Toggle paused state of the slideshow * @param {?int} [newIdx=null] optional idx to use for current idx * @memberOf app.SSRunner */ togglePaused: function(newIdx = null) { if (_VARS.started) { _VARS.paused = !_VARS.paused; app.Screensaver.setPaused(_VARS.paused); if (_VARS.paused) { _stop(); } else { _restart(newIdx); } } }, /** * Forward one slide * @memberOf app.SSRunner */ forward: function() { if (_VARS.started) { _step(); } }, /** * Backup one slide * @memberOf app.SSRunner */ back: function() { if (_VARS.started) { const nextStep = app.SSHistory.back(); if (nextStep !== null) { _step(nextStep); } } }, }; })(); × Search results Close "},"screensaver_ss_time.js.html":{"id":"screensaver_ss_time.js.html","title":"Source: screensaver/ss_time.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/ss_time.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Time handling for an {@link app.Screensaver} * @namespace */ app.SSTime = (function() { 'use strict'; new ExceptionHandler(); return { /** * Initialize the time display * @memberOf app.SSTime */ initialize: function() { const showTime = Chrome.Storage.getInt('showTime', 0); if (showTime &gt; 0) { // update current time once a minute setInterval(app.SSTime.setTime, 61 * 1000); } }, /** * Set the time label * @memberOf app.SSTime */ setTime: function() { let label = ''; const showTime = Chrome.Storage.getInt('showTime', 0); if ((showTime !== 0) &amp;&amp; app.SSRunner.isStarted()) { label = Chrome.Time.getStringShort(); } app.Screensaver.setTimeLabel(label); }, }; })(); × Search results Close "},"screensaver_views_ss_view.js.html":{"id":"screensaver_views_ss_view.js.html","title":"Source: screensaver/views/ss_view.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/views/ss_view.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { 'use strict'; window.app = window.app || {}; new ExceptionHandler(); /** * Aspect ratio of screen * @type {number} * @const * @private * @memberOf app.SSView */ const _SCREEN_ASP = screen.width / screen.height; /** * Screensaver zoom view and base class for other SSView classes * @property {Element} image - paper-image * @property {Element} author - label * @property {Element} time - label * @property {Element} location - Geo location * @property {Object} model - template item model * @property {string} url - photo url, binding * @property {string} authorLabel - author text, binding * @property {string} locationLabel - location text, binding * @alias app.SSView */ app.SSView = class SSView { /** * Create a new SSView * @param {app.SSPhoto} photo - An {@link app.SSPhoto} * @constructor */ constructor(photo) { this.photo = photo; this.image = null; this.author = null; this.time = null; this.location = null; this.model = null; this.url = photo.getUrl(); this.authorLabel = ''; this.locationLabel = ''; } /** * Factory Method to create a new {@link app.SSView} * @param {app.SSPhoto} photo - An {@link app.SSPhoto} * @param {app.SSViews.Type} sizing - photo sizing type * @returns {app.SSView} a new SSView or subclass * @static */ static createView(photo, sizing) { switch (sizing) { case app.SSViews.Type.LETTERBOX: return new app.SSViewLetterbox(photo); case app.SSViews.Type.ZOOM: return new app.SSView(photo); case app.SSViews.Type.FRAME: return new app.SSViewFrame(photo); case app.SSViews.Type.FULL: return new app.SSViewFull(photo); default: Chrome.Log.error(`Bad SSView type: ${sizing}`, 'SSView.createView'); return new app.SSViewLetterbox(photo); } } /** * Determine if a photo would look bad zoomed or stretched on the screen * @param {number} asp - an aspect ratio * @returns {boolean} true if a photo aspect ratio differs substantially * from the screens' * @private */ static _isBadAspect(asp) { // arbitrary const CUT_OFF = 0.5; return (asp &lt; _SCREEN_ASP - CUT_OFF) || (asp &gt; _SCREEN_ASP + CUT_OFF); } /** * Determine if a given aspect ratio should be ignored * @param {number} asp - an aspect ratio * @param {int} photoSizing - the sizing type * @returns {boolean} true if the aspect ratio should be ignored */ static ignore(asp, photoSizing) { let ret = false; const skip = Chrome.Storage.getBool('skip'); if ((!asp || isNaN(asp)) || (skip &amp;&amp; ((photoSizing === 1) || (photoSizing === 3)) &amp;&amp; app.SSView._isBadAspect(asp))) { // ignore photos that don't have aspect ratio // or would look bad with cropped or stretched sizing options ret = true; } return ret; } /** * Should we show the location, if available * @returns {boolean} true if we should show the location * @static */ static _showLocation() { return Chrome.Storage.getBool('showLocation'); } /** * Should we show the time * @returns {boolean} true if we should show the time * @static */ static showTime() { return Chrome.Storage.getBool('showTime'); } /** * Does a photo have an author label to show * @returns {boolean} true if we should show the author */ _hasAuthor() { const photographer = this.photo.getPhotographer(); return !Chrome.Utils.isWhiteSpace(photographer); } /** * Does a view have an author label set * @returns {boolean} true if author label is not empty */ _hasAuthorLabel() { return !Chrome.Utils.isWhiteSpace(this.authorLabel); } /** * Does a photo have a geolocation * @returns {boolean} true if geolocation point is non-null */ _hasLocation() { return !!this.photo.getPoint(); } /** * Does a view have an location label set * @returns {boolean} true if location label is not empty */ _hasLocationLabel() { return !Chrome.Utils.isWhiteSpace(this.locationLabel); } /** * Add superscript to the label for 500px photos * @private */ _super500px() { const type = this.photo.getType(); const authorText = this.authorLabel; const sup = this.author.querySelector('#sup'); sup.textContent = ''; if (!Chrome.Utils.isWhiteSpace(authorText) &amp;&amp; (type === '500')) { sup.textContent = 'px'; } } /** * Set the style for the time label */ _setTimeStyle() { if (Chrome.Storage.getBool('largeTime')) { this.time.style.fontSize = '8.5vh'; this.time.style.fontWeight = 300; } } /** * Set the url */ _setUrl() { this.url = this.photo.getUrl(); this.model.set('view.url', this.url); } /** * Set the author text */ _setAuthorLabel() { this.authorLabel = ''; this.model.set('view.authorLabel', this.authorLabel); this._super500px(); const type = this.photo.getType(); const photographer = this.photo.getPhotographer(); let newType = type; const idx = type.search('User'); if (!Chrome.Storage.getBool('showPhotog') &amp;&amp; (idx !== -1)) { // don't show label for user's own photos, if requested return; } if (idx !== -1) { // strip off 'User' newType = type.substring(0, idx - 1); } if (this._hasAuthor()) { this.authorLabel = `${photographer} / ${newType}`; } else { // no photographer name this.authorLabel = `${Chrome.Locale.localize('photo_from')} ${newType}`; } this.model.set('view.authorLabel', this.authorLabel); this._super500px(); } /** * Set the geolocation text */ _setLocationLabel() { this.locationLabel = ''; this.model.set('view.locationLabel', this.locationLabel); if (app.SSView._showLocation() &amp;&amp; this._hasLocation()) { const point = this.photo.getPoint(); app.Geo.get(point).then((location) =&gt; { if (location &amp;&amp; this.model) { location = location.replace('Unnamed Road, ', ''); this.locationLabel = location; this.model.set('view.locationLabel', this.locationLabel); } return Promise.resolve(); }).catch((err) =&gt; { const networkErr = Chrome.Locale.localize('err_network'); if (!err.message.includes(networkErr)) { Chrome.GA.error(`${err.message}, point: ${point}`, 'SSView._setLocationLabel'); } }); } } /** * Set the elements of the view * @param {Element} image - paper-image, photo * @param {Element} author - div, photographer * @param {Element} time - div, current time * @param {Element} location - div, geolocation text * @param {Object} model - template item model */ setElements(image, author, time, location, model) { this.image = image; this.author = author; this.time = time; this.location = location; this.model = model; this._setTimeStyle(); this.setPhoto(this.photo); } /** * Set the photo * @param {app.SSPhoto} photo - a photo to render */ setPhoto(photo) { this.photo = photo; this._setUrl(); this._setAuthorLabel(false); this._setLocationLabel(); } /** * Render the page for display - the default CSS is for our view * subclasses override this to determine the look of photo */ render() {} /** * Determine if a photo failed to load (usually 404 error) * @returns {boolean} true if image load failed */ isError() { return !this.image || this.image.error; } /** * Determine if a photo has finished loading * @returns {boolean} true if image is loaded */ isLoaded() { return !!this.image &amp;&amp; this.image.loaded; } }; })(); × Search results Close "},"screensaver_views_ss_view_frame.js.html":{"id":"screensaver_views_ss_view_frame.js.html","title":"Source: screensaver/views/ss_view_frame.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/views/ss_view_frame.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { window.app = window.app || {}; 'use strict'; new ExceptionHandler(); /** * Screensaver zoom view and base class for other SSView classes * @property {Element} image - paper-image * @property {Element} author - label * @property {Element} time - label * @property {Element} location - Geo location * @property {Object} model - template item model * @extends app.SSView * @alias app.SSViewFrame */ app.SSViewFrame = class extends app.SSView { /** * Create new SSViewFrame * @param {app.SSPhoto} photo - An {@link app.SSPhoto} * @constructor */ constructor(photo) { super(photo); } /** * Set style info for a label * @param {Object} style - element.style object * @param {int} width - frame width * @param {int} height - frame height * @param {boolean} isLeft - if true align left, else right * @static * @private */ static _setLabelStyle(style, width, height, isLeft) { style.textOverflow = 'ellipsis'; style.whiteSpace = 'nowrap'; style.color = 'black'; style.opacity = 1.0; style.fontSize = '2.5vh'; style.fontWeight = 400; // percent of screen width for label padding let padPer = 0.5; // percent of screen width of image let imgWidthPer = (width / screen.width) * 100; // percent of screen width on each side of image let sidePer = (100 - imgWidthPer) / 2; if (isLeft) { style.left = sidePer + padPer + 'vw'; style.right = ''; style.textAlign = 'left'; } else { style.right = sidePer + padPer + 'vw'; style.left = ''; style.textAlign = 'right'; } style.width = imgWidthPer - 2 * padPer + 'vw'; // percent of screen height of image let imgHtPer = (height / screen.height) * 100; // percent of screen height on each side of image let topPer = (100 - imgHtPer) / 2; style.bottom = topPer + 1.1 + 'vh'; } /** * Render the page for display */ render() { super.render(); const authorStyle = this.author.style; const locationStyle = this.location.style; const timeStyle = this.time.style; const image = this.image; const imageStyle = image.style; const img = image.$.img; const imgStyle = img.style; /** @type {app.SSPhoto} */ const photo = this.photo; const ar = photo.getAspectRatio(); // scale to screen size const border = screen.height * 0.005; const borderBot = screen.height * 0.05; const padding = screen.height * 0.025; const height = Math.min((screen.width - padding * 2 - border * 2) / ar, screen.height - padding * 2 - border - borderBot); const width = height * ar; // size with the frame const frWidth = width + border * 2; const frHeight = height + borderBot + border; imgStyle.height = height + 'px'; imgStyle.width = width + 'px'; image.height = height; image.width = width; imageStyle.top = (screen.height - frHeight) / 2 + 'px'; imageStyle.left = (screen.width - frWidth) / 2 + 'px'; imageStyle.border = 0.5 + 'vh ridge WhiteSmoke'; imageStyle.borderBottom = 5 + 'vh solid WhiteSmoke'; imageStyle.borderRadius = '1.5vh'; imageStyle.boxShadow = '1.5vh 1.5vh 1.5vh rgba(0,0,0,.7)'; app.SSViewFrame._setLabelStyle(authorStyle, frWidth, frHeight, false); app.SSViewFrame._setLabelStyle(locationStyle, frWidth, frHeight, true); // percent of screen height of image let imgHtPer = (frHeight / screen.height) * 100; // percent of screen height on each side of image let topPer = (100 - imgHtPer) / 2; // percent of screen width of image let imgWidthPer = (frWidth / screen.width) * 100; // percent of screen width on each side of image let sidePer = (100 - imgWidthPer) / 2; timeStyle.right = sidePer + 1.0 + 'vw'; timeStyle.textAlign = 'right'; timeStyle.bottom = topPer + 5.0 + 'vh'; // percent of half the width of image let maxWidth = imgWidthPer / 2; if (this._hasLocationLabel()) { // limit author width if we also have a location authorStyle.maxWidth = maxWidth - 1 + 'vw'; } if (this._hasAuthorLabel()) { // limit location width if we also have an author locationStyle.maxWidth = maxWidth - 1 + 'vw'; } } }; })(); × Search results Close "},"screensaver_views_ss_view_full.js.html":{"id":"screensaver_views_ss_view_full.js.html","title":"Source: screensaver/views/ss_view_full.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/views/ss_view_full.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { window.app = window.app || {}; 'use strict'; new ExceptionHandler(); /** * Screensaver full view * @property {Element} image - paper-image * @property {Element} author - label * @property {Element} time - label * @property {Element} location - Geo location * @property {Object} model - template item model * @extends app.SSView * @alias app.SSViewFull */ app.SSViewFull = class extends app.SSView { /** * Create new SSViewFull * @param {app.SSPhoto} photo - An {@link app.SSPhoto} * @constructor */ constructor(photo) { super(photo); } /** * Render the page for display */ render() { super.render(); const img = this.image.$.img; img.style.width = '100%'; img.style.height = '100%'; img.style.objectFit = 'fill'; } }; })(); × Search results Close "},"screensaver_views_ss_view_letterbox.js.html":{"id":"screensaver_views_ss_view_letterbox.js.html","title":"Source: screensaver/views/ss_view_letterbox.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/views/ss_view_letterbox.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { window.app = window.app || {}; 'use strict'; new ExceptionHandler(); /** * Aspect ratio of screen * @type {number} * @const * @private * @memberOf app.SSViewLetterbox */ const _SCREEN_AR = screen.width / screen.height; /** * Screensaver letterbox view * @property {Element} image - paper-image * @property {Element} author - label * @property {Element} time - label * @property {Element} location - Geo location * @property {Object} model - template item model * @extends app.SSView * @alias app.SSViewLetterbox */ app.SSViewLetterbox = class extends app.SSView { /** * Create new SSView * @param {app.SSPhoto} photo - An {@link app.SSPhoto} * @constructor */ constructor(photo) { super(photo); } /** * Render the page for display */ render() { super.render(); const ar = this.photo.getAspectRatio(); const authorStyle = this.author.style; const locationStyle = this.location.style; const timeStyle = this.time.style; // percent of the screen width of image let imgWidthPer = ((ar / _SCREEN_AR * 100)); imgWidthPer = Math.min(imgWidthPer, 100.0); let right = (100 - imgWidthPer) / 2; // percent of the screen height of image let imgHeightPer = ((_SCREEN_AR / ar * 100)); imgHeightPer = Math.min(imgHeightPer, 100.0); let bottom = (100 - imgHeightPer) / 2; authorStyle.textAlign = 'right'; locationStyle.textAlign = 'left'; authorStyle.right = (right + 1) + 'vw'; authorStyle.bottom = (bottom + 1) + 'vh'; authorStyle.width = imgWidthPer - .5 + 'vw'; locationStyle.left = (right + 1) + 'vw'; locationStyle.bottom = (bottom + 1) + 'vh'; locationStyle.width = imgWidthPer - .5 + 'vw'; timeStyle.right = (right + 1) + 'vw'; timeStyle.bottom = (bottom + 3.5) + 'vh'; if (app.SSView.showTime()) { // don't wrap author authorStyle.textOverflow = 'ellipsis'; authorStyle.whiteSpace = 'nowrap'; } // percent of half the width of image let maxWidth = imgWidthPer / 2; if (this._hasLocationLabel()) { // limit author width if we also have a location authorStyle.maxWidth = maxWidth - 1.1 + 'vw'; } if (this._hasAuthorLabel()) { // limit location width if we also have an author locationStyle.maxWidth = maxWidth - 1.1 + 'vw'; } } }; })(); × Search results Close "},"screensaver_ss_views.js.html":{"id":"screensaver_ss_views.js.html","title":"Source: screensaver/ss_views.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: screensaver/ss_views.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Collection of {@link app.SSView} objects * @namespace */ app.SSViews = (function() { 'use strict'; new ExceptionHandler(); /** * Max number of views * @type {int} * @const * @private * @memberOf app.SSViews */ const _MAX_VIEWS = 20; /** * The array of views * @type {Array&lt;app.SSView&gt;} * @const * @private * @memberOf app.SSViews */ const _views = []; /** * The neon-animated-pages * @type {?Element} * @private * @memberOf app.SSViews */ let _pages = null; /** * Enum for view type * @typedef {int} app.SSViews.Type * @readonly * @enum {int} * @memberOf app.SSViews */ const Type = { UNDEFINED: -1, LETTERBOX: 0, ZOOM: 1, FRAME: 2, FULL: 3, RANDOM: 4, }; /** * The view type * @type {int} * @private * @memberOf app.SSViews */ let _type = Type.UNDEFINED; /** * Process settings related to the photo's appearance * @private * @memberOf app.SSViews */ function _setViewType() { _type = Chrome.Storage.getInt('photoSizing', 0); if (_type === Type.RANDOM) { // pick random sizing _type = Chrome.Utils.getRandomInt(0, 3); } let type = 'contain'; switch (_type) { case Type.LETTERBOX: type = 'contain'; break; case Type.ZOOM: type = 'cover'; break; case Type.FRAME: case Type.FULL: type = null; break; default: break; } app.Screensaver.setSizingType(type); } return { Type: Type, /** * Create the {@link app.SSView} pages * @param {app.Screensaver.Template} t * @memberOf app.SSViews */ create: function(t) { _pages = t.$.pages; _setViewType(); const len = Math.min(app.SSPhotos.getCount(), _MAX_VIEWS); for (let i = 0; i &lt; len; i++) { const photo = app.SSPhotos.get(i); const view = app.SSView.createView(photo, _type); _views.push(view); } app.SSPhotos.setCurrentIndex(len); // set and force render of animated pages t.set('_views', _views); t.$.repeatTemplate.render(); // set the Elements of each view _views.forEach((view, index) =&gt; { const el = _pages.querySelector('#view' + index); const image = el.querySelector('.image'); const author = el.querySelector('.author'); const time = el.querySelector('.time'); const location = el.querySelector('.location'); const model = t.$.repeatTemplate.modelForElement(el); view.setElements(image, author, time, location, model); }); }, /** * Get the type of view * @returns {app.SSViews.Type} * @memberOf app.SSViews */ getType: function() { if (_type === Type.UNDEFINED) { _setViewType(); } return _type; }, /** * Get number of views * @returns {int} * @memberOf app.SSViews */ getCount: function() { return _views.length; }, /** * Get the {@link app.SSView} at the given index * @param {int} idx - The index * @returns {app.SSView} * @memberOf app.SSViews */ get: function(idx) { return _views[idx]; }, /** * Get the selected index * @returns {int|undefined} The index * @memberOf app.SSViews */ getSelectedIndex: function() { if (_pages) { return _pages.selected; } // noinspection UnnecessaryReturnStatementJS return; }, /** * Set the selected index * @param {int} selected * @memberOf app.SSViews */ setSelectedIndex: function(selected) { _pages.selected = selected; }, /** * Is the given idx the selected index * @param {int} idx - index into {@link app.SSViews} * @returns {boolean} true if selected * @memberOf app.SSViews */ isSelectedIndex: function(idx) { let ret = false; if (_pages &amp;&amp; (idx === _pages.selected)) { ret = true; } return ret; }, /** * Is the given {@link app.SSPhoto} in one of the {@link _views} * @param {app.SSPhoto} photo * @returns {boolean} true if in {@link _views} * @memberOf app.SSViews */ hasPhoto: function(photo) { let ret = false; for (const view of _views) { if (view.photo.getId() === photo.getId()) { ret = true; break; } } return ret; }, /** * Do we have a view with a usable photo * @returns {boolean} true if at least one photo is valid * @memberOf app.SSViews */ hasUsable: function() { let ret = false; for (let i = 0; i &lt; _views.length; i++) { const view = _views[i]; if (app.SSRunner.isCurrentPair(i)) { // don't check current animation pair continue; } if (!view.photo.isBad()) { ret = true; break; } } return ret; }, /** * Replace all views * @memberOf app.SSViews */ replaceAll: function() { for (let i = 0; i &lt; _views.length; i++) { if (app.SSRunner.isCurrentPair(i)) { // don't replace current animation pair continue; } const view = _views[i]; const photo = app.SSPhotos.getNextUsable(); if (photo) { view.setPhoto(photo); } else { // all bad break; } } app.SSHistory.clear(); }, /** * Try to find a photo that has finished loading * @param {int} idx - index into {@link _views} * @returns {int} index into {@link _views}, -1 if none are loaded * @memberOf app.SSViews */ findLoadedPhoto: function(idx) { if (!app.SSViews.hasUsable()) { // replace the photos app.SSViews.replaceAll(); } if (_views[idx].isLoaded()) { return idx; } // wrap-around loop: https://stackoverflow.com/a/28430482/4468645 for (let i = 0; i &lt; _views.length; i++) { const index = (i + idx) % _views.length; const view = _views[index]; if (app.SSRunner.isCurrentPair(index)) { // don't use current animation pair continue; } if (view.isLoaded()) { return index; } else if (view.isError() &amp;&amp; !view.photo.isBad()) { view.photo.markBad(); if (!app.SSPhotos.hasUsable()) { // all photos bad app.Screensaver.setNoPhotos(); return -1; } } } return -1; }, }; })(); × Search results Close "},"my_utils.js.html":{"id":"my_utils.js.html","title":"Source: my_utils.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: my_utils.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ window.app = window.app || {}; /** * Misc. utility methods * @namespace */ app.Utils = (function() { 'use strict'; new ExceptionHandler(); /** * True if development build * @type {boolean} * @private * @memberOf app.Utils */ const _DEBUG = false; return { /** * True if development build * @type {boolean} * @memberOf app.Utils */ DEBUG: _DEBUG, /** * Get our email address * @returns {string} email address * @memberOf app.Utils */ getEmail: function() { return 'photoscreensaver@gmail.com'; }, /** * Get body for an email with basic extension info * @returns {string} text * @memberOf app.Utils */ getEmailBody: function() { return `Extension version: ${Chrome.Utils.getVersion()}\\n` + `Chrome version: ${Chrome.Utils.getFullChromeVersion()}\\n` + `OS: ${Chrome.Storage.get('os')}\\n\\n\\n`; }, /** * Get encoded url for an email * @param {string} subject - email subject * @param {string} body - email body * @returns {string} encoded url * @memberOf app.Utils */ getEmailUrl: function(subject, body) { const email = encodeURIComponent(app.Utils.getEmail()); const sub = encodeURIComponent(subject); const bod = encodeURIComponent(body); return `mailto:${email}?subject=${sub}&amp;body=${bod}`; }, /** * Get our Github base path * @returns {string} path * @memberOf app.Utils */ getGithubPath: function() { return 'https://github.com/opus1269/photo-screen-saver/'; }, /** * Get our Github pages base path * @returns {string} path * @memberOf app.Utils */ getGithubPagesPath: function() { return 'https://opus1269.github.io/photo-screen-saver/'; }, }; })(); × Search results Close "},"background_background.js.html":{"id":"background_background.js.html","title":"Source: background/background.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: background/background.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { 'use strict'; /** * The background script for the extension.&lt;br&gt; * @namespace Background */ new ExceptionHandler(); /** * Display the options tab * @private * @memberOf Background */ function _showOptionsTab() { // send message to the option tab to focus it. Chrome.Msg.send(Chrome.Msg.HIGHLIGHT).catch(() =&gt; { // no one listening, create it chrome.tabs.create({url: '../html/options.html'}); }); } /** * Event: Fired when the extension is first installed,&lt;br /&gt; * when the extension is updated to a new version,&lt;br /&gt; * and when Chrome is updated to a new version. * @see https://developer.chrome.com/extensions/runtime#event-onInstalled * @param {Object} details - type of event * @param {string} details.reason - reason for install * @param {string} details.previousVersion - old version if 'update' reason * @private * @memberOf Background */ function _onInstalled(details) { if (details.reason === 'install') { // initial install Chrome.GA.event(Chrome.GA.EVENT.INSTALLED, Chrome.Utils.getVersion()); app.Data.initialize(); _showOptionsTab(); } else if (details.reason === 'update') { if (!app.Utils.DEBUG) { if (Chrome.Utils.getVersion() === details.previousVersion) { // spurious update: // https://bugs.chromium.org/p/chromium/issues/detail?id=303481 return; } } // extension updated app.Data.update(); } } /** * Event: Fired when a profile that has this extension installed first * starts up * @see https://developer.chrome.com/extensions/runtime#event-onStartup * @private * @memberOf Background */ function _onStartup() { Chrome.GA.page('/background.html'); app.Data.processState(); } /** * Event: Fired when a browser action icon is clicked. * @see https://goo.gl/abVwKu * @private * @memberOf Background */ function _onIconClicked() { _showOptionsTab(); } /** * Event: Fired when item in localStorage changes * @see https://developer.mozilla.org/en-US/docs/Web/Events/storage * @param {Event} event - StorageEvent * @param {string} event.key - storage item that changed * @private * @memberOf Background */ function _onStorageChanged(event) { app.Data.processState(event.key); } // noinspection JSUnusedLocalSymbols /** * Event: Fired when a message is sent from either an extension process&lt;br&gt; * (by runtime.sendMessage) or a content script (by tabs.sendMessage). * @see https://developer.chrome.com/extensions/runtime#event-onMessage * @param {Chrome.Msg.Message} request - details for the message * @param {Object} [sender] - MessageSender object * @param {Function} [response] - function to call once after processing * @returns {boolean} true if asynchronous * @private * @memberOf Background */ function _onChromeMessage(request, sender, response) { if (request.message === Chrome.Msg.RESTORE_DEFAULTS.message) { app.Data.restoreDefaults(); } else if (request.message === Chrome.Msg.STORE.message) { Chrome.Storage.set(request.key, request.value); } return false; } /** * Event: called when document and resources are loaded * @private * @memberOf Background */ function _onLoad() { // listen for extension install or update chrome.runtime.onInstalled.addListener(_onInstalled); // listen for Chrome starting chrome.runtime.onStartup.addListener(_onStartup); // listen for click on the icon chrome.browserAction.onClicked.addListener(_onIconClicked); // listen for changes to the stored data addEventListener('storage', _onStorageChanged, false); // listen for chrome messages Chrome.Msg.listen(_onChromeMessage); } // listen for document and resources loaded window.addEventListener('load', _onLoad); })(); × Search results Close "},"scripts_auth.js.html":{"id":"scripts_auth.js.html","title":"Source: scripts/auth.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: scripts/auth.js /* * Copyright (c) 2016-2017, Michael A. Updike All rights reserved. * Licensed under Apache 2.0 * https://opensource.org/licenses/Apache-2.0 * https://github.com/opus1269/chrome-extension-utils/blob/master/LICENSE.md */ window.Chrome = window.Chrome || {}; /** * Google authorization utilities * @see https://developer.chrome.com/apps/identity * @namespace */ Chrome.Auth = (function() { 'use strict'; new ExceptionHandler(); const chromep = new ChromePromise(); return { /** * Get our OAuth2.0 token * @param {boolean} interactive - if true may block * @returns {Promise&lt;string&gt;} An access token * @memberOf Chrome.Auth */ getToken: function(interactive = false) { return chromep.identity.getAuthToken({ 'interactive': interactive, }).then((token) =&gt; { return Promise.resolve(token); }); }, /** * Remove our cached auth token * @param {string|null} [curToken=null] token to remove * @returns {Promise.&lt;string&gt;} the old token * @memberOf Chrome.Auth */ removeCachedToken: function(curToken = null) { let oldToken = null; if (curToken === null) { return this.getToken(false).then((token) =&gt; { oldToken = token; return chromep.identity.removeCachedAuthToken({'token': token}); }).then(() =&gt; { return Promise.resolve(oldToken); }); } else { oldToken = curToken; return chromep.identity.removeCachedAuthToken({ 'token': curToken, }).then(() =&gt; { return Promise.resolve(oldToken); }); } }, }; })(); × Search results Close "},"scripts_analytics.js.html":{"id":"scripts_analytics.js.html","title":"Source: scripts/analytics.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: scripts/analytics.js /* * Copyright (c) 2016-2017, Michael A. Updike All rights reserved. * Licensed under Apache 2.0 * https://opensource.org/licenses/Apache-2.0 * https://github.com/opus1269/chrome-extension-utils/blob/master/LICENSE.md */ window.Chrome = window.Chrome || {}; /** * Google Analytics tracking * @namespace */ Chrome.GA = (function() { 'use strict'; /** * Google Analytics Event * @typedef {Object} Chrome.GA.Event * @property {string} eventCategory - category * @property {string} eventAction - action * @property {string} eventLabel - label * @memberOf Chrome.GA */ /** * Event: called when document and resources are loaded&lt;br /&gt; * Initialize Google Analytics * @private * @memberOf Chrome.GA */ function _onLoad() { // Standard Google Universal Analytics code // noinspection OverlyComplexFunctionJS (function(i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; // noinspection CommaExpressionJS i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments); }, i[r].l = 1 * new Date(); // noinspection CommaExpressionJS a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m); })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga'); } // listen for document and resources loaded window.addEventListener('load', _onLoad); /** * Event types * @type {{}} * @property {Chrome.GA.Event} INSTALLED - extension installed * @property {Chrome.GA.Event} UPDATED - extension updated * @property {Chrome.GA.Event} MENU - menu selected * @property {Chrome.GA.Event} TOGGLE - setting-toggle * @property {Chrome.GA.Event} LINK - setting-link * @property {Chrome.GA.Event} TEXT - setting-text * @property {Chrome.GA.Event} SLIDER_VALUE - setting-slider value * @property {Chrome.GA.Event} SLIDER_UNITS - setting-slider unit * @property {Chrome.GA.Event} BUTTON - button click * @property {Chrome.GA.Event} ICON - toolbar icon click * @property {Chrome.GA.Event} CHECK - checkbox click * @property {Chrome.GA.Event} KEY_COMMAND - keyboard shortcut * @const * @memberOf Chrome.GA */ const _EVENT = { INSTALLED: { eventCategory: 'extension', eventAction: 'installed', eventLabel: '', }, UPDATED: { eventCategory: 'extension', eventAction: 'updated', eventLabel: '', }, MENU: { eventCategory: 'ui', eventAction: 'menuSelect', eventLabel: '', }, TOGGLE: { eventCategory: 'ui', eventAction: 'toggle', eventLabel: '', }, LINK: { eventCategory: 'ui', eventAction: 'linkSelect', eventLabel: '', }, TEXT: { eventCategory: 'ui', eventAction: 'textChanged', eventLabel: '', }, SLIDER_VALUE: { eventCategory: 'ui', eventAction: 'sliderValueChanged', eventLabel: '', }, SLIDER_UNITS: { eventCategory: 'ui', eventAction: 'sliderUnitsChanged', eventLabel: '', }, BUTTON: { eventCategory: 'ui', eventAction: 'buttonClicked', eventLabel: '', }, ICON: { eventCategory: 'ui', eventAction: 'toolbarIconClicked', eventLabel: '', }, CHECK: { eventCategory: 'ui', eventAction: 'checkBoxClicked', eventLabel: '', }, KEY_COMMAND: { eventCategory: 'ui', eventAction: 'keyCommand', eventLabel: '', }, }; return { EVENT: _EVENT, /** * Initialize analytics * @param {string} trackingId - tracking id * @param {string} appName - extension name * @param {string} appId - extension Id * @param {string} appVersion - extension version * @memberOf Chrome.GA */ initialize: function(trackingId, appName, appId, appVersion) { ga('create', trackingId, 'auto'); // see: http://stackoverflow.com/a/22152353/1958200 ga('set', 'checkProtocolTask', function() { }); ga('set', 'appName', appName); ga('set', 'appId', appId); ga('set', 'appVersion', appVersion); ga('require', 'displayfeatures'); }, /** * Send a page * @param {string} page - page path * @memberOf Chrome.GA */ page: function(page) { if (page) { if (!Chrome.Utils.DEBUG) { ga('send', 'pageview', page); } } }, /** * Send an event * @param {Chrome.GA.Event} event - the event type * @param {?string} [label=null] - override label * @param {?string} [action=null] - override action * @memberOf Chrome.GA */ event: function(event, label = null, action = null) { if (event) { const ev = Chrome.JSONUtils.shallowCopy(event); ev.hitType = 'event'; ev.eventLabel = label ? label : ev.eventLabel; ev.eventAction = action ? action : ev.eventAction; if (!Chrome.Utils.DEBUG) { ga('send', ev); } else { // eslint-disable-next-line no-console console.log(ev); } } }, /** * Send an error * @param {?string} [label='unknown'] - override label * @param {?string} [action='unknownMethod'] - override action * @memberOf Chrome.GA */ error: function(label = 'unknown', action = 'unknownMethod') { const ev = { hitType: 'event', eventCategory: 'error', eventAction: action, eventLabel: `Err: ${label}`, }; if (!Chrome.Utils.DEBUG) { ga('send', ev); } else { console.error(ev); } }, /** * Send an exception * @param {Object} exception - the exception * @param {?string} [message=null] - the error message * @param {boolean} [fatal=true] - true if fatal * @memberOf Chrome.GA */ exception: function(exception, message = null, fatal = false) { try { let msg = 'Unknown'; if (message) { msg = message; } else if (exception.message) { msg = exception.message; } if (exception.stack) { msg += `\\n\\n${exception.stack}`; } const ex = { hitType: 'exception', exDescription: msg, exFatal: fatal, }; if (!Chrome.Utils.DEBUG) { ga('send', ex); } else { console.error(ex); } } catch (err) { Chrome.Utils.noop(); } }, }; })(); × Search results Close "},"scripts_http.js.html":{"id":"scripts_http.js.html","title":"Source: scripts/http.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: scripts/http.js /* * Copyright (c) 2016-2017, Michael A. Updike All rights reserved. * Licensed under Apache 2.0 * https://opensource.org/licenses/Apache-2.0 * https://github.com/opus1269/chrome-extension-utils/blob/master/LICENSE.md */ window.Chrome = window.Chrome || {}; /** * Fetch with authentication and exponential back-off * @namespace */ Chrome.Http = (function() { 'use strict'; new ExceptionHandler(); /** * Http configuration * @typedef {?{}} Chrome.Http.Config * @property {boolean} [isAuth=false] - if true, authorization required * @property {boolean} [retryToken=false] - if true, retry with new token * @property {boolean} [interactive=false] - user initiated, if true * @property {?string} [token=null] - auth token * @property {boolean} [backoff=true] - if true, do exponential back-off * @property {int} [maxRetries=_MAX_ATTEMPTS] - max retries * @memberOf Chrome.Http */ /** * Http response * @typedef {{}} Chrome.Http.Response * @property {boolean} ok - success flag * @property {Function} json - returned data as JSON * @property {int} status - HTTP response code * @property {string} statusText - HTTP response message * @memberOf Chrome.Http */ /** * Authorization header * @type {string} * @private * @memberOf Chrome.Http */ const _AUTH_HEADER = 'Authorization'; /** * Bearer parameter for authorized call * @type {string} * @private * @memberOf Chrome.Http */ const _BEARER = 'Bearer'; /** * Max retries on 500 errors * @type {int} * @private * @memberOf Chrome.Http */ const _MAX_RETRIES = 4; /** * Delay multiplier for exponential back-off * @const * @private * @memberOf Chrome.Http */ const _DELAY = 1000; /** * Configuration object * @type {Chrome.Http.Config} * @private * @memberOf Chrome.Http */ const _CONFIG = { isAuth: false, retryToken: false, interactive: false, token: null, backoff: true, maxRetries: _MAX_RETRIES, }; /** * Check response and act accordingly * @param {Chrome.Http.Response} response - server response * @param {string} url - server * @param {Object} opts - fetch options * @param {Chrome.Http.Config} conf - configuration * @param {int} attempt - the retry attempt we are on * @returns {Promise.&lt;JSON&gt;} response from server * @private * @memberOf Chrome.Http */ function _processResponse(response, url, opts, conf, attempt) { if (response.ok) { // request succeeded - woo hoo! return response.json(); } if (attempt &gt;= conf.maxRetries) { // request still failed after maxRetries return Promise.reject(_getError(response)); } const status = response.status; if (conf.backoff &amp;&amp; (status &gt;= 500) &amp;&amp; (status &lt; 600)) { // temporary server error, maybe. Retry with backoff return _retry(url, opts, conf, attempt); } if (conf.isAuth &amp;&amp; conf.token &amp;&amp; conf.retryToken &amp;&amp; (status === 401)) { // could be expired token. Remove cached one and try again return _retryToken(url, opts, conf, attempt); } if (conf.isAuth &amp;&amp; conf.interactive &amp;&amp; conf.token &amp;&amp; conf.retryToken &amp;&amp; (status === 403)) { // user may have revoked access to extension at some point // If interactive, retry so they can authorize again return _retryToken(url, opts, conf, attempt); } // request failed return Promise.reject(_getError(response)); } /** * Get Error message * @param {Chrome.Http.Response} response - server response * @returns {Error} * @private * @memberOf Chrome.Http */ function _getError(response) { let msg = 'Unknown error.'; if (response &amp;&amp; response.status &amp;&amp; (typeof(response.statusText) !== 'undefined')) { let statusMsg = Chrome.Locale.localize('err_status'); if ((typeof(statusMsg) === 'undefined') || (statusMsg === '')) { // in case localize is missing statusMsg = 'Status'; } msg = `${statusMsg}: ${response.status}`; msg += `\\n${response.statusText}`; } return new Error(msg); } /** * Get authorization token * @param {boolean} isAuth - if true, authorization required * @param {boolean} interactive - if true, user initiated * @returns {Promise.&lt;string&gt;} auth token * @private * @memberOf Chrome.Http */ function _getAuthToken(isAuth, interactive) { if (isAuth) { return Chrome.Auth.getToken(interactive).then((token) =&gt; { return Promise.resolve(token); }).catch((err) =&gt; { if (interactive &amp;&amp; (err.message.includes('revoked') || err.message.includes('Authorization page could not be loaded'))) { // try one more time non-interactively // Always returns Authorization page error // when first registering, Not sure why // Other message is if user revoked access to extension return Chrome.Auth.getToken(false); } else { return Promise.reject(err); } }); } else { // non-authorization branch return Promise.resolve(null); } } /** * Retry authorized fetch with exponential back-off * @param {string} url - server request * @param {Object} opts - fetch options * @param {Chrome.Http.Config} conf - configuration * @param {int} attempt - the retry attempt we are on * @returns {Promise.&lt;JSON&gt;} response from server * @private * @memberOf Chrome.Http */ function _retry(url, opts, conf, attempt) { attempt++; // eslint-disable-next-line promise/avoid-new return new Promise((resolve, reject) =&gt; { const delay = (Math.pow(2, attempt) - 1) * _DELAY; setTimeout(() =&gt; { return _fetch(url, opts, conf, attempt).then(resolve, reject); }, delay); }); } /** * Retry fetch after removing cached auth token * @param {string} url - server request * @param {Object} opts - fetch options * @param {Chrome.Http.Config} conf - configuration * @param {int} attempt - the retry attempt we are on * @returns {Promise.&lt;JSON&gt;} response from server * @private * @memberOf Chrome.Http */ function _retryToken(url, opts, conf, attempt) { Chrome.GA.error('Refreshed auth token.', 'Http._retryToken'); return Chrome.Auth.removeCachedToken(conf.token).then(() =&gt; { conf.token = null; conf.retryToken = false; return _fetch(url, opts, conf, attempt); }); } /** * Perform fetch, optionally using authorization and exponential back-off * @param {string} url - server request * @param {Object} opts - fetch options * @param {Chrome.Http.Config} conf - configuration * @param {int} attempt - the retry attempt we are on * @returns {Promise.&lt;JSON&gt;} response from server * @private * @memberOf Chrome.Http */ function _fetch(url, opts, conf, attempt) { return _getAuthToken(conf.isAuth, conf.interactive).then((authToken) =&gt; { if (conf.isAuth) { conf.token = authToken; opts.headers.set(_AUTH_HEADER, `${_BEARER} ${conf.token}`); } return fetch(url, opts); }).then((response) =&gt; { return _processResponse(response, url, opts, conf, attempt); }).catch((err) =&gt; { let msg = err.message; if (msg === 'Failed to fetch') { msg = Chrome.Locale.localize('err_network'); if ((typeof(msg) === 'undefined') || (msg === '')) { // in case localize is missing msg = 'Network error'; } } return Promise.reject(new Error(msg)); }); } /** * Do a server request * @param {string} url - server request * @param {Object} opts - fetch options * @param {Chrome.Http.Config} conf - configuration * @returns {Promise.&lt;JSON&gt;} response from server * @private * @memberOf Chrome.Http */ function _doIt(url, opts, conf) { conf = (conf === null) ? _CONFIG : conf; if (conf.isAuth) { opts.headers.set(_AUTH_HEADER, `${_BEARER} unknown`); } let attempt = 0; return _fetch(url, opts, conf, attempt); } return { conf: _CONFIG, /** * Perform GET request * @param {string} url - server request * @param {Chrome.Http.Config} [conf=null] - configuration * @returns {Promise.&lt;JSON&gt;} response from server * @memberOf Chrome.Http */ doGet: function(url, conf = null) { const opts = {method: 'GET', headers: new Headers({})}; return _doIt(url, opts, conf); }, /** * Perform POST request * @param {string} url - server request * @param {Chrome.Http.Config} [conf=null] - configuration * @returns {Promise.&lt;JSON&gt;} response from server * @memberOf Chrome.Http */ doPost: function(url, conf = null) { const opts = {method: 'POST', headers: new Headers({})}; return _doIt(url, opts, conf); }, }; })(window); × Search results Close "},"scripts_json.js.html":{"id":"scripts_json.js.html","title":"Source: scripts/json.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: scripts/json.js /* * Copyright (c) 2016-2017, Michael A. Updike All rights reserved. * Licensed under Apache 2.0 * https://opensource.org/licenses/Apache-2.0 * https://github.com/opus1269/chrome-extension-utils/blob/master/LICENSE.md */ window.Chrome = window.Chrome || {}; /** * JSON utilities * @namespace */ Chrome.JSONUtils = (function() { 'use strict'; new ExceptionHandler(); return { /** * Parse JSON, with exception handling * @param {!string} jsonString - string to parse * @returns {?JSON} JSON Object, null on error * @memberOf Chrome.JSONUtils */ parse: function(jsonString) { let ret = null; try { ret = JSON.parse(jsonString); } catch (err) { Chrome.GA.exception(`Caught: JSONUtils.parse: ${err.message}`, err.stack, false); } return ret; }, /** * Return shallow copy of Object * @param {!Object} object - object to copy * @returns {?JSON} JSON Object, null on error * @memberOf Chrome.JSONUtils */ shallowCopy: function(object) { let ret = null; const jsonString = JSON.stringify(object); if (typeof(jsonString) !== 'undefined') { ret = Chrome.JSONUtils.parse(jsonString); } return ret; }, }; })(); × Search results Close "},"scripts_locales.js.html":{"id":"scripts_locales.js.html","title":"Source: scripts/locales.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: scripts/locales.js /* * Copyright (c) 2016-2017, Michael A. Updike All rights reserved. * Licensed under Apache 2.0 * https://opensource.org/licenses/Apache-2.0 * https://github.com/opus1269/chrome-extension-utils/blob/master/LICENSE.md */ window.Chrome = window.Chrome || {}; /** * Locale methods * @see https://developer.chrome.com/extensions/i18n * @namespace */ Chrome.Locale = (function() { 'use strict'; new ExceptionHandler(); return { /** * Get the i18n string * @param {string} messageName - key in messages.json * @returns {string} internationalized string * @memberOf Chrome.Locale */ localize: function(messageName) { return chrome.i18n.getMessage(messageName); }, /** * Get the current locale * @returns {string} current locale e.g. en_US * @memberOf Chrome.Locale */ getLocale: function() { return chrome.i18n.getMessage('@@ui_locale'); }, }; })(); × Search results Close "},"localize-behavior_localize-behavior.js.html":{"id":"localize-behavior_localize-behavior.js.html","title":"Source: localize-behavior/localize-behavior.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: localize-behavior/localize-behavior.js 'use strict'; window.Chrome = window.Chrome || {}; /** * Behavior for internationalizing strings * @polymerBehavior Chrome.LocalizeBehavior */ Chrome.LocalizeBehavior = { properties: { /** * Get a string */ localize: { type: Function, value: function() { return function() { const messageName = arguments[0]; return Chrome.Locale.localize(messageName); }; }, }, }, }; × Search results Close "},"scripts_log.js.html":{"id":"scripts_log.js.html","title":"Source: scripts/log.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: scripts/log.js /* * Copyright (c) 2016-2017, Michael A. Updike All rights reserved. * Licensed under Apache 2.0 * https://opensource.org/licenses/Apache-2.0 * https://github.com/opus1269/chrome-extension-utils/blob/master/LICENSE.md */ window.Chrome = window.Chrome || {}; /** * Log a message. Will also store the LastError to local storage as 'lastError' * @namespace */ Chrome.Log = (function() { 'use strict'; return { /** * Log an error * @param {?string} [message='unknown'] - override label * @param {?string} [method='unknownMethod'] - override action * @param {?string} [title=null] - a title for the error * @memberOf Chrome.Log */ error: function(message = 'unknown', method = 'unknownMethod', title = null) { const theTitle = title ? title : 'An error occurred'; Chrome.Storage.setLastError( new Chrome.Storage.LastError(message, theTitle)); Chrome.GA.error(message, method); }, /** * Log an exception * @param {Object} exception - the exception * @param {?string} [message=null] - the error message * @param {boolean} [fatal=true] - true if fatal * @param {?string} [title='An exception was caught'] * - a title for the error * @memberOf Chrome.Log */ exception: function(exception, message = null, fatal = false, title='An exception was caught') { try { Chrome.Storage.setLastError( new Chrome.Storage.LastError(message, title)); Chrome.GA.exception(exception, message, fatal); } catch (err) { Chrome.Utils.noop(); } }, }; })(); × Search results Close "},"scripts_msg.js.html":{"id":"scripts_msg.js.html","title":"Source: scripts/msg.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: scripts/msg.js /* * Copyright (c) 2016-2017, Michael A. Updike All rights reserved. * Licensed under Apache 2.0 * https://opensource.org/licenses/Apache-2.0 * https://github.com/opus1269/chrome-extension-utils/blob/master/LICENSE.md */ window.Chrome = window.Chrome || {}; /** * Wrapper for chrome messages * @see https://developer.chrome.com/extensions/messaging * @namespace */ Chrome.Msg = (function() { 'use strict'; new ExceptionHandler(); /** * A Chrome message * @typedef {{}} Chrome.Msg.Message * @property {string} message - Unique name * @property {Error} error - an error * @property {string|Object} item - a message specific item * @property {boolean} updated - item is new or updated * @property {string} key - key name * @property {?Object} value - value of key * @memberOf Chrome.Msg */ /** * Chrome Messages * @type {{}} * @property {Chrome.Msg.Message} HIGHLIGHT - highlight a tab * @property {Chrome.Msg.Message} RESTORE_DEFAULTS - restore default settings * @property {Chrome.Msg.Message} STORAGE_EXCEEDED - local storage save failed * @property {Chrome.Msg.Message} STORE - save value to storage * @const * @private * @memberOf Chrome.Msg */ const _MSG = { HIGHLIGHT: { message: 'highlightTab', }, RESTORE_DEFAULTS: { message: 'restoreDefaults', }, STORAGE_EXCEEDED: { message: 'storageExceeded', }, STORE: { message: 'store', key: '', value: '', }, }; return { HIGHLIGHT: _MSG.HIGHLIGHT, RESTORE_DEFAULTS: _MSG.RESTORE_DEFAULTS, STORAGE_EXCEEDED: _MSG.STORAGE_EXCEEDED, STORE: _MSG.STORE, /** * Send a chrome message * @param {Chrome.Msg.Message} type - type of message * @returns {Promise&lt;JSON&gt;} response JSON * @memberOf Chrome.Msg */ send: function(type) { const chromep = new ChromePromise(); return chromep.runtime.sendMessage(type, null).then((response) =&gt; { return Promise.resolve(response); }).catch((err) =&gt; { if (err.message &amp;&amp; !err.message.includes('port closed') &amp;&amp; !err.message.includes('Receiving end does not exist')) { const msg = `type: ${type.message}, ${err.message}`; Chrome.GA.error(msg, 'Msg.send'); } return Promise.reject(err); }); }, /** * Add a listener for chrome messages * @param {Function} listener - function to receive messages * @memberOf Chrome.Msg */ listen: function(listener) { chrome.runtime.onMessage.addListener(listener); }, }; })(); × Search results Close "},"scripts_storage.js.html":{"id":"scripts_storage.js.html","title":"Source: scripts/storage.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: scripts/storage.js /* * Copyright (c) 2016-2017, Michael A. Updike All rights reserved. * Licensed under Apache 2.0 * https://opensource.org/licenses/Apache-2.0 * https://github.com/opus1269/chrome-extension-utils/blob/master/LICENSE.md */ window.Chrome = window.Chrome || {}; /** * Manage items in localStorage * @namespace */ Chrome.Storage = (function() { 'use strict'; new ExceptionHandler(); const chromep = new ChromePromise(); return { /** * Get a JSON parsed value from localStorage * @param {!string} key - key to get value for * @param {?Object} [def=null] - return value if key not found * @returns {?Object} JSON object, null if key does not exist * @memberOf Chrome.Storage */ get: function(key, def = null) { let value = def; let item = localStorage.getItem(key); if (item !== null) { value = Chrome.JSONUtils.parse(item); } return value; }, /** * Get integer value from localStorage * @param {!string} key - key to get value for * @param {?int} [def=null] - optional value to return, if NaN * @returns {int} value as integer, NaN on error * @memberOf Chrome.Storage */ getInt: function(key, def = null) { let item = localStorage.getItem(key); let value = parseInt(item, 10); if (Number.isNaN(value)) { value = (def === null) ? value : def; if (def === null) { Chrome.GA.error(`NaN value for: ${key} equals ${item}`, 'Storage.getInt'); } } return value; }, /** * Get boolean value from localStorage * @param {!string} key - key to get value for * @param {?boolean} [def=null] - return value if key not found * @returns {?boolean} value as boolean, null if key does not exist * @memberOf Chrome.Storage */ getBool: function(key, def = null) { return Chrome.Storage.get(key, def); }, /** * JSON stringify and save a value to localStorage * @param {!string} key - key to set value for * @param {?Object} [value=null] - new value, if null remove item * @memberOf Chrome.Storage */ set: function(key, value = null) { if (value === null) { localStorage.removeItem(key); } else { const val = JSON.stringify(value); localStorage.setItem(key, val); } }, /** * Save a value to localStorage only if there is enough room * @param {!string} key - localStorage Key * @param {Object} value - value to save * @param {string} [keyBool] - key to a boolean value * that is true if the primary key has non-empty value * @returns {boolean} true if value was set successfully * @memberOf Chrome.Storage */ safeSet: function(key, value, keyBool) { let ret = true; const oldValue = Chrome.Storage.get(key); try { Chrome.Storage.set(key, value); } catch (e) { ret = false; if (oldValue) { // revert to old value Chrome.Storage.set(key, oldValue); } if (keyBool) { // revert to old value if (oldValue &amp;&amp; oldValue.length) { Chrome.Storage.set(keyBool, true); } else { Chrome.Storage.set(keyBool, false); } } // notify listeners Chrome.Msg.send(Chrome.Msg.STORAGE_EXCEEDED).catch(() =&gt; { }); } return ret; }, /** * An error that can be persisted * Usage: const err = new LastError(message, title) * @param {?string} [message=''] - the message * @param {?string} [title='An error occurred'] - the title * @property {string} name - Error name * @property {string} stack - stack trace * @memberOf Chrome.Storage */ LastError: function(message = '', title = 'An error occurred') { this.name = 'LastError'; this.message = message; this.title = title; this.stack = (new Error).stack; Chrome.Storage.LastError.prototype = Object.create(Error.prototype); Chrome.Storage.LastError.prototype.constructor = Chrome.Storage.LastError; }, /** * Get the LastError from chrome.storage.local * @returns {Promise&lt;Chrome.Msg.LastError&gt;} last error * @memberOf Chrome.Storage */ getLastError: function() { return chromep.storage.local.get('lastError').then((values) =&gt; { if (values.lastError) { return Promise.resolve(values.lastError); } return new Chrome.Storage.LastError(); }); }, /** * Save the LastError to chrome.storage.local * @see https://developer.chrome.com/apps/storage * @param {Chrome.Storage.LastError} error - the LastError * @returns {Promise&lt;void&gt;} void * @memberOf Chrome.Storage */ setLastError: function(error) { // Save it using the Chrome storage API. return chromep.storage.local.set({'lastError': error}); }, /** * Set the LastError to an empty message in chrome.storage.local * @returns {Promise&lt;void&gt;} void * @memberOf Chrome.Storage */ clearLastError: function() { return Chrome.Storage.setLastError(new Chrome.Storage.LastError()); }, }; })(); × Search results Close "},"scripts_time.js.html":{"id":"scripts_time.js.html","title":"Source: scripts/time.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: scripts/time.js /* * Copyright (c) 2016-2017, Michael A. Updike All rights reserved. * Licensed under Apache 2.0 * https://opensource.org/licenses/Apache-2.0 * https://github.com/opus1269/chrome-extension-utils/blob/master/LICENSE.md */ { 'use strict'; new ExceptionHandler(); window.Chrome = window.Chrome || {}; /** * Time Class * @property {int} _hr - 24 hour time * @property {int} _min - minutes * @alias Chrome.Time */ Chrome.Time = class Time { /** * Create a new Time * @param {?string} [timeString=null] - in '00:00' format, if null * use current Date * @constructor */ constructor(timeString = null) { this._parse(timeString); } /** * Minutes in day * @returns {int} value * @static */ static get MIN_IN_DAY() { return 60 * 24; } /** * Milliseconds in day * @returns {int} value * @static */ static get MSEC_IN_DAY() { return Chrome.Time.MIN_IN_DAY * 60 * 1000; } /** * Determine if user wants 24 hr time * @param {?int} [frmt=null] - optional format, overrides storage value * @returns {boolean} true for 24 hour time * @private * @static */ static _is24Hr(frmt = null) { let ret = false; let format = Chrome.Storage.getInt('showTime', 0); if (frmt !== null) { format = frmt; } const localeTime = Chrome.Locale.localize('time_format'); if (format === 2) { // time display 24hr ret = true; } else if ((format === 0) &amp;&amp; (localeTime === '24')) { // time display off, locale time 24 ret = true; } return ret; } /** * Convert string to current time * @param {!string} timeString - in '00:00' format * @returns {int} time in milliSeconds from epoch * @static */ static getTime(timeString) { const date = new Date(); const time = new Time(timeString); date.setHours(time._hr); date.setMinutes(time._min); date.setSeconds(0); date.setMilliseconds(0); return date.getTime(); } /** * Calculate time delta from now on a 24hr basis * @param {string} timeString - in '00:00' format * @returns {int} time delta in minutes * @static */ static getTimeDelta(timeString) { const curTime = Date.now(); const time = Chrome.Time.getTime(timeString); let delayMin = (time - curTime) / 1000 / 60; if (delayMin &lt; 0) { delayMin = Chrome.Time.MIN_IN_DAY + delayMin; } return delayMin; } /** * Determine if current time is between start and stop, inclusive * @param {string} start - in '00:00' format * @param {string} stop - in '00:00' format * @returns {boolean} true if in the given range * @static */ static isInRange(start, stop) { const curTime = Date.now(); const startTime = Chrome.Time.getTime(start); const stopTime = Chrome.Time.getTime(stop); let ret = false; if (start === stop) { ret = true; } else if (stopTime &gt; startTime) { if ((curTime &gt;= startTime) &amp;&amp; (curTime &lt;= stopTime)) { ret = true; } } else { if ((curTime &gt;= startTime) || (curTime &lt;= stopTime)) { ret = true; } } return ret; } /** * Get time as string suitable for display, including AM/PM if 12hr * @param {!string} timeString - in '00:00' format * @param {?int} [frmt=null] - optional format, overrides storage value * @returns {!string} display string * @static */ static getStringFull(timeString, frmt = null) { const time = new Time(timeString); return time.toString(frmt); } /** * Get current time suitable for display w/o AM/PM if 12hr * @returns {!string} display string * @static */ static getStringShort() { const time = new Time(); let timeString = time.toString(); // strip off all non-digits but : timeString = timeString.replace(/[^\\d:]/g, ''); // strip off everything after 'xx:xx' timeString = timeString.replace(/(.*?:.*?):.*/g, '$1'); return timeString; } /** * Parse time string * @param {string} timeString - in '00:00' format * @private */ _parse(timeString) { if (timeString === null) { const date = new Date(); this._hr = date.getHours(); this._min = date.getMinutes(); } else { this._hr = parseInt(timeString.substr(0, 2), 10); this._min = parseInt(timeString.substr(3, 2), 10); } } /** * Get string representation of Time * @param {?int} [frmt=null] - optional format, overrides storage value * @returns {string} As string */ toString(frmt = null) { const date = new Date(); date.setHours(this._hr, this._min); date.setSeconds(0); date.setMilliseconds(0); // fallback in case toLocaleTimeString fails - it does sometimes let ret = date.toTimeString(); const languages = []; if (typeof(navigator.language) !== 'undefined') { languages.push(navigator.language); } languages.push('en-US'); const opts = { hour: 'numeric', minute: '2-digit', hour12: !Time._is24Hr(frmt), }; try { ret = date.toLocaleTimeString(languages, opts); } catch (err) { Chrome.Utils.noop(); } return ret; } }; } × Search results Close "},"scripts_utils.js.html":{"id":"scripts_utils.js.html","title":"Source: scripts/utils.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: scripts/utils.js /* * Copyright (c) 2016-2017, Michael A. Updike All rights reserved. * Licensed under Apache 2.0 * https://opensource.org/licenses/Apache-2.0 * https://github.com/opus1269/chrome-extension-utils/blob/master/LICENSE.md */ window.Chrome = window.Chrome || {}; /** * Utility methods * @namespace */ Chrome.Utils = (function() { 'use strict'; new ExceptionHandler(); const chromep = new ChromePromise(); /** * Set to true if development build * @type {boolean} * @private * @memberOf Chrome.Utils */ const _DEBUG = false; return { /** * True if development build * @type {boolean} * @memberOf Chrome.Utils */ DEBUG: _DEBUG, /** Get the extension's name * @returns {string} Extension name * @memberOf Chrome.Utils */ getExtensionName: function() { return `chrome-extension://${chrome.runtime.id}`; }, /** * Get the Extension version * @returns {string} Extension version * @memberOf Chrome.Utils */ getVersion: function() { const manifest = chrome.runtime.getManifest(); return manifest.version; }, /** * Get the Chrome version * @see http://stackoverflow.com/a/4900484/4468645 * @returns {int} Chrome major version * @memberOf Chrome.Utils */ getChromeVersion: function() { const raw = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./); return raw ? parseInt(raw[2], 10) : false; }, /** * Get the full Chrome version * @see https://goo.gl/2ITMNO * @returns {string} Chrome version * @memberOf Chrome.Utils */ getFullChromeVersion: function() { const raw = navigator.userAgent; return raw ? raw : 'Unknown'; }, /** * Get the OS as a human readable string * @returns {Promise.&lt;string&gt;} OS name * @memberOf Chrome.Utils */ getPlatformOS: function() { return chromep.runtime.getPlatformInfo().then((info) =&gt; { let output = 'Unknown'; const os = info.os; switch (os) { case 'win': output = 'MS Windows'; break; case 'mac': output = 'Mac'; break; case 'android': output = 'Android'; break; case 'cros': output = 'Chrome OS'; break; case 'linux': output = 'Linux'; break; case 'openbsd': output = 'OpenBSD'; break; default: break; } return Promise.resolve(output); }); }, /** * Determine if we are MS windows * @returns {Promise.&lt;boolean&gt;} true if MS Windows * @memberOf Chrome.Utils */ isWindows: function() { return chromep.runtime.getPlatformInfo().then((info) =&gt; { return Promise.resolve((info.os === 'win')); }); }, /** * Determine if we are Chrome OS * @returns {Promise.&lt;boolean&gt;} true if ChromeOS * @memberOf Chrome.Utils */ isChromeOS: function() { return chromep.runtime.getPlatformInfo().then((info) =&gt; { return Promise.resolve((info.os === 'cros')); }); }, /** * Determine if we are a Mac * @returns {Promise.&lt;boolean&gt;} true if Mac * @memberOf Chrome.Utils */ isMac: function() { return chromep.runtime.getPlatformInfo().then((info) =&gt; { return Promise.resolve((info.os === 'mac')); }); }, /** * No operation * @memberOf Chrome.Utils */ noop: function() {}, /** * Determine if a String is null or whitespace only * @param {?string} str - string to check * @returns {boolean} true is str is whitespace or null * @memberOf Chrome.Utils */ isWhiteSpace: function(str) { return (!str || str.length === 0 || /^\\s*$/.test(str)); }, /** * Get a random string of the given length * @param {int} [len=8] - length of generated string * @returns {string} a random string * @memberOf Chrome.Utils */ getRandomString: function(len = 8) { const POSS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' + 'abcdefghijklmnopqrstuvwxyz0123456789'; let text = ''; for (let i = 0; i &lt; len; i++) { text += POSS.charAt(Math.floor(Math.random() * POSS.length)); } return text; }, /** * Returns a random integer between min and max inclusive * @param {int} min - min value * @param {int} max - max value * @returns {int} random int * @memberOf Chrome.Utils */ getRandomInt: function(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }, /** * Randomly sort an Array in place * Fisher-Yates shuffle algorithm. * @param {Array} array - Array to sort * @memberOf Chrome.Utils */ shuffleArray: function(array) { const len = array ? array.length : 0; for (let i = len - 1; i &gt; 0; i--) { const j = Math.floor(Math.random() * (i + 1)); const temp = array[i]; array[i] = array[j]; array[j] = temp; } }, }; })(); × Search results Close "},"background_context_menus.js.html":{"id":"background_context_menus.js.html","title":"Source: background/context_menus.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: background/context_menus.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { 'use strict'; /** * Manage the Context Menus for the extension * @see https://developer.chrome.com/extensions/contextMenus * @namespace ContextMenus */ new ExceptionHandler(); const _DISPLAY_MENU = 'DISPLAY_MENU'; const _ENABLE_MENU = 'ENABLE_MENU'; /** * Toggle enabled state of the screen saver * @private * @memberOf ContextMenus */ function _toggleEnabled() { Chrome.Storage.set('enabled', !Chrome.Storage.getBool('enabled')); // storage changed event not fired on same page as the change app.Data.processState('enabled'); } // noinspection JSUnusedLocalSymbols /** * Event: Fired when the extension is first installed,&lt;br /&gt; * when the extension is updated to a new version,&lt;br /&gt; * and when Chrome is updated to a new version. * @see https://developer.chrome.com/extensions/runtime#event-onInstalled * @param {Object} details - type of event * @private * @memberOf ContextMenus */ function _onInstalled(details) { const chromep = new ChromePromise(); // create menus on the right click menu of the extension icon chromep.contextMenus.create({ type: 'normal', id: _DISPLAY_MENU, title: Chrome.Locale.localize('display_now'), contexts: ['browser_action'], }).catch((err) =&gt; { if (!err.message.includes('duplicate id')) { Chrome.Log.error(err.message, 'chromep.contextMenus.create'); } }); chromep.contextMenus.create({ type: 'normal', id: _ENABLE_MENU, title: Chrome.Locale.localize('disable'), contexts: ['browser_action'], }).catch((err) =&gt; { if (!err.message.includes('duplicate id')) { Chrome.Log.error(err.message, 'chromep.contextMenus.create'); } }); chromep.contextMenus.create({ type: 'separator', id: 'SEP_MENU', contexts: ['browser_action'], }).catch((err) =&gt; { if (!err.message.includes('duplicate id')) { Chrome.Log.error(err.message, 'chromep.contextMenus.create'); } }); } /** * Event: Fired when a context menu item is clicked. * @see https://developer.chrome.com/extensions/contextMenus#event-onClicked * @param {Object} info - info. on the clicked menu * @param {Object} info.menuItemId - menu name * @private * @memberOf ContextMenus */ function _onMenuClicked(info) { if (info.menuItemId === _DISPLAY_MENU) { Chrome.GA.event(Chrome.GA.EVENT.MENU, `${info.menuItemId}`); app.SSControl.display(); } else if (info.menuItemId === _ENABLE_MENU) { const isEnabled = Chrome.Storage.get('enabled'); Chrome.GA.event(Chrome.GA.EVENT.MENU, `${info.menuItemId}: ${isEnabled}`); _toggleEnabled(); } } /** * Event: Fired when a registered command is activated using * a keyboard shortcut. * @see https://developer.chrome.com/extensions/commands#event-onCommand * @param {string} cmd - keyboard command * @private * @memberOf ContextMenus */ function _onKeyCommand(cmd) { if (cmd === 'toggle-enabled') { Chrome.GA.event(Chrome.GA.EVENT.KEY_COMMAND, `${cmd}`); _toggleEnabled(); } else if (cmd === 'show-screensaver') { Chrome.GA.event(Chrome.GA.EVENT.KEY_COMMAND, `${cmd}`); app.SSControl.display(); } } // listen for install events chrome.runtime.onInstalled.addListener(_onInstalled); // listen for clicks on context menus chrome.contextMenus.onClicked.addListener(_onMenuClicked); // listen for special keyboard commands chrome.commands.onCommand.addListener(_onKeyCommand); })(); × Search results Close "},"scripts_exception_handler.js.html":{"id":"scripts_exception_handler.js.html","title":"Source: scripts/exception_handler.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: scripts/exception_handler.js /* * Copyright (c) 2016-2017, Michael A. Updike All rights reserved. * Licensed under Apache 2.0 * https://opensource.org/licenses/Apache-2.0 * https://github.com/opus1269/chrome-extension-utils/blob/master/LICENSE.md */ // noinspection ThisExpressionReferencesGlobalObjectJS (function(window, factory) { window.ExceptionHandler = factory(window); }(this, function(window) { 'use strict'; return ExceptionHandler; /** * Log Exceptions with analytics. Include: new ExceptionHandler()&lt;br /&gt; * at top of every js file * @constructor * @alias ExceptionHandler */ function ExceptionHandler() { if (typeof window.onerror === 'object') { // global error handler window.onerror = function(message, url, line, col, errObject) { if (Chrome &amp;&amp; Chrome.Log &amp;&amp; errObject) { Chrome.Log.exception(errObject, null, true); } }; } } })); × Search results Close "},"options_options.js.html":{"id":"options_options.js.html","title":"Source: options/options.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: options/options.js /* * Copyright (c) 2015-2017, Michael A. Updike All rights reserved. * Licensed under the BSD-3-Clause * https://opensource.org/licenses/BSD-3-Clause * https://github.com/opus1269/photo-screen-saver/blob/master/LICENSE.md */ (function() { 'use strict'; /** * Extension's Options page * @namespace Options */ new ExceptionHandler(); /** * Manage an html page that is inserted on demand&lt;br /&gt; * May also be a url link to external site * @typedef {{}} Options.Page * @property {string} label - label for Nav menu * @property {string} route - element name route to page * @property {string} icon - icon for Nav Menu * @property {?Object|Function} obj - something to be done when selected * @property {boolean} ready - true if html is inserted * @property {boolean} divider - true for divider before item * @memberOf Options */ /** * Path to the extension in the Web Store * @type {string} * @const * @private * @memberOf Options */ const EXT_URI = 'https://chrome.google.com/webstore/detail/photo-screen-saver/' + chrome.runtime.id + '/'; /** * Path to my Pushy Clipboard extension * @type {string} * @const * @default * @private * @memberOf Options */ const PUSHY_URI = 'https://chrome.google.com/webstore/detail/pushy-clipboard/' + 'jemdfhaheennfkehopbpkephjlednffd'; /** * auto-binding template * @type {Object} * @const * @private * @memberOf Options */ const t = document.querySelector('#t'); /** * Array of pages * @type {Options.Page[]} * @memberOf Options */ t.pages = [ { label: Chrome.Locale.localize('menu_settings'), route: 'page-settings', icon: 'myicons:settings', obj: null, ready: true, divider: false, }, { label: Chrome.Locale.localize('menu_google'), route: 'page-google-photos', icon: 'myicons:cloud', obj: _showGooglePhotosPage, ready: false, divider: false, }, { label: Chrome.Locale.localize('menu_preview'), route: 'page-preview', icon: 'myicons:pageview', obj: _showScreensaverPreview, ready: true, divider: false, }, { label: Chrome.Locale.localize('menu_error'), route: 'page-error', icon: 'myicons:error', obj: _showErrorPage, ready: false, disabled: false, divider: false, }, { label: Chrome.Locale.localize('menu_help'), route: 'page-help', icon: 'myicons:help', obj: _showHelpPage, ready: false, divider: true, }, { label: Chrome.Locale.localize('help_faq'), route: 'page-faq', icon: 'myicons:help', obj: 'https://opus1269.github.io/photo-screen-saver/faq.html', ready: true, divider: false, }, { label: Chrome.Locale.localize('menu_support'), route: 'page-support', icon: 'myicons:help', obj: `${EXT_URI}support`, ready: true, divider: false, }, { label: Chrome.Locale.localize('menu_rate'), route: 'page-rate', icon: 'myicons:grade', obj: `${EXT_URI}reviews`, ready: true, divider: false, }, { label: Chrome.Locale.localize('menu_pushy'), route: 'page-pushy', icon: 'myicons:extension', obj: PUSHY_URI, ready: true, divider: true, }, ]; // Error dialog t.dialogTitle = ''; t.dialogText = ''; /** * Current {@link Options.Page} * @type {string} * @memberOf Options */ t.route = 'page-settings'; /** * Event Listener for template bound event to know when bindings * have resolved and content has been stamped to the page * @memberOf Options */ t.addEventListener('dom-change', function() { Chrome.GA.page('/options.html'); // listen for chrome messages Chrome.Msg.listen(_onMessage); // initialize lastError enabled state _setErrorMenuState(); // listen for changes to chrome.storage chrome.storage.onChanged.addListener(function(changes) { for (const key in changes) { if (changes.hasOwnProperty(key)) { if (key === 'lastError') { _setErrorMenuState(); break; } } } }); }); /** * Event: navigation menu selected * Route to proper page * @param {Event} event - ClickEvent * @memberOf Options */ t._onNavMenuItemTapped = function(event) { // Close drawer after menu item is selected if it is narrow const drawerPanel = document.querySelector('#paperDrawerPanel'); if (drawerPanel &amp;&amp; drawerPanel.narrow) { drawerPanel.closeDrawer(); } const idx = _getPageIdx(event.currentTarget.id); Chrome.GA.event(Chrome.GA.EVENT.MENU, t.pages[idx].route); const prevRoute = t.route; if (!t.pages[idx].obj) { // some pages are just pages t.route = t.pages[idx].route; _scrollPageToTop(); } else if (typeof t.pages[idx].obj === 'string') { // some pages are url links t.$.mainMenu.select(prevRoute); chrome.tabs.create({url: t.pages[idx].obj}); } else { // some pages have functions to view them t.pages[idx].obj(idx, prevRoute); } }; /** * Computed property: Page title * @returns {string} i18n title * @memberOf Options */ t._computeTitle = function() { return Chrome.Locale.localize('chrome_extension_name'); }; /** * Computed property: Menu label * @returns {string} i18n label * @memberOf Options */ t._computeMenu = function() { return Chrome.Locale.localize('menu'); }; /** * Get the index into the {@link Options.pages} array * @param {string} name - {@link Options.page} route * @returns {int} index into array * @private * @memberOf Options */ function _getPageIdx(name) { return t.pages.map(function(e) { return e.route; }).indexOf(name); } /** * Show the Google Photos page * @param {int} index - index into [t.pages]{@link Options.t.pages} * @memberOf Options */ function _showGooglePhotosPage(index) { if (!t.pages[index].ready) { // create the page the first time t.pages[index].ready = true; t.gPhotosPage = new app.GooglePhotosPage('gPhotosPage'); Polymer.dom(t.$.googlePhotosInsertion).appendChild(t.gPhotosPage); } else if (Chrome.Storage.getBool('isAlbumMode')) { t.gPhotosPage.loadAlbumList(); } t.route = t.pages[index].route; _scrollPageToTop(); } /** * Show the error viewer page * @param {int} index - index into {@link Options.pages} * @private * @memberOf Options */ function _showErrorPage(index) { if (!t.pages[index].ready) { // insert the page the first time t.pages[index].ready = true; const el = new app.ErrorPageFactory(); Polymer.dom(t.$.errorInsertion).appendChild(el); } t.route = t.pages[index].route; _scrollPageToTop(); } /** * Show the help page * @param {int} index - index into [t.pages]{@link Options.t.pages} * @private * @memberOf Options */ function _showHelpPage(index) { if (!t.pages[index].ready) { // insert the page the first time t.pages[index].ready = true; const el = new app.HelpPageFactory(); Polymer.dom(t.$.helpInsertion).appendChild(el); } t.route = t.pages[index].route; _scrollPageToTop(); } // noinspection JSUnusedLocalSymbols /** * Display a preview of the screen saver * @param {int} index - index into [t.pages]{@link Options.t.pages} * @param {string} prevRoute - last page selected * @memberOf Options */ function _showScreensaverPreview(index, prevRoute) { // reselect previous page - need to delay so tap event is done t.async(function() { t.$.mainMenu.select(prevRoute); }, 500); Chrome.Msg.send(app.Msg.SS_SHOW).catch(() =&gt; {}); } /** * Scroll page to top * @memberOf Options */ function _scrollPageToTop() { t.$.scrollPanel.scrollToTop(true); } /** * Set enabled state of Error Viewer menu item * @memberOf Options */ function _setErrorMenuState() { // disable error-page if no lastError Chrome.Storage.getLastError().then((lastError) =&gt; { const idx = _getPageIdx('page-error'); const el = document.getElementById(t.pages[idx].route); if (el &amp;&amp; !Chrome.Utils.isWhiteSpace(lastError.message)) { el.removeAttribute('disabled'); } else if (el) { el.setAttribute('disabled', 'true'); } return Promise.resolve(); }).catch((err) =&gt; { Chrome.GA.error(err.message, 'Options._setErrorMenuState'); }); } // noinspection JSUnusedLocalSymbols /** * Event: Fired when a message is sent from either an extension process&lt;br&gt; * (by runtime.sendMessage) or a content script (by tabs.sendMessage). * @see https://developer.chrome.com/extensions/runtime#event-onMessage * @param {Chrome.Msg.Message} request - details for the message * @param {Object} [sender] - MessageSender object * @param {Function} [response] - function to call once after processing * @returns {boolean} true if asynchronous * @private * @memberOf Options */ function _onMessage(request, sender, response) { if (request.message === Chrome.Msg.HIGHLIGHT.message) { // highlight ourselves and let the sender know we are here const chromep = new ChromePromise(); chromep.tabs.getCurrent().then((t) =&gt; { chrome.tabs.update(t.id, {'highlighted': true}); return null; }).catch((err) =&gt; { Chrome.Log.error(err.message, 'chromep.tabs.getCurrent'); }); response(JSON.stringify({message: 'OK'})); } else if (request.message === Chrome.Msg.STORAGE_EXCEEDED.message) { // Display Error Dialog if a save action exceeded the // localStorage limit t.dialogTitle = Chrome.Locale.localize('err_storage_title'); t.dialogText = Chrome.Locale.localize('err_storage_desc'); t.$.errorDialog.open(); } else if (request.message === app.Msg.PHOTO_SOURCE_FAILED.message) { // failed to load t.$.settingsPage.deselectPhotoSource(request.key); t.dialogTitle = Chrome.Locale.localize('err_photo_source_title'); t.dialogText = request.error; t.$.errorDialog.open(); } return false; } })(); × Search results Close "},"setting-background_setting-background.js.html":{"id":"setting-background_setting-background.js.html","title":"Source: setting-background/setting-background.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: setting-background/setting-background.js 'use strict'; new ExceptionHandler(); /** * Polymer element to select an HTML element background style * @namespace SettingBackground */ Polymer({ is: 'setting-background', behaviors: [ Chrome.LocalizeBehavior, ], properties: { /** * Local storage key * @memberOf SettingBackground */ name: { type: String, value: 'store', }, /** * Optional group title * @memberOf SettingBackground */ sectionTitle: { type: String, value: '', }, /** * Disabled state of element * @memberOf SettingBackground */ disabled: { type: Boolean, value: false, }, /** * Visibility state of optional divider * @memberOf SettingBackground */ noseparator: { type: Boolean, value: false, }, /** * Element id of currently selected background style * @type {string} * @memberOf SettingBackground */ selected: { type: String, value: 'b1', notify: true, }, /** * Local storage value of currently selected background style * @memberOf SettingBackground */ value: { type: String, value: 'background:linear-gradient(to bottom, #3a3a3a, #b5bdc8)', notify: true, }, /** * Item description * @memberOf SettingBackground */ mainLabel: { type: String, value: '', }, /** * Item secondary description * @memberOf SettingBackground */ secondaryLabel: { type: String, value: '', }, }, /** * Initialize value if it is not in localstorage * @private * @memberOf SettingBackground */ _init: function() { this.set('value', 'background:linear-gradient(to bottom, #3a3a3a, #b5bdc8)'); }, /** * Event: Show dialog on tap * @private * @memberOf SettingBackground */ _onTap: function() { this.$.dialog.open(); }, /** * Event: Set selected background on tap of OK button * @private * @memberOf SettingBackground */ _onOK: function() { const el = document.getElementById(this.selected); this.set('value', 'background:' + el.style.background); Chrome.GA.event(Chrome.GA.EVENT.BUTTON, `SettingBackground.OK: ${this.selected}`); }, }); × Search results Close "},"setting-dropdown_setting-dropdown.js.html":{"id":"setting-dropdown_setting-dropdown.js.html","title":"Source: setting-dropdown/setting-dropdown.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: setting-dropdown/setting-dropdown.js 'use strict'; new ExceptionHandler(); /** * Polymer element to select an item from a list * @namespace SettingDropdown */ Polymer({ is: 'setting-dropdown', properties: { /** * Local storage key * @memberOf SettingDropdown */ name: { type: String, value: 'store', }, /** * Menu description * @memberOf SettingDropdown */ label: { type: String, value: '', }, /** * Selected menu item index * @memberOf SettingDropdown */ value: { type: Number, value: 0, notify: true, }, /** * Array of Menu item labels * @memberOf SettingDropdown */ items: { type: Array, value: function() { return []; }, }, /** * Optional group title * @memberOf SettingDropdown */ sectionTitle: { type: String, value: '', }, /** * Disabled state of element * @memberOf SettingDropdown */ disabled: { type: Boolean, value: false, }, /** * Visibility state of optional divider * @memberOf SettingDropdown */ noseparator: { type: Boolean, value: false, }, }, /** * Event: menu item tapped * @param {Event} ev - tap event * @private * @memberOf SettingDropdown */ _onItemSelected: function(ev) { const model = this.$.t.modelForElement(ev.target); if (model) { Chrome.GA.event(Chrome.GA.EVENT.MENU, `${this.name}: ${model.index}`); } }, /** * Initialize value if it is not in localstorage * @private * @memberOf SettingDropdown */ _init: function() { this.set('value', '0'); }, }); × Search results Close "},"setting-link_setting-link.js.html":{"id":"setting-link_setting-link.js.html","title":"Source: setting-link/setting-link.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: setting-link/setting-link.js 'use strict'; new ExceptionHandler(); /** * Polymer element to display a url link * @namespace SettingLink */ Polymer({ is: 'setting-link', properties: { /** * Element name * @memberOf SettingLink */ name: { type: String, value: 'unknown', }, /** * Link description * @memberOf SettingLink */ label: { type: String, value: '', }, /** * Link icon * @memberOf SettingLink */ icon: { type: String, value: '', }, /** * Link url * @memberOf SettingLink */ url: { type: String, value: '', }, /** * Optional group title * @memberOf SettingLink */ sectionTitle: { type: String, value: '', }, /** * Disabled state of element * @memberOf SettingLink */ disabled: { type: Boolean, value: false, }, /** * Visibility state of optional divider * @memberOf SettingLink */ noseparator: { type: Boolean, value: false, }, }, /** * Event: Item tapped - show url in new tab * @private * @memberOf SettingLink */ _onLinkTapped: function() { Chrome.GA.event(Chrome.GA.EVENT.LINK, this.name); chrome.tabs.create({url: this.url}); }, }); × Search results Close "},"setting-slider_setting-slider.js.html":{"id":"setting-slider_setting-slider.js.html","title":"Source: setting-slider/setting-slider.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: setting-slider/setting-slider.js 'use strict'; new ExceptionHandler(); /** * Polymer element to select a value with a slider * @namespace SettingSlider */ Polymer({ is: 'setting-slider', properties: { /** * Local storage key * @memberOf SettingSlider */ name: { type: String, value: 'store', }, /** * Slider description * @memberOf SettingSlider */ label: { type: String, value: '', }, /** * Object containing slider value and display unit index * @memberOf SettingSlider */ value: { type: Object, notify: true, value: function() { return {'base': 10, 'display': 10, 'unit': 0}; }, }, /** * Array of unit labels * @memberOf SettingSlider */ units: { type: Array, value: function() { return []; }, }, /** * Optional group title * @memberOf SettingSlider */ sectionTitle: { type: String, value: '', }, /** * Disabled state of element * @memberOf SettingSlider */ disabled: { type: Boolean, value: false, }, /** * Visibility state of optional divider * @memberOf SettingSlider */ noseparator: { type: Boolean, value: false, }, }, /** * Event: User changed slider value * @private * @memberOf SettingSlider */ _onSliderValueChanged: function() { Chrome.GA.event(Chrome.GA.EVENT.SLIDER_VALUE, this.name); this._setBase(); }, /** * Event: Display unit was changed * @private * @memberOf SettingSlider */ _onUnitChanged: function() { if (this.$.selector.selectedItem) { // skip logging of initial selection Chrome.GA.event(Chrome.GA.EVENT.SLIDER_UNITS, this.name); } this.$.selector.select(this.units[this.value.unit]); this._setBase(); }, /** * Set the base value * @private * @memberOf SettingSlider */ _setBase: function() { this.set('value.base', this.unit.mult * this.value.display); }, /** * Initialize value if it is not in localstorage * @private * @memberOf SettingSlider */ _initValue: function() { this.value = { base: 10, display: 10, unit: 0, }; }, }); × Search results Close "},"setting-text_setting-text.js.html":{"id":"setting-text_setting-text.js.html","title":"Source: setting-text/setting-text.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: setting-text/setting-text.js 'use strict'; new ExceptionHandler(); /** * Polymer element for a text entry * @namespace SettingText */ Polymer({ is: 'setting-text', hostAttributes: { role: 'group', tabIndex: -1, }, properties: { /** * Local storage key * @memberOf SettingText */ name: { type: String, value: 'store', }, /** * Text value * @memberOf SettingText */ value: { type: String, value: '', notify: true, }, /** * Placeholder text when empty * @memberOf SettingText */ placeholder: { type: String, value: 'e.g. Text', notify: true, }, /** * Max length of text entry * @memberOf SettingText */ maxLength: { type: Number, value: '16', notify: true, }, /** * Descriptive label * @memberOf SettingText */ mainLabel: { type: String, value: '', }, /** * Secondary descriptive label * @memberOf SettingText */ secondaryLabel: { type: String, value: '', }, /** * Optional group title * @memberOf SettingText */ sectionTitle: { type: String, value: '', }, /** * Disabled state of element * @memberOf SettingText */ disabled: { type: Boolean, value: false, }, /** * Visibility state of optional divider * @memberOf SettingText */ noseparator: { type: Boolean, value: false, }, }, /** * Event: Lost focus - fire setting-text-changed event * @private * @memberOf SettingText */ _onBlur: function() { Chrome.GA.event(Chrome.GA.EVENT.TEXT, this.name); this.fire('setting-text-changed', {value: this.value}); }, /** * Event: keyup - fire setting-text-changed event on 'Enter' * @param {Event} event - key event * @private * @memberOf SettingText */ _onKeyUp: function(event) { // check if 'Enter' was pressed if (event.keyCode === 13) { Chrome.GA.event(Chrome.GA.EVENT.TEXT, this.name); this.fire('setting-text-changed', {value: this.value}); } }, /** * Initialize value if it is not in localstorage * @private * @memberOf SettingText */ _init: function() { this.set('value', ''); }, }); × Search results Close "},"setting-time_setting-time.js.html":{"id":"setting-time_setting-time.js.html","title":"Source: setting-time/setting-time.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: setting-time/setting-time.js 'use strict'; new ExceptionHandler(); /** * Polymer element for selecting a time * @namespace SettingTime */ Polymer({ is: 'setting-time', behaviors: [ Chrome.LocalizeBehavior, ], properties: { /** * Local storage key * @memberOf SettingTime */ name: { type: String, value: 'store', }, /** * Time value '00:00' format * @memberOf SettingTime */ value: { type: String, value: '00:00', observer: '_valueChanged', }, /** * Time display label * @memberOf SettingTime */ timeLabel: { type: String, value: '12:00 AM', }, /** * Display format 12/24 hr * @memberOf SettingTime */ format: { type: Number, value: 1, notify: true, observer: '_formatChanged', }, /** * Descriptive label * @memberOf SettingTime */ mainLabel: { type: String, value: '', }, /** * Secondary descriptive label * @memberOf SettingTime */ secondaryLabel: { type: String, value: '', }, /** * Optional group title * @memberOf SettingTime */ sectionTitle: { type: String, value: '', }, /** * Disabled state of element * @memberOf SettingTime */ disabled: { type: Boolean, value: false, }, /** * Visibility state of optional divider * @memberOf SettingTime */ noseparator: { type: Boolean, value: false, }, }, /** * Event: Show dialog on tap * @private * @memberOf SettingTime */ _onTap: function() { if (!this.disabled) { this.$.dialog.open(); } }, /** * Event: Set time on tap of OK button * @private * @memberOf SettingTime */ _onTimeSelected: function() { const picker = this.$.timePicker; const hour = ('0' + picker.hour).substr(-2); const min = ('0' + picker.minute).substr(-2); const value = `${hour}:${min}`; this.set('value', value); Chrome.GA.event(Chrome.GA.EVENT.BUTTON, `SettingTime.OK: ${this.name}`); }, /** * Observer: Value changed * @param {string} newValue - value we changed to * @private * @memberOf SettingTime */ _valueChanged: function(newValue) { this._setTimeLabel(newValue); }, /** * Observer: Global Time format changed * @private * @memberOf SettingTime */ _formatChanged: function() { this._setTimeLabel(this.get('value')); }, /** * Get the time suitable for display * @param {string} timeString - format '00:00' * @returns {string} formatted time * @private * @memberOf SettingTime */ _formatTime: function(timeString) { let ret = '12:00 AM'; if (timeString) { ret = Chrome.Time.getStringFull(timeString, this.format); } else { Chrome.Log.error('timeString is null', 'setting-time._formatTime'); } return ret; }, /** * Set the time display label * @param {string} value - time in '00:00' format * @private * @memberOf SettingTime */ _setTimeLabel: function(value) { this.set('timeLabel', this._formatTime(value)); }, /** * Initialize value if it is not in localstorage * @private * @memberOf SettingTime */ _init: function() { this.set('value', '00:00'); }, }); × Search results Close "},"setting-toggle_setting-toggle.js.html":{"id":"setting-toggle_setting-toggle.js.html","title":"Source: setting-toggle/setting-toggle.js","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Source: setting-toggle/setting-toggle.js 'use strict'; new ExceptionHandler(); /** * Polymer element for a text entry * @namespace SettingToggle */ Polymer({ is: 'setting-toggle', properties: { /** * Local storage key * @memberOf SettingToggle */ name: { type: String, value: 'store', }, /** * Toggle checked state * @memberOf SettingToggle */ checked: { type: Boolean, value: false, notify: true, }, /** * Toggle descriptive label * @memberOf SettingToggle */ mainLabel: { type: String, value: '', }, /** * Toggle secondary descriptive label * @memberOf SettingToggle */ secondaryLabel: { type: String, value: '', }, /** * Optional group title * @memberOf SettingToggle */ sectionTitle: { type: String, value: '', }, /** * Disabled state of element * @memberOf SettingToggle */ disabled: { type: Boolean, value: false, }, /** * Visibility state of optional divider * @memberOf SettingToggle */ noseparator: { type: Boolean, value: false, }, }, /** * Set the checked state of the toggle * @param {boolean} checked - checked state * @memberOf SettingToggle */ setChecked: function(checked) { this.set('checked', checked); Chrome.GA.event(Chrome.GA.EVENT.TOGGLE, `${this.name}: ${this.checked}`); }, /** * Event: checked state changed * @private * @memberOf SettingToggle */ _onChange: function() { Chrome.GA.event(Chrome.GA.EVENT.TOGGLE, `${this.name}: ${this.checked}`); }, /** * Initialize value if it is not in localStorage * @private * @memberOf SettingToggle */ _init: function() { this.set('checked', 'false'); }, }); × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Global Methods &lt;private&gt; _checkPermissions() → {Promise.&lt;boolean&gt;} Try to get permissions, if not already authorized - may block Source: pages/google-photos-page.js, line 118 Returns: true if we have permissions Type Promise.&lt;boolean&gt; &lt;private&gt; _chromeBackgroundTapped() Event: Process the background permission Source: pages/settings-page.js, line 77 &lt;private&gt; _computeAlbumIconDisabled(useGoogle, isAlbumMode) → {boolean} Computed binding: Calculate mode tooltip Parameters: Name Type Description useGoogle boolean true if using Google Photos isAlbumMode boolean true if album mode Source: pages/google-photos-page.js, line 358 Returns: true if album icons should be disabled Type boolean &lt;private&gt; _computeHidden(waitForLoad, permPicasa) → {boolean} Computed property: Hidden state of main interface Parameters: Name Type Description waitForLoad boolean true if loading permPicasa string permission state Source: pages/google-photos-page.js, line 295 Returns: true if hidden Type boolean &lt;private&gt; _computeLargeTimeDisabled(enabled, showTimeValue) → {boolean} Computed binding: Set disabled state of largeTime toggle Parameters: Name Type Description enabled boolean enabled state of screensaver showTimeValue number showTime value Source: pages/settings-page.js, line 145 Returns: true if disabled Type boolean &lt;private&gt; _computeMailToUrl(subject) → {string} computed binding: Get a mailto url Parameters: Name Type Description subject string email subject Source: pages/help-page.js, line 38 Returns: url Type string &lt;private&gt; _computeMenuHidden(selectedTab) → {boolean} Computed property: Set menu icons visibility Parameters: Name Type Description selectedTab int the current tab Source: pages/settings-page.js, line 127 Returns: true if menu should be visible Type boolean &lt;private&gt; _computeModeIcon(isAlbumMode) → {string} Computed binding: Calculate mode icon Parameters: Name Type Description isAlbumMode boolean true if album mode Source: pages/google-photos-page.js, line 325 Returns: an icon Type string &lt;private&gt; _computeModeTooltip(isAlbumMode) → {string} Computed binding: Calculate mode tooltip Parameters: Name Type Description isAlbumMode boolean true if album mode Source: pages/google-photos-page.js, line 341 Returns: page title Type string &lt;private&gt; _computePhotoLabel(count) → {string} Computed binding: Set photo count label on an album Parameters: Name Type Description count int number of photos in album Source: pages/google-photos-page.js, line 368 Returns: i18n label Type string &lt;private&gt; _computePhotoSizingMenu() → {Array} Computed binding: photo sizing values Source: pages/settings-page.js, line 185 Returns: Array of menu items Type Array &lt;private&gt; _computePhotoTransitionMenu() → {Array} Computed binding: photo transition values Source: pages/settings-page.js, line 200 Returns: Array of menu items Type Array &lt;private&gt; _computeStack(lastError) → {string} Computed Binding Parameters: Name Type Description lastError Chrome.Storage.LastError the error Source: pages/error-page.js, line 76 Returns: stack trace Type string &lt;private&gt; _computeTimeFormatMenu() → {Array} Computed binding: time format values Source: pages/settings-page.js, line 219 Returns: Array of menu items Type Array &lt;private&gt; _computeTitle(isAlbumMode) → {string} Computed binding: Calculate page title Parameters: Name Type Description isAlbumMode boolean true if album mode Source: pages/google-photos-page.js, line 309 Returns: page title Type string &lt;private&gt; _computeTitle(lastError) → {string} Computed Binding Parameters: Name Type Description lastError Chrome.Storage.LastError the error Source: pages/error-page.js, line 90 Returns: page title Type string &lt;private&gt; _computeTransitionTimeUnits() → {Array} Computed binding: transition time values Source: pages/settings-page.js, line 171 Returns: Array of menu items Type Array &lt;private&gt; _computeVersion() → {string} computed binding: Get the extension version Source: pages/help-page.js, line 46 Returns: Version of the extension Type string &lt;private&gt; _computeWaitTimeUnits() → {Array} Computed binding: idle time values Source: pages/settings-page.js, line 158 Returns: Array of menu items Type Array &lt;private&gt; _deselectAllTapped() Event: deselect all app.PhotoSource objects tapped Source: pages/settings-page.js, line 61 &lt;private&gt; _initIsAlbumMode() Initialize value if it is not in localStorage Source: pages/google-photos-page.js, line 388 &lt;private&gt; _initPermPicasa() Initialize value if it is not in localStorage Source: pages/google-photos-page.js, line 380 &lt;private&gt; _initUseGoogleAlbums() Initialize value if it is not in localStorage Source: pages/google-photos-page.js, line 396 &lt;private&gt; _initUseGooglePhotos() Initialize value if it is not in localStorage Source: pages/google-photos-page.js, line 404 &lt;private&gt; _onAlbumSelectChanged(event) Event: Album checkbox state changed Parameters: Name Type Description event Event tap event Properties Name Type Description model.album app.GoogleSource.Album the album Source: pages/google-photos-page.js, line 206 &lt;private&gt; _onDeselectAllTapped() Event: Handle tap on deselect all albums icon Source: pages/google-photos-page.js, line 193 &lt;private&gt; _onEmailTapped() Event: Email support Source: pages/error-page.js, line 49 &lt;private&gt; _onModeTapped() Event: Handle tap on mode icon Source: pages/google-photos-page.js, line 145 &lt;private&gt; _onRefreshTapped() Event: Handle tap on refresh album list icon Source: pages/google-photos-page.js, line 160 &lt;private&gt; _onRemoveTapped() Event: Remove the error Source: pages/error-page.js, line 65 &lt;private&gt; _onSelectAllTapped() Event: Handle tap on select all albums icon Source: pages/google-photos-page.js, line 169 &lt;private&gt; _onUseGoogleChanged() Event: checked state changed on main toggle changed Source: pages/google-photos-page.js, line 240 &lt;private&gt; _restoreDefaultsTapped() Event: restore default settings tapped Source: pages/settings-page.js, line 69 &lt;private&gt; _selectAlbums() Set the checked state of the stored albums Source: pages/google-photos-page.js, line 264 &lt;private&gt; _selectAllTapped() Event: select all app.PhotoSource objects tapped Source: pages/settings-page.js, line 53 &lt;private&gt; _setPhotoSourceChecked(useName, state) Set checked state of a app.PhotoSource Parameters: Name Type Description useName string source name state boolean checked state Source: pages/settings-page.js, line 101 &lt;private&gt; _setPhotoSourcesChecked(state) Set checked state of all app.PhotoSource objects Parameters: Name Type Description state boolean checked state Source: pages/settings-page.js, line 114 &lt;private&gt; _setUseKeys(useGoogle, isAlbumMode) Set keys for photo sources Parameters: Name Type Description useGoogle boolean Google Photos use enabled isAlbumMode boolean Are we in album mode Source: pages/google-photos-page.js, line 134 &lt;private&gt; _showStorageErrorDialog(method) Exceeded storage limits error Parameters: Name Type Description method string function that caused error Source: pages/google-photos-page.js, line 252 &lt;private&gt; _uncheckAll() Uncheck all albums Source: pages/google-photos-page.js, line 280 deselectPhotoSource(useName) Deselect the given app.PhotoSource Parameters: Name Type Description useName string Name of Source: pages/settings-page.js, line 45 loadAlbumList() Query Picasa for the list of the users albums Source: pages/google-photos-page.js, line 77 × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Classes Classes CCSource FlickrSource GoogleSource PhotoSource Px500Source RedditSource SSPhoto SSView SSViewFrame SSViewFull SSViewLetterbox Time ExceptionHandler Namespaces Alarm Data GA Geo Msg Permissions PhotoSources Screensaver SSBuilder SSControl SSEvents SSFinder SSHistory SSPhotos SSRunner SSTime SSViews Utils Background Auth GA Http JSONUtils Locale Log Msg Storage Utils ContextMenus Options SettingBackground SettingDropdown SettingLink SettingSlider SettingText SettingTime SettingToggle × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespaces Classes CCSource FlickrSource GoogleSource PhotoSource Px500Source RedditSource SSPhoto SSView SSViewFrame SSViewFull SSViewLetterbox Time ExceptionHandler Namespaces Alarm Data GA Geo Msg Permissions PhotoSources Screensaver SSBuilder SSControl SSEvents SSFinder SSHistory SSPhotos SSRunner SSTime SSViews Utils Background Auth GA Http JSONUtils Locale Log Msg Storage Utils ContextMenus Options SettingBackground SettingDropdown SettingLink SettingSlider SettingText SettingTime SettingToggle × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Photo Screen Saver Chrome ExtensionThis extension displays a screensaver composed of a slide show of photos from multiple sources. Supported photo sources include: Your Google Photos - Note: Shared Albums are not supported Some background photos used by Chromecast Several streams from 500px Several sources from reddit Interesting photos from Flickr Note: Photos from the local file system are not supported. Many options are available to control the appearance of the slide show, including: Wait time after machine becomes idle to display screensaver Between photo time interval Photo display mode - (e.g., letterbox, fill screen) Photo transition animations - (e.g., fade, scale up) A scheduler to control when the screensaver, display, and computer should remain on Do not display over full screen Chrome windows (e.g., YouTube, Netflix) Show on all displays Display time Works great on all platforms but may be especially useful for your Chromebook. It is free and advertising free. It is implemented using Vanilla JavaScript and Polymer 1. View in Chrome Web Store GitHub Pages × Search results Close "},"app.Alarm.html":{"id":"app.Alarm.html","title":"Namespace: Alarm","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Alarm Alarm Manage alarms from the chrome.alarms API Source: background/alarm.js, line 14 See: https://developer.chrome.com/apps/alarms Members &lt;private, static, constant&gt; Alarms :Object Alarms triggered by chrome.alarms Type: Object Properties: Name Type Description ACTIVATE string screen saver is active DEACTIVATE string screen saver is not activate UPDATE_PHOTOS string photo sources should be updated BADGE_TEXT string icon's Badge text should be set Source: background/alarm.js, line 21 Methods &lt;private, static&gt; _onAlarm(alarm) Event: Fired when an alarm has elapsed. Parameters: Name Type Description alarm Object details on alarm Source: background/alarm.js, line 99 See: https://developer.chrome.com/apps/alarms#event-onAlarm &lt;private, static&gt; _onLoad() Event: called when document and resources are loaded Source: background/alarm.js, line 127 &lt;private, static&gt; _setActiveState() Set state when the screensaver is in the active time range Source: background/alarm.js, line 44 &lt;private, static&gt; _setBadgeText() Set the Badge text on the icon Source: background/alarm.js, line 81 &lt;private, static&gt; _setInactiveState() Set state when the screensaver is in the inactive time range Source: background/alarm.js, line 66 &lt;static&gt; isActive() → {boolean} Determine if the screen saver can be displayed Source: background/alarm.js, line 200 Returns: true, if can display Type boolean &lt;static&gt; updateBadgeText() Set the icon badge text Source: background/alarm.js, line 188 &lt;static&gt; updateRepeatingAlarms() Set the repeating alarms states Source: background/alarm.js, line 140 × Search results Close "},"app.CCSource.html":{"id":"app.CCSource.html","title":"Class: CCSource","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: CCSource CCSource A potential source of photos from Chromecast new CCSource(useKey, photosKey, type, desc, isDaily, isArray [, loadArg]) Create a new photo source Parameters: Name Type Argument Default Description useKey string The key for if the source is selected photosKey string The key for the collection of photos type string A descriptor of the photo source desc string A human readable description of the source isDaily boolean Should the source be updated daily isArray boolean Is the source an Array of photo Arrays loadArg Object &lt;optional&gt; &lt;nullable&gt; null optional arg for load function Source: sources/photo_source_chromecast.js, line 17 Methods fetchPhotos() → {Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt;} Fetch the photos for this source Source: sources/photo_source_chromecast.js, line 39 Returns: Array of photos Type Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt; × Search results Close "},"app.Data.html":{"id":"app.Data.html","title":"Namespace: Data","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Data Data Manage the extensions data Source: background/data.js, line 13 Members &lt;private, static, constant&gt; _DATA_VERSION :int Version of localStorage - update when items are added, removed, changed Type: int Default Value: 17 Source: background/data.js, line 28 &lt;private, static, constant&gt; _DEF_VALUES :app.Data.LocalStorage Default values in localStorage Type: app.Data.LocalStorage Source: background/data.js, line 90 Methods &lt;private, static&gt; _addDefaults() Save the _DEF_VALUES items, if they do not already exist Source: background/data.js, line 205 &lt;private, static&gt; _convertSliderValue(key) Convert a setting-slider value due to addition of units Parameters: Name Type Description key string localStorage key Source: background/data.js, line 219 &lt;private, static&gt; _getTimeFormat() → {int} Get default time format based on locale Source: background/data.js, line 177 Returns: 12 or 24 Type int &lt;private, static&gt; _processEnabled() Set state based on screensaver enabled flag Note: this does not effect the keep awake settings so you could use the extension as a display keep awake scheduler without using the screensaver Source: background/data.js, line 140 &lt;private, static&gt; _processIdleTime() Set wait time for screen saver display after machine is idle Source: background/data.js, line 167 &lt;private, static&gt; _processKeepAwake() Set power scheduling features Source: background/data.js, line 155 &lt;private, static&gt; _setOS() → {Promise} Set the 'os' value Source: background/data.js, line 192 Returns: err on failure Type Promise &lt;static&gt; initialize() Initialize the data saved in localStorage Source: background/data.js, line 236 &lt;static&gt; processState( [key]) Process changes to localStorage items Parameters: Name Type Argument Default Description key string &lt;optional&gt; 'all' the item that changed Source: background/data.js, line 333 &lt;static&gt; restoreDefaults() Restore default values for data saved in localStorage Source: background/data.js, line 311 &lt;static&gt; update() Update the data saved in localStorage Source: background/data.js, line 258 Type Definitions LocalStorage Values for items in localStorage Type: Object Properties: Name Type Description version int version of data enabled boolean is screensaver enabled permPicasa string optional permission for Picasa permBackground string optional permission to run in bg allowBackground boolean run Chrome in background idleTime app.Data.UnitValue idle time to display screensaver transitionTime app.Data.UnitValue time between photos skip boolean ignore extreme aspect ratio photos shuffle boolean randomize photo order photoSizing int photo display type photoTransition int transition animation interactive boolean vcr controls for screensaver showTime int time display format largeTime boolean display larger time label showPhotog boolean display name on own photos showLocation boolean display photo location background string background image keepAwake boolean manage computer poser settings chromeFullscreen boolean don't display over fullscreen allDisplays boolean show on all displays activeStart string Keep Wake start time '00:00' 24 hr activeStop string Keep Wake stop time '00:00' 24 hr allowSuspend boolean let computer sleep allowPhotoClicks boolean show photo source on left click useSpaceReddit boolean use this photo source useEarthReddit boolean use this photo source useAnimalReddit boolean use this photo source useEditors500px boolean use this photo source usePopular500px boolean use this photo source useYesterday500px boolean use this photo source useInterestingFlickr boolean use this photo source useChromecast boolean use this photo source useAuthors boolean use this photo source useSpaceReddit boolean use this photo source fullResGoogle boolean true for actual size Google photos isAlbumMode boolean true if Google Photos album mode useGoogle boolean use this photo source useGoogleAlbums boolean use this photo source albumSelections Array user's selected Google Photos albums useGooglePhotos boolean use this photo source Source: background/data.js, line 38 UnitValue A number and associated units Type: Object Properties: Name Type Description base number value in base unit display number value in display unit unit int display unit Source: background/data.js, line 30 × Search results Close "},"app.FlickrSource.html":{"id":"app.FlickrSource.html","title":"Class: FlickrSource","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: FlickrSource FlickrSource A potential source of photos from flickr new FlickrSource(useKey, photosKey, type, desc, isDaily, isArray [, loadArg]) Create a new photo source Parameters: Name Type Argument Default Description useKey string The key for if the source is selected photosKey string The key for the collection of photos type string A descriptor of the photo source desc string A human readable description of the source isDaily boolean Should the source be updated daily isArray boolean Is the source an Array of photo Arrays loadArg Object &lt;optional&gt; &lt;nullable&gt; null optional arg for load function Source: sources/photo_source_flickr.js, line 46 Members &lt;private, static, constant&gt; _KEY :string Flickr rest API authorization key Type: string Source: sources/photo_source_flickr.js, line 30 &lt;private, static, constant&gt; _MAX_PHOTOS :int Max photos to return Type: int Default Value: 250 Source: sources/photo_source_flickr.js, line 40 &lt;private, static, constant&gt; _URL_BASE :string Flickr rest API Type: string Default Value: https://api.flickr.com/services/rest/ Source: sources/photo_source_flickr.js, line 21 Methods &lt;private, static&gt; _processPhotos(response) → {Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt;} Extract the photos into an Array Parameters: Name Type Description response JSON server response Source: sources/photo_source_flickr.js, line 70 Returns: Array of photos Type Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt; fetchPhotos() → {Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt;} Fetch the photos for this source Source: sources/photo_source_flickr.js, line 111 Returns: Array of photos Type Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt; × Search results Close "},"app.GA.html":{"id":"app.GA.html","title":"Namespace: GA","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: GA GA Manage Google Analytics tracking Source: my_analytics.js, line 13 Members &lt;private, static, constant&gt; _TRACKING_ID :string Tracking ID Type: string Source: my_analytics.js, line 23 Methods &lt;private, static&gt; _onLoad() Event: called when document and resources are loaded Initialize Google Analytics Source: my_analytics.js, line 31 × Search results Close "},"app.Geo.html":{"id":"app.Geo.html","title":"Namespace: Geo","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Geo Geo Handle interaction the Google maps geocode API Source: screensaver/geo.js, line 13 Members &lt;private, static, constant&gt; _GEOCODE_API :string Path to Google's geocode api Type: string Default Value: http://maps.googleapis.com/maps/api/geocode/json Source: screensaver/geo.js, line 26 &lt;private, static, constant&gt; _LOC_CACHE :app.Geo.Cache Location cache Type: app.Geo.Cache Source: screensaver/geo.js, line 51 Methods &lt;private, static&gt; _addToCache(point, location) Try to get (@link app.Geo.Location} from cache Parameters: Name Type Description point string a geolocation location string description Source: screensaver/geo.js, line 76 &lt;private, static&gt; _cleanPoint(point) → {string} Make sure point is in fixed point notation Parameters: Name Type Description point string 'lat lng' may have exponential notation Source: screensaver/geo.js, line 94 Returns: 'lat,lng' fixed point notation Type string &lt;private, static&gt; _getFromCache(point) → {app.Geo.Location|undefined} Try to get (@link app.Geo.Location} from cache Parameters: Name Type Description point string a geolocation Source: screensaver/geo.js, line 63 Returns: location, undefined if not cached Type app.Geo.Location | undefined &lt;static&gt; app.PhotoSource.createPoint(lat, lon) → {string} Create a geo point string from a latitude and longitude Parameters: Name Type Description lat number latitude lon number longitude Source: sources/photo_source.js, line 157 Returns: 'lat lon' Type string &lt;static&gt; get(point) → {Promise.&lt;string&gt;} Get the location string Parameters: Name Type Description point string 'lat,long' Source: screensaver/geo.js, line 116 Returns: geolocation as string Type Promise.&lt;string&gt; Type Definitions Cache Cache of Geo Locations Type: Object Properties: Name Type Description entries Array.&lt;app.Geo.Location&gt; Array of locations maxSize int max entries to cache Source: screensaver/geo.js, line 37 Location A Geo location Type: Object Properties: Name Type Description loc string descriptive location point string geo location 'lat lon' Source: screensaver/geo.js, line 29 × Search results Close "},"app.GoogleSource.html":{"id":"app.GoogleSource.html","title":"Class: GoogleSource","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: GoogleSource GoogleSource A potential source of photos from Google new GoogleSource(useKey, photosKey, type, desc, isDaily, isArray [, loadArg]) Create a new photo source Parameters: Name Type Argument Default Description useKey string The key for if the source is selected photosKey string The key for the collection of photos type string A descriptor of the photo source desc string A human readable description of the source isDaily boolean Should the source be updated daily isArray boolean Is the source an Array of photo Arrays loadArg Object &lt;optional&gt; &lt;nullable&gt; null optional arg for load function Source: sources/photo_source_google.js, line 85 Members &lt;private, static, constant&gt; _ALBUM_QUERY :string Query an album for its photos Type: string Source: sources/photo_source_google.js, line 75 &lt;private, static, constant&gt; _ALBUMS_QUERY :string Query for list of albums Type: string Source: sources/photo_source_google.js, line 63 &lt;private, static, constant&gt; _EXT_QUERY :string Picasa API extension good through 3/15/2019 Type: string Default Value: &amp;deprecation-extension=true Source: sources/photo_source_google.js, line 53 &lt;private, static, constant&gt; _URL_BASE :string Path to Picasa API Type: string Default Value: https://picasaweb.google.com/data/feed/api/user/ Source: sources/photo_source_google.js, line 43 Methods &lt;static&gt; _fetchAlbumPhotos() → {Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt;} Fetch the photos for the selected albums Source: sources/photo_source_google.js, line 282 Returns: Array of photos Type Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt; &lt;private, static&gt; _getMaxImageSize() → {string} Get max image size to retrieve Source: sources/photo_source_google.js, line 122 Returns: image size description Type string &lt;private, static&gt; _getThumbnail(entry) → {string} Get the thumbnail url if it exists Parameters: Name Type Description entry Array Picasa media object Source: sources/photo_source_google.js, line 147 Returns: url or null Type string &lt;private, static&gt; _hasGeo(entry) → {boolean} Determine if a Picasa entry has Geo position Parameters: Name Type Description entry Object Picasa media object Source: sources/photo_source_google.js, line 135 Returns: true if entry has Geo position Type boolean &lt;private, static&gt; _isImage(entry) → {boolean} Determine if a Picasa entry is an image Parameters: Name Type Description entry Object Picasa media object Source: sources/photo_source_google.js, line 108 Returns: true if entry is a photo Type boolean &lt;private, static&gt; _loadAlbum(albumId [, userId]) → {Promise.&lt;Object&gt;} Retrieve a Google Photos album Parameters: Name Type Argument Default Description albumId string Picasa album ID userId string &lt;optional&gt; 'default' userId for non-authenticated request Source: sources/photo_source_google.js, line 194 Returns: Root object from Picasa call null if not found Type Promise.&lt;Object&gt; &lt;private, static&gt; _processPhotos(root) → {Array.&lt;app.PhotoSource.Photo&gt;} Extract the Picasa photos into an Array Parameters: Name Type Description root Object root object from Picasa API call Source: sources/photo_source_google.js, line 163 Returns: Array of photos Type Array.&lt;app.PhotoSource.Photo&gt; &lt;static&gt; loadAlbumList() → {Promise.&lt;Array.&lt;app.GoogleSource.Album&gt;&gt;} Retrieve the users list of albums, including the photos in each Source: sources/photo_source_google.js, line 219 Returns: Array of albums Type Promise.&lt;Array.&lt;app.GoogleSource.Album&gt;&gt; fetchPhotos() → {Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt;} Fetch the photos for this source Source: sources/photo_source_google.js, line 317 Returns: Array of photos Type Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt; Type Definitions Album A Google Photo Album Type: Object Properties: Name Type Description index int Array index uid string unique identifier name string album name id string Google album Id thumb string thumbnail url checked boolean is album selected ct int number of photos photos Array.&lt;app.PhotoSource.Photo&gt; Array of photos Source: sources/photo_source_google.js, line 13 SelectedAlbum A Selected Google Photo Album Type: Object Properties: Name Type Description id string Google album Id photos Array.&lt;app.PhotoSource.Photo&gt; Array of photos Source: sources/photo_source_google.js, line 27 × Search results Close "},"app.Msg.html":{"id":"app.Msg.html","title":"Namespace: Msg","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Msg Msg Wrapper for chrome messages Source: my_msg.js, line 14 See: https://developer.chrome.com/extensions/messaging Members &lt;static, constant&gt; _MSG :Object Chrome Messages Type: Object Properties: Name Type Description SS_SHOW Chrome.Msg.Message show screensaver SS_CLOSE Chrome.Msg.Message close screensaver SS_IS_SHOWING Chrome.Msg.Message is a screensaver showing PHOTO_SOURCE_FAILED Chrome.Msg.Message failed to web load Source: my_msg.js, line 29 × Search results Close "},"app.Permissions.html":{"id":"app.Permissions.html","title":"Namespace: Permissions","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Permissions Permissions Handle optional permissions Source: options/permissions.js, line 13 Members &lt;private, static, constant&gt; _STATE :app.Permissions.State Possible states of an app.Permissions.Type Type: app.Permissions.State Source: options/permissions.js, line 45 &lt;static, constant&gt; BACKGROUND :app.Permissions.Type Permission for running in background Type: app.Permissions.Type Source: options/permissions.js, line 69 &lt;static&gt; BACKGROUND :app.Permissions.Type Type: app.Permissions.Type Source: options/permissions.js, line 115 &lt;static, constant&gt; PICASA :app.Permissions.Type Permission for access to users' Google Photos Type: app.Permissions.Type Source: options/permissions.js, line 57 &lt;static&gt; PICASA :app.Permissions.Type Type: app.Permissions.Type Source: options/permissions.js, line 109 Methods &lt;static&gt; _contains(type) → {Promise.&lt;boolean&gt;} Determine if we have the optional permissions Parameters: Name Type Description type app.Permissions.Type permission type Source: options/permissions.js, line 97 Returns: true if we have permissions Type Promise.&lt;boolean&gt; &lt;private, static&gt; _setState(type, value) Persist the state of an app.Permissions.Type Parameters: Name Type Description type app.Permissions.Type permission type value string permission state Source: options/permissions.js, line 82 &lt;static&gt; isAllowed(type) → {boolean} Has the user allowed the optional permissions Parameters: Name Type Description type app.Permissions.Type permission type Source: options/permissions.js, line 133 Returns: true if allowed Type boolean &lt;static&gt; notSet(type) → {boolean} Has user made choice on permissions Parameters: Name Type Description type app.Permissions.Type permission type Source: options/permissions.js, line 123 Returns: true if allowed or denied Type boolean &lt;static&gt; remove(type) → {Promise.&lt;boolean&gt;} Remove the optional permissions Parameters: Name Type Description type app.Permissions.Type permission type Source: options/permissions.js, line 169 Returns: true if removed Type Promise.&lt;boolean&gt; &lt;static&gt; request(type) → {Promise.&lt;boolean&gt;} Request optional permission - may block Parameters: Name Type Description type app.Permissions.Type permission type Source: options/permissions.js, line 143 Returns: true if permission granted Type Promise.&lt;boolean&gt; Type Definitions State A permission state enum Type: Object Properties: Name Type Description notSet string never been allowed or denied allowed string user allowed denied string user denied Source: options/permissions.js, line 20 Type A permission type Type: Object Properties: Name Type Description name string name in localStorage permissions Array.&lt;string&gt; array of permissions origins Array.&lt;string&gt; array of origins Source: options/permissions.js, line 29 × Search results Close "},"app.PhotoSource.html":{"id":"app.PhotoSource.html","title":"Class: PhotoSource","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: PhotoSource PhotoSource A potential source of photos for the screen saver new PhotoSource(useKey, photosKey, type, desc, isDaily, isArray [, loadArg]) Create a new photo source Parameters: Name Type Argument Default Description useKey string The key for if the source is selected photosKey string The key for the collection of photos type string A descriptor of the photo source desc string A human readable description of the source isDaily boolean Should the source be updated daily isArray boolean Is the source an Array of photo Arrays loadArg Object &lt;optional&gt; &lt;nullable&gt; null optional arg for load function Source: sources/photo_source.js, line 37 Methods &lt;static&gt; addPhoto(photos, url, author, asp [, ex] [, point]) Add a app.PhotoSource.Photo to an existing Array Parameters: Name Type Argument Description photos Array app.PhotoSource.Photo Array url string The url to the photo author string The photographer asp number The aspect ratio of the photo ex Object &lt;optional&gt; Additional information about the photo point string &lt;optional&gt; 'lat lon' Source: sources/photo_source.js, line 134 &lt;static&gt; createSource(useKey) → {app.PhotoSource} Factory Method to create a new app.PhotoSource Parameters: Name Type Description useKey app.PhotoSources.UseKey photo source useKey Source: sources/photo_source.js, line 69 Returns: a new PhotoSource or subclass Type app.PhotoSource &lt;private&gt; _savePhotos(photos) → {string} Save the photos to localStorage in a safe manner Parameters: Name Type Description photos Array.&lt;app.PhotoSource.Photo&gt; app.PhotoSource.Photo Array Source: sources/photo_source.js, line 248 Returns: non-null on error Type string &lt;abstract&gt; fetchPhotos() → {Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt;} Fetch the photos for this source - override Source: sources/photo_source.js, line 170 Returns: Array of photos Type Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt; getPhotos() → {app.PhotoSource.Photos} Get the photos from local storage Source: sources/photo_source.js, line 185 Returns: the photos Type app.PhotoSource.Photos isDaily() → {boolean} Get if we should update daily Source: sources/photo_source.js, line 177 Returns: if true, update daily Type boolean process() → {Promise.&lt;void&gt;} Process the photo source. Source: sources/photo_source.js, line 221 Returns: void Type Promise.&lt;void&gt; use() → {boolean} Determine if this source has been selected for display Source: sources/photo_source.js, line 213 Returns: true if selected Type boolean Type Definitions Photo A photo from a app.PhotoSource This is the photo information that is persisted. Type: Object Properties: Name Type Argument Description url string The url to the photo author string The photographer asp number The aspect ratio of the photo ex Object &lt;optional&gt; Additional information about the photo point string &lt;optional&gt; geolocation 'lat lon' Source: sources/photo_source.js, line 13 Photos The photos for a app.PhotoSource Type: Object Properties: Name Type Description type string type of app.PhotoSource photos Array.&lt;app.PhotoSource.Photo&gt; The photos Source: sources/photo_source.js, line 25 × Search results Close "},"app.PhotoSources.html":{"id":"app.PhotoSources.html","title":"Namespace: PhotoSources","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: PhotoSources PhotoSources Manage the app.PhotoSource objects Source: sources/photo_sources.js, line 13 Members &lt;static, readonly&gt; UseKey :enum Enum for app.PhotoSource useKey Type: enum Source: sources/photo_sources.js, line 18 Methods &lt;private, static&gt; _getSelectedSources() → {Array.&lt;app.PhotoSource&gt;} Get the selected sources from local storage Source: sources/photo_sources.js, line 45 Returns: Array of sources Type Array.&lt;app.PhotoSource&gt; &lt;static&gt; getSelectedPhotos() → {Array.&lt;app.PhotoSource.Photos&gt;} Get all the photos from all selected sources. These will be used by the screensaver. Source: sources/photo_sources.js, line 126 Returns: Array of sources photos Type Array.&lt;app.PhotoSource.Photos&gt; &lt;static&gt; getUseKeys() → {Array.&lt;string&gt;} Get all the useage keys Source: sources/photo_sources.js, line 73 Returns: Array of useage keys Type Array.&lt;string&gt; &lt;static&gt; isUseKey(keyName) → {boolean} Determine if a given key is a photo source Parameters: Name Type Description keyName string key to check Source: sources/photo_sources.js, line 89 Returns: true if photo source Type boolean &lt;static&gt; process(useKey) → {Promise.&lt;void&gt;} Process the given photo source and save to localStorage. Parameters: Name Type Description useKey string The photo source to retrieve Source: sources/photo_sources.js, line 108 Returns: void Type Promise.&lt;void&gt; &lt;static&gt; processAll() Process all the selected photo sources. This normally requires a https call and may fail for various reasons Source: sources/photo_sources.js, line 140 &lt;static&gt; processDaily() Process all the selected photo sources that are to be updated every day. This normally requires a https call and may fail for various reasons Source: sources/photo_sources.js, line 153 × Search results Close "},"app.Px500Source.html":{"id":"app.Px500Source.html","title":"Class: Px500Source","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: Px500Source Px500Source A potential source of photos from 500px new Px500Source(useKey, photosKey, type, desc, isDaily, isArray [, loadArg]) Create a new photo source Parameters: Name Type Argument Default Description useKey string The key for if the source is selected photosKey string The key for the collection of photos type string A descriptor of the photo source desc string A human readable description of the source isDaily boolean Should the source be updated daily isArray boolean Is the source an Array of photo Arrays loadArg Object &lt;optional&gt; &lt;nullable&gt; null optional arg for load function Source: sources/photo_source_500px.js, line 60 Members &lt;private, static, constant&gt; _CATS :Array Categories to use Make them an array to overcome 100 photo limit per call Type: Array Default Value: [&quot;Nature,City and Architecture&quot;,&quot;Landscapes,Animals&quot;,&quot;Macro,Still Life,Underwater&quot;] Source: sources/photo_source_500px.js, line 50 &lt;private, static, constant&gt; _KEY :string API authorization key Type: string Source: sources/photo_source_500px.js, line 30 &lt;private, static, constant&gt; _MAX_PHOTOS :int Max photos to return - 100 is API max Type: int Default Value: 90 Source: sources/photo_source_500px.js, line 40 &lt;private, static, constant&gt; _URL_BASE :string 500px rest API Type: string Default Value: https://api.500px.com/v1/ Source: sources/photo_source_500px.js, line 21 Methods &lt;private, static&gt; _doGet(url) → {Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt;} Call API to get some photos Parameters: Name Type Description url string server url Source: sources/photo_source_500px.js, line 84 Returns: Array of photos Type Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt; fetchPhotos() → {Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt;} Fetch the photos for this source Source: sources/photo_source_500px.js, line 111 Returns: Array of photos Type Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt; × Search results Close "},"app.RedditSource.html":{"id":"app.RedditSource.html","title":"Class: RedditSource","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: RedditSource RedditSource A potential source of photos from reddit new RedditSource(useKey, photosKey, type, desc, isDaily, isArray [, loadArg]) Create a new photo source Parameters: Name Type Argument Default Description useKey string The key for if the source is selected photosKey string The key for the collection of photos type string A descriptor of the photo source desc string A human readable description of the source isDaily boolean Should the source be updated daily isArray boolean Is the source an Array of photo Arrays loadArg Object &lt;optional&gt; &lt;nullable&gt; null optional arg for load function Source: sources/photo_source_reddit.js, line 74 Members &lt;private, static, constant&gt; _KEY :string Reddit rest API authorization key Type: string Source: sources/photo_source_reddit.js, line 30 &lt;private, static, constant&gt; _MAX_PHOTOS :int Max photos to return Type: int Default Value: 100 Source: sources/photo_source_reddit.js, line 40 &lt;private, static, constant&gt; _MAX_SIZE :int Max size of photo to use Type: int Default Value: 3500 Source: sources/photo_source_reddit.js, line 60 &lt;private, static, constant&gt; _MIN_SIZE :int Min size of photo to use Type: int Default Value: 750 Source: sources/photo_source_reddit.js, line 50 &lt;private, static, constant&gt; _REDIRECT_URI :string Extension's redirect uri Type: string Source: sources/photo_source_reddit.js, line 20 &lt;private, static&gt; _snoocore :function Expose reddit API Type: function Source: sources/photo_source_reddit.js, line 68 Methods &lt;private, static&gt; _getSize(title) → {Object} Parse the size from the submission title. this is the old way reddit did it Parameters: Name Type Description title string submission title Source: sources/photo_source_reddit.js, line 99 Returns: Photo size Type Object &lt;private, static&gt; _processChildren(children) → {Array.&lt;app.PhotoSource.Photo&gt;} Build the list of photos for one page of items Parameters: Name Type Description children Array Array of objects from reddit Source: sources/photo_source_reddit.js, line 116 Returns: Array of photos Type Array.&lt;app.PhotoSource.Photo&gt; fetchPhotos() → {Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt;} Fetch the photos for this source Source: sources/photo_source_reddit.js, line 163 Returns: Array of photos Type Promise.&lt;Array.&lt;app.PhotoSource.Photo&gt;&gt; × Search results Close "},"app.Screensaver.html":{"id":"app.Screensaver.html","title":"Namespace: Screensaver","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Screensaver Screensaver A screensaver Source: screensaver/screensaver.js, line 13 Members &lt;private, static, constant&gt; t :app.Screensaver.Template Main auto-binding template Type: app.Screensaver.Template Source: screensaver/screensaver.js, line 42 Methods &lt;private, static&gt; _onDomChange() Event: Template Bound, bindings have resolved and content has been stamped to the page Source: screensaver/screensaver.js, line 58 &lt;private, static&gt; _setupPhotoTransitions() Process settings related to between photo transitions Source: screensaver/screensaver.js, line 79 &lt;private, static&gt; _setZoom() Set the window zoom factor to 1.0 Source: screensaver/screensaver.js, line 95 &lt;static&gt; createPages() Create the app.SSViews that will be animated Source: screensaver/screensaver.js, line 131 &lt;static&gt; launch( [delay]) Launch the slide show Parameters: Name Type Argument Default Description delay int &lt;optional&gt; 2000 delay before start Source: screensaver/screensaver.js, line 119 &lt;static&gt; noPhotos() → {boolean} Do we have usable photos Source: screensaver/screensaver.js, line 149 Returns: true if all photos are bad Type boolean &lt;static&gt; setNoPhotos() Set the state when no photos are available Source: screensaver/screensaver.js, line 157 &lt;static&gt; setPaused(paused) Set the state when slideshow is paused Parameters: Name Type Description paused boolean paused state Source: screensaver/screensaver.js, line 176 &lt;static&gt; setSizingType(type) Set the sizing type for the paper-image elements Parameters: Name Type Description type string The sizing type Source: screensaver/screensaver.js, line 140 &lt;static&gt; setTimeLabel(label) Set the time label Parameters: Name Type Description label string current time Source: screensaver/screensaver.js, line 167 Type Definitions Template Main auto-binding template Type: Element Properties: Name Type Argument Description _views Array.&lt;app.SSView&gt; array of views sizingType string &lt;nullable&gt; the way an image is rendered aniType int the animation type for photo transitions screenWidth int screen width in pixels screenHeight int screen height in pixels paused boolean true if slideshow paused noPhotos boolean true if there are no usable photos noPhotosLabel string label when no photos are usable timeLabel string current time label set function Polymer setter push function Polymer pusher Source: screensaver/screensaver.js, line 18 × Search results Close "},"app.SSBuilder.html":{"id":"app.SSBuilder.html","title":"Namespace: SSBuilder","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SSBuilder SSBuilder Builder for a app.Screensaver Source: screensaver/ss_builder.js, line 13 Methods &lt;private, static&gt; _loadPhotos() → {boolean} Build the app.SSPhotos that will be displayed Source: screensaver/ss_builder.js, line 24 Returns: true if there is at least one photo Type boolean &lt;static&gt; build() → {boolean} Build everything related to a app.Screensaver Source: screensaver/ss_builder.js, line 50 Returns: true if there are photos for the show Type boolean × Search results Close "},"app.SSControl.html":{"id":"app.SSControl.html","title":"Namespace: SSControl","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SSControl SSControl Controller for the screen saver Source: background/ss_controller.js, line 13 Members &lt;private, static, constant&gt; _ERR_SHOW :string Error showing Screensaver Type: string Source: background/ss_controller.js, line 36 &lt;private, static, constant&gt; _SS_URL :string Screensaver URL Type: string Source: background/ss_controller.js, line 27 Methods &lt;private, static&gt; _hasFullscreen(display) → {Promise.&lt;boolean&gt;} Determine if there is a full screen chrome window running on a display Parameters: Name Type Description display Object a connected display Source: background/ss_controller.js, line 46 Returns: true if there is a full screen window on the display Type Promise.&lt;boolean&gt; &lt;private, static&gt; _isShowing() → {Promise.&lt;boolean&gt;} Determine if the screen saver is currently showing Source: background/ss_controller.js, line 73 Returns: true if showing Type Promise.&lt;boolean&gt; &lt;private, static&gt; _onChromeMessage(request [, sender] [, response]) → {boolean} Event: Fired when a message is sent from either an extension process (by runtime.sendMessage) or a content script (by tabs.sendMessage). Parameters: Name Type Argument Description request Chrome.Msg.Message details for the message sender Object &lt;optional&gt; MessageSender object response function &lt;optional&gt; function to call once after processing Source: background/ss_controller.js, line 192 See: https://developer.chrome.com/extensions/runtime#event-onMessage Returns: true if asynchronous Type boolean &lt;private, static&gt; _onIdleStateChanged(state) Event: Fired when the system changes to an active, idle or locked state. The event fires with &quot;locked&quot; if the screen is locked or the screensaver activates, &quot;idle&quot; if the system is unlocked and the user has not generated any input for a specified number of seconds, and &quot;active&quot; when the user generates input on an idle system. Parameters: Name Type Description state string current state of computer Source: background/ss_controller.js, line 156 See: https://developer.chrome.com/extensions/idle#event-onStateChanged &lt;private, static&gt; _open(display) Open a screen saver window on the given display Parameters: Name Type Description display Object a connected display Source: background/ss_controller.js, line 89 &lt;private, static&gt; _openOnAllDisplays() Open a screensaver on every display Source: background/ss_controller.js, line 130 &lt;static&gt; close() Close all the screen saver windows Source: background/ss_controller.js, line 225 &lt;static&gt; display(single) Display the screen saver(s) !Important: Always request screensaver through this call Parameters: Name Type Description single boolean if true, only show on one display Source: background/ss_controller.js, line 213 × Search results Close "},"app.SSEvents.html":{"id":"app.SSEvents.html","title":"Namespace: SSEvents","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SSEvents SSEvents Event handling for a app.Screensaver Source: screensaver/ss_events.js, line 13 Members &lt;private, static, constant&gt; _MOUSE_START :Object Starting mouse position Type: Object Source: screensaver/ss_events.js, line 25 Methods &lt;private, static&gt; _close() Close ourselves Source: screensaver/ss_events.js, line 32 &lt;private, static&gt; _onKey(ev) Event: KeyboardEvent Parameters: Name Type Description ev KeyboardEvent KeyboardEvent Source: screensaver/ss_events.js, line 93 See: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent &lt;private, static&gt; _onKeyCommand(cmd) Event: Fired when a registered command is activated using a keyboard shortcut. Parameters: Name Type Description cmd string keyboard command Source: screensaver/ss_events.js, line 49 See: https://developer.chrome.com/extensions/commands#event-onCommand &lt;private, static&gt; _onMessage(request [, sender] [, response]) → {boolean} Event: Fired when a message is sent from either an extension (by runtime.sendMessage) or a content script (by tabs.sendMessage). Parameters: Name Type Argument Description request Chrome.Msg.Message details for the message sender Object &lt;optional&gt; MessageSender object response function &lt;optional&gt; function to call once after processing Source: screensaver/ss_events.js, line 76 See: https://developer.chrome.com/extensions/runtime#event-onMessage Returns: true if asynchronous Type boolean &lt;private, static&gt; _onMouseClick() Event: mouse click Source: screensaver/ss_events.js, line 142 &lt;private, static&gt; _onMouseMove(ev) Event: mousemove Parameters: Name Type Description ev MouseEvent mousemove event Source: screensaver/ss_events.js, line 122 &lt;static&gt; initialize() Add the event listeners Source: screensaver/ss_events.js, line 159 × Search results Close "},"app.SSFinder.html":{"id":"app.SSFinder.html","title":"Namespace: SSFinder","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SSFinder SSFinder Find a photo that is ready for slideshow Source: screensaver/ss_photo_finder.js, line 13 Members &lt;private, static&gt; _transTime :int Transition time in milliseconds Type: int Source: screensaver/ss_photo_finder.js, line 24 Methods &lt;private, static&gt; _replacePhoto(idx) Add the next photo from the master array Parameters: Name Type Description idx int index into app.SSViews Source: screensaver/ss_photo_finder.js, line 32 &lt;static&gt; getNext(idx) → {int} Get the next photo to display Parameters: Name Type Description idx int index into app.SSViews Source: screensaver/ss_photo_finder.js, line 69 Returns: next - index into app.SSViews to display, -1 if none are ready Type int &lt;static&gt; initialize() Initialize the photo finder Source: screensaver/ss_photo_finder.js, line 55 &lt;static&gt; replacePhoto(idx) Add the next photo from the master array Parameters: Name Type Description idx int app.SSViews index to replace Source: screensaver/ss_photo_finder.js, line 86 × Search results Close "},"app.SSHistory.html":{"id":"app.SSHistory.html","title":"Namespace: SSHistory","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SSHistory SSHistory Track the recent history of a app.Screensaver traversal Source: screensaver/ss_history.js, line 13 Members &lt;private, static, constant&gt; _history Slide show history Properties: Name Type Description arr Array.&lt;app.SSHistory.Item&gt; history items idx int pointer into arr max int max length of arr, it will actually have 1 item more Source: screensaver/ss_history.js, line 37 Methods &lt;static&gt; add(newIdx, selected, replaceIdx) Add item to the history Parameters: Name Type Argument Description newIdx int &lt;nullable&gt; if not null, a request from the back command selected int the current selection replaceIdx int the replace index Source: screensaver/ss_history.js, line 59 &lt;static&gt; back() → {int} Backup one slide Source: screensaver/ss_history.js, line 101 Returns: app.SSViews index to step to Type int &lt;static&gt; clear() Reset the slide show history Source: screensaver/ss_history.js, line 91 &lt;static&gt; initialize() Initialize the history Source: screensaver/ss_history.js, line 48 Type Definitions Item History item Type: Object Properties: Name Type Description viewsIdx int app.SSViews index replaceIdx int app.SSViews index photoId int app.SSPhoto id photosPos int pointer into app.SSPhotos Source: screensaver/ss_history.js, line 18 × Search results Close "},"app.SSPhoto.html":{"id":"app.SSPhoto.html","title":"Class: SSPhoto","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: SSPhoto SSPhoto A photo for the screen saver new SSPhoto(id, source, sourceType) Create a new photo Parameters: Name Type Description id int unique id source app.PhotoSource.Photo source photo sourceType string type of app.PhotoSource Properties: Name Type Description _id int Unique id _url string The url to the photo _photographer string The photographer _type string type of app.PhotoSource _aspectRatio number aspect ratio _ex Object additional information about the photo _point string geolocation 'lat lon' _isBad boolean true if url didn't load Source: screensaver/ss_photo.js, line 26 Methods getAspectRatio() → {number} Get photo aspect ratio Source: screensaver/ss_photo.js, line 105 Returns: aspect ratio Type number getId() → {int} Get unique id Source: screensaver/ss_photo.js, line 50 Returns: id Type int getPhotographer() → {string} Get photographer Source: screensaver/ss_photo.js, line 97 Returns: photographer Type string getPoint() → {string} Get geo location point Source: screensaver/ss_photo.js, line 113 Returns: point Type string getType() → {string} Get photo source type Source: screensaver/ss_photo.js, line 89 Returns: type Type string getUrl() → {string} Get photo url Source: screensaver/ss_photo.js, line 81 Returns: url Type string isBad() → {boolean} Is photo bad Source: screensaver/ss_photo.js, line 66 Returns: true if bad Type boolean markBad() Mark photo unusable Source: screensaver/ss_photo.js, line 73 setId(id) Set unique id Parameters: Name Type Description id int unique id Source: screensaver/ss_photo.js, line 58 showSource() Create a new tab with a link to the original source of the photo, if possible Source: screensaver/ss_photo.js, line 121 × Search results Close "},"app.SSPhotos.html":{"id":"app.SSPhotos.html","title":"Namespace: SSPhotos","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SSPhotos SSPhotos Collection of app.SSPhoto objects Source: screensaver/ss_photos.js, line 13 Members &lt;private, static&gt; _curIdx :int Current index into _photos Type: int Source: screensaver/ss_photos.js, line 33 &lt;private, static, constant&gt; _photos :Array.&lt;app.SSPhoto&gt; The array of photos Type: Array.&lt;app.SSPhoto&gt; Source: screensaver/ss_photos.js, line 25 Methods &lt;static&gt; addFromSource(source) Add the photos from an app.PhotoSource.Photos Parameters: Name Type Description source app.PhotoSource.Photos The app.PhotoSource.Photos Source: screensaver/ss_photos.js, line 42 &lt;static&gt; get(idx) → {app.SSPhoto} Get the app.SSPhoto at the given index Parameters: Name Type Description idx int The index Source: screensaver/ss_photos.js, line 81 Returns: A app.SSPhoto Type app.SSPhoto &lt;static&gt; getCount() → {int} Get number of photos Source: screensaver/ss_photos.js, line 60 Returns: The number of photos Type int &lt;static&gt; getCurrentIndex() → {int} Get current index into _photos Source: screensaver/ss_photos.js, line 110 Returns: index Type int &lt;static&gt; getNextUsable() → {app.SSPhoto} Get the next app.SSPhoto that is usable Source: screensaver/ss_photos.js, line 90 Returns: An app.SSPhoto Type app.SSPhoto &lt;static&gt; hasUsable() → {boolean} Do we have photos that aren't bad Source: screensaver/ss_photos.js, line 69 Returns: true if at least one photo is good Type boolean &lt;static&gt; incCurrentIndex() → {int} Increment current index into _photos Source: screensaver/ss_photos.js, line 128 Returns: new current index Type int &lt;static&gt; setCurrentIndex(idx) Set current index into _photos Parameters: Name Type Description idx int The index Source: screensaver/ss_photos.js, line 119 &lt;static&gt; shuffle() Randomize the photos Source: screensaver/ss_photos.js, line 136 × Search results Close "},"app.SSRunner.html":{"id":"app.SSRunner.html","title":"Namespace: SSRunner","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SSRunner SSRunner Control the running of a app.Screensaver Source: screensaver/ss_runner.js, line 13 Members &lt;private, static, constant&gt; _VARS :Object Instance variables Type: Object Properties: Name Type Description started boolean true if slideshow started replaceIdx int page to replace with next photo lastSelected int last selected page waitTime int wait time when looking for photo in milliSecs interactive boolean is interaction allowed paused boolean is screensaver paused timeOutId number id of setTimeout Source: screensaver/ss_runner.js, line 31 Methods &lt;private, static&gt; _restart( [newIdx]) Restart the slideshow Parameters: Name Type Argument Default Description newIdx int &lt;optional&gt; &lt;nullable&gt; null optional idx to use for current idx Source: screensaver/ss_runner.js, line 56 &lt;private, static&gt; _runShow( [newIdx]) Self called at fixed time intervals to cycle through the photos Parameters: Name Type Argument Default Description newIdx int &lt;optional&gt; &lt;nullable&gt; null override selected Source: screensaver/ss_runner.js, line 86 &lt;private, static&gt; _step( [newIdx]) Increment the slide show manually Parameters: Name Type Argument Default Description newIdx int &lt;optional&gt; &lt;nullable&gt; null optional idx to use for current idx Source: screensaver/ss_runner.js, line 70 &lt;private, static&gt; _stop() Stop the animation Source: screensaver/ss_runner.js, line 46 &lt;static&gt; back() Backup one slide Source: screensaver/ss_runner.js, line 260 &lt;static&gt; forward() Forward one slide Source: screensaver/ss_runner.js, line 250 &lt;static&gt; getWaitTime() → {int} Get wait time between _runShow calls Source: screensaver/ss_runner.js, line 161 Returns: current wait time Type int &lt;static&gt; isCurrentPair(idx) → {boolean} Is the given idx a part of the current animation pair Parameters: Name Type Description idx int index into app.SSViews Source: screensaver/ss_runner.js, line 224 Returns: if selected or last selected Type boolean &lt;static&gt; isInteractive() → {boolean} Is interactive mode allowed Source: screensaver/ss_runner.js, line 205 Returns: true if allowed Type boolean &lt;static&gt; isPaused() → {boolean} Are we paused Source: screensaver/ss_runner.js, line 214 Returns: true if paused Type boolean &lt;static&gt; isStarted() → {boolean} Has the first page run Source: screensaver/ss_runner.js, line 197 Returns: if animation has started Type boolean &lt;static&gt; setLastSelected(lastSelected) Set last selected index Parameters: Name Type Description lastSelected int last index in app.SSViews Source: screensaver/ss_runner.js, line 179 &lt;static&gt; setReplaceIdx(idx) Set last selected index Parameters: Name Type Description idx int replace index in app.SSViews Source: screensaver/ss_runner.js, line 188 &lt;static&gt; setWaitTime(waitTime) Set wait time between _runShow calls in milliSecs Parameters: Name Type Description waitTime int wait time for next attempt to get photo Source: screensaver/ss_runner.js, line 170 &lt;static&gt; start( [delay]) Start the slideshow Parameters: Name Type Argument Default Description delay int &lt;optional&gt; 2000 delay before start Source: screensaver/ss_runner.js, line 143 &lt;static&gt; togglePaused( [newIdx]) Toggle paused state of the slideshow Parameters: Name Type Argument Default Description newIdx int &lt;optional&gt; &lt;nullable&gt; null optional idx to use for current idx Source: screensaver/ss_runner.js, line 234 × Search results Close "},"app.SSTime.html":{"id":"app.SSTime.html","title":"Namespace: SSTime","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SSTime SSTime Time handling for an app.Screensaver Source: screensaver/ss_time.js, line 13 Methods &lt;static&gt; initialize() Initialize the time display Source: screensaver/ss_time.js, line 23 &lt;static&gt; setTime() Set the time label Source: screensaver/ss_time.js, line 35 × Search results Close "},"app.SSView.html":{"id":"app.SSView.html","title":"Class: SSView","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: SSView SSView Screensaver zoom view and base class for other SSView classes new SSView(photo) Create a new SSView Parameters: Name Type Description photo app.SSPhoto An app.SSPhoto Properties: Name Type Description image Element paper-image author Element label time Element label location Element Geo location model Object template item model url string photo url, binding authorLabel string author text, binding locationLabel string location text, binding Source: screensaver/views/ss_view.js, line 34 Members &lt;private, static, constant&gt; _SCREEN_ASP :number Aspect ratio of screen Type: number Source: screensaver/views/ss_view.js, line 20 Methods &lt;private, static&gt; _isBadAspect(asp) → {boolean} Determine if a photo would look bad zoomed or stretched on the screen Parameters: Name Type Description asp number an aspect ratio Source: screensaver/views/ss_view.js, line 83 Returns: true if a photo aspect ratio differs substantially from the screens' Type boolean &lt;static&gt; _showLocation() → {boolean} Should we show the location, if available Source: screensaver/views/ss_view.js, line 114 Returns: true if we should show the location Type boolean &lt;static&gt; createView(photo, sizing) → {app.SSView} Factory Method to create a new app.SSView Parameters: Name Type Description photo app.SSPhoto An app.SSPhoto sizing app.SSViews.Type photo sizing type Source: screensaver/views/ss_view.js, line 60 Returns: a new SSView or subclass Type app.SSView &lt;static&gt; ignore(asp, photoSizing) → {boolean} Determine if a given aspect ratio should be ignored Parameters: Name Type Description asp number an aspect ratio photoSizing int the sizing type Source: screensaver/views/ss_view.js, line 95 Returns: true if the aspect ratio should be ignored Type boolean &lt;static&gt; showTime() → {boolean} Should we show the time Source: screensaver/views/ss_view.js, line 123 Returns: true if we should show the time Type boolean _hasAuthor() → {boolean} Does a photo have an author label to show Source: screensaver/views/ss_view.js, line 131 Returns: true if we should show the author Type boolean _hasAuthorLabel() → {boolean} Does a view have an author label set Source: screensaver/views/ss_view.js, line 140 Returns: true if author label is not empty Type boolean _hasLocation() → {boolean} Does a photo have a geolocation Source: screensaver/views/ss_view.js, line 148 Returns: true if geolocation point is non-null Type boolean _hasLocationLabel() → {boolean} Does a view have an location label set Source: screensaver/views/ss_view.js, line 156 Returns: true if location label is not empty Type boolean _setAuthorLabel() Set the author text Source: screensaver/views/ss_view.js, line 195 _setLocationLabel() Set the geolocation text Source: screensaver/views/ss_view.js, line 228 _setTimeStyle() Set the style for the time label Source: screensaver/views/ss_view.js, line 177 _setUrl() Set the url Source: screensaver/views/ss_view.js, line 187 &lt;private&gt; _super500px() Add superscript to the label for 500px photos Source: screensaver/views/ss_view.js, line 164 isError() → {boolean} Determine if a photo failed to load (usually 404 error) Source: screensaver/views/ss_view.js, line 291 Returns: true if image load failed Type boolean isLoaded() → {boolean} Determine if a photo has finished loading Source: screensaver/views/ss_view.js, line 299 Returns: true if image is loaded Type boolean render() Render the page for display - the default CSS is for our view subclasses override this to determine the look of photo Source: screensaver/views/ss_view.js, line 285 setElements(image, author, time, location, model) Set the elements of the view Parameters: Name Type Description image Element paper-image, photo author Element div, photographer time Element div, current time location Element div, geolocation text model Object template item model Source: screensaver/views/ss_view.js, line 259 setPhoto(photo) Set the photo Parameters: Name Type Description photo app.SSPhoto a photo to render Source: screensaver/views/ss_view.js, line 274 × Search results Close "},"app.SSViewFrame.html":{"id":"app.SSViewFrame.html","title":"Class: SSViewFrame","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: SSViewFrame SSViewFrame Screensaver zoom view and base class for other SSView classes new SSViewFrame(photo) Create new SSViewFrame Parameters: Name Type Description photo app.SSPhoto An app.SSPhoto Properties: Name Type Description image Element paper-image author Element label time Element label location Element Geo location model Object template item model Source: screensaver/views/ss_view_frame.js, line 24 Extends app.SSView Methods &lt;private, static&gt; _setLabelStyle(style, width, height, isLeft) Set style info for a label Parameters: Name Type Description style Object element.style object width int frame width height int frame height isLeft boolean if true align left, else right Source: screensaver/views/ss_view_frame.js, line 44 _hasAuthor() → {boolean} Does a photo have an author label to show Inherited From: app.SSView#_hasAuthor Source: screensaver/views/ss_view.js, line 131 Returns: true if we should show the author Type boolean _hasAuthorLabel() → {boolean} Does a view have an author label set Inherited From: app.SSView#_hasAuthorLabel Source: screensaver/views/ss_view.js, line 140 Returns: true if author label is not empty Type boolean _hasLocation() → {boolean} Does a photo have a geolocation Inherited From: app.SSView#_hasLocation Source: screensaver/views/ss_view.js, line 148 Returns: true if geolocation point is non-null Type boolean _hasLocationLabel() → {boolean} Does a view have an location label set Inherited From: app.SSView#_hasLocationLabel Source: screensaver/views/ss_view.js, line 156 Returns: true if location label is not empty Type boolean _setAuthorLabel() Set the author text Inherited From: app.SSView#_setAuthorLabel Source: screensaver/views/ss_view.js, line 195 _setLocationLabel() Set the geolocation text Inherited From: app.SSView#_setLocationLabel Source: screensaver/views/ss_view.js, line 228 _setTimeStyle() Set the style for the time label Inherited From: app.SSView#_setTimeStyle Source: screensaver/views/ss_view.js, line 177 _setUrl() Set the url Inherited From: app.SSView#_setUrl Source: screensaver/views/ss_view.js, line 187 &lt;private&gt; _super500px() Add superscript to the label for 500px photos Inherited From: app.SSView#_super500px Source: screensaver/views/ss_view.js, line 164 isError() → {boolean} Determine if a photo failed to load (usually 404 error) Inherited From: app.SSView#isError Source: screensaver/views/ss_view.js, line 291 Returns: true if image load failed Type boolean isLoaded() → {boolean} Determine if a photo has finished loading Inherited From: app.SSView#isLoaded Source: screensaver/views/ss_view.js, line 299 Returns: true if image is loaded Type boolean render() Render the page for display Overrides: app.SSView#render Source: screensaver/views/ss_view_frame.js, line 80 setElements(image, author, time, location, model) Set the elements of the view Parameters: Name Type Description image Element paper-image, photo author Element div, photographer time Element div, current time location Element div, geolocation text model Object template item model Inherited From: app.SSView#setElements Source: screensaver/views/ss_view.js, line 259 setPhoto(photo) Set the photo Parameters: Name Type Description photo app.SSPhoto a photo to render Inherited From: app.SSView#setPhoto Source: screensaver/views/ss_view.js, line 274 × Search results Close "},"app.SSViewFull.html":{"id":"app.SSViewFull.html","title":"Class: SSViewFull","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: SSViewFull SSViewFull Screensaver full view new SSViewFull(photo) Create new SSViewFull Parameters: Name Type Description photo app.SSPhoto An app.SSPhoto Properties: Name Type Description image Element paper-image author Element label time Element label location Element Geo location model Object template item model Source: screensaver/views/ss_view_full.js, line 24 Extends app.SSView Methods _hasAuthor() → {boolean} Does a photo have an author label to show Inherited From: app.SSView#_hasAuthor Source: screensaver/views/ss_view.js, line 131 Returns: true if we should show the author Type boolean _hasAuthorLabel() → {boolean} Does a view have an author label set Inherited From: app.SSView#_hasAuthorLabel Source: screensaver/views/ss_view.js, line 140 Returns: true if author label is not empty Type boolean _hasLocation() → {boolean} Does a photo have a geolocation Inherited From: app.SSView#_hasLocation Source: screensaver/views/ss_view.js, line 148 Returns: true if geolocation point is non-null Type boolean _hasLocationLabel() → {boolean} Does a view have an location label set Inherited From: app.SSView#_hasLocationLabel Source: screensaver/views/ss_view.js, line 156 Returns: true if location label is not empty Type boolean _setAuthorLabel() Set the author text Inherited From: app.SSView#_setAuthorLabel Source: screensaver/views/ss_view.js, line 195 _setLocationLabel() Set the geolocation text Inherited From: app.SSView#_setLocationLabel Source: screensaver/views/ss_view.js, line 228 _setTimeStyle() Set the style for the time label Inherited From: app.SSView#_setTimeStyle Source: screensaver/views/ss_view.js, line 177 _setUrl() Set the url Inherited From: app.SSView#_setUrl Source: screensaver/views/ss_view.js, line 187 &lt;private&gt; _super500px() Add superscript to the label for 500px photos Inherited From: app.SSView#_super500px Source: screensaver/views/ss_view.js, line 164 isError() → {boolean} Determine if a photo failed to load (usually 404 error) Inherited From: app.SSView#isError Source: screensaver/views/ss_view.js, line 291 Returns: true if image load failed Type boolean isLoaded() → {boolean} Determine if a photo has finished loading Inherited From: app.SSView#isLoaded Source: screensaver/views/ss_view.js, line 299 Returns: true if image is loaded Type boolean render() Render the page for display Overrides: app.SSView#render Source: screensaver/views/ss_view_full.js, line 38 setElements(image, author, time, location, model) Set the elements of the view Parameters: Name Type Description image Element paper-image, photo author Element div, photographer time Element div, current time location Element div, geolocation text model Object template item model Inherited From: app.SSView#setElements Source: screensaver/views/ss_view.js, line 259 setPhoto(photo) Set the photo Parameters: Name Type Description photo app.SSPhoto a photo to render Inherited From: app.SSView#setPhoto Source: screensaver/views/ss_view.js, line 274 × Search results Close "},"app.SSViewLetterbox.html":{"id":"app.SSViewLetterbox.html","title":"Class: SSViewLetterbox","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: SSViewLetterbox SSViewLetterbox Screensaver letterbox view new SSViewLetterbox(photo) Create new SSView Parameters: Name Type Description photo app.SSPhoto An app.SSPhoto Properties: Name Type Description image Element paper-image author Element label time Element label location Element Geo location model Object template item model Source: screensaver/views/ss_view_letterbox.js, line 33 Extends app.SSView Members &lt;private, static, constant&gt; _SCREEN_AR :number Aspect ratio of screen Type: number Source: screensaver/views/ss_view_letterbox.js, line 21 Methods _hasAuthor() → {boolean} Does a photo have an author label to show Inherited From: app.SSView#_hasAuthor Source: screensaver/views/ss_view.js, line 131 Returns: true if we should show the author Type boolean _hasAuthorLabel() → {boolean} Does a view have an author label set Inherited From: app.SSView#_hasAuthorLabel Source: screensaver/views/ss_view.js, line 140 Returns: true if author label is not empty Type boolean _hasLocation() → {boolean} Does a photo have a geolocation Inherited From: app.SSView#_hasLocation Source: screensaver/views/ss_view.js, line 148 Returns: true if geolocation point is non-null Type boolean _hasLocationLabel() → {boolean} Does a view have an location label set Inherited From: app.SSView#_hasLocationLabel Source: screensaver/views/ss_view.js, line 156 Returns: true if location label is not empty Type boolean _setAuthorLabel() Set the author text Inherited From: app.SSView#_setAuthorLabel Source: screensaver/views/ss_view.js, line 195 _setLocationLabel() Set the geolocation text Inherited From: app.SSView#_setLocationLabel Source: screensaver/views/ss_view.js, line 228 _setTimeStyle() Set the style for the time label Inherited From: app.SSView#_setTimeStyle Source: screensaver/views/ss_view.js, line 177 _setUrl() Set the url Inherited From: app.SSView#_setUrl Source: screensaver/views/ss_view.js, line 187 &lt;private&gt; _super500px() Add superscript to the label for 500px photos Inherited From: app.SSView#_super500px Source: screensaver/views/ss_view.js, line 164 isError() → {boolean} Determine if a photo failed to load (usually 404 error) Inherited From: app.SSView#isError Source: screensaver/views/ss_view.js, line 291 Returns: true if image load failed Type boolean isLoaded() → {boolean} Determine if a photo has finished loading Inherited From: app.SSView#isLoaded Source: screensaver/views/ss_view.js, line 299 Returns: true if image is loaded Type boolean render() Render the page for display Overrides: app.SSView#render Source: screensaver/views/ss_view_letterbox.js, line 47 setElements(image, author, time, location, model) Set the elements of the view Parameters: Name Type Description image Element paper-image, photo author Element div, photographer time Element div, current time location Element div, geolocation text model Object template item model Inherited From: app.SSView#setElements Source: screensaver/views/ss_view.js, line 259 setPhoto(photo) Set the photo Parameters: Name Type Description photo app.SSPhoto a photo to render Inherited From: app.SSView#setPhoto Source: screensaver/views/ss_view.js, line 274 × Search results Close "},"app.SSViews.html":{"id":"app.SSViews.html","title":"Namespace: SSViews","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SSViews SSViews Collection of app.SSView objects Source: screensaver/ss_views.js, line 13 Members &lt;private, static, constant&gt; _MAX_VIEWS :int Max number of views Type: int Source: screensaver/ss_views.js, line 25 &lt;private, static, nullable&gt; _pages :Element The neon-animated-pages Type: Element Source: screensaver/ss_views.js, line 42 &lt;private, static&gt; _type :int The view type Type: int Source: screensaver/ss_views.js, line 66 &lt;private, static, constant&gt; _views :Array.&lt;app.SSView&gt; The array of views Type: Array.&lt;app.SSView&gt; Source: screensaver/ss_views.js, line 34 &lt;static, readonly&gt; Type :int Enum for view type Type: int Source: screensaver/ss_views.js, line 44 Methods &lt;private, static&gt; _setViewType() Process settings related to the photo's appearance Source: screensaver/ss_views.js, line 73 &lt;static&gt; create(t) Create the app.SSView pages Parameters: Name Type Description t app.Screensaver.Template Source: screensaver/ss_views.js, line 105 &lt;static&gt; findLoadedPhoto(idx) → {int} Try to find a photo that has finished loading Parameters: Name Type Description idx int index into _views Source: screensaver/ss_views.js, line 266 Returns: index into _views, -1 if none are loaded Type int &lt;static&gt; get(idx) → {app.SSView} Get the app.SSView at the given index Parameters: Name Type Description idx int The index Source: screensaver/ss_views.js, line 160 Returns: Type app.SSView &lt;static&gt; getCount() → {int} Get number of views Source: screensaver/ss_views.js, line 150 Returns: Type int &lt;static&gt; getSelectedIndex() → {int|undefined} Get the selected index Source: screensaver/ss_views.js, line 169 Returns: The index Type int | undefined &lt;static&gt; getType() → {app.SSViews.Type} Get the type of view Source: screensaver/ss_views.js, line 138 Returns: Type app.SSViews.Type &lt;static&gt; hasPhoto(photo) → {boolean} Is the given app.SSPhoto in one of the _views Parameters: Name Type Description photo app.SSPhoto Source: screensaver/ss_views.js, line 206 Returns: true if in _views Type boolean &lt;static&gt; hasUsable() → {boolean} Do we have a view with a usable photo Source: screensaver/ss_views.js, line 222 Returns: true if at least one photo is valid Type boolean &lt;static&gt; isSelectedIndex(idx) → {boolean} Is the given idx the selected index Parameters: Name Type Description idx int index into app.SSViews Source: screensaver/ss_views.js, line 192 Returns: true if selected Type boolean &lt;static&gt; replaceAll() Replace all views Source: screensaver/ss_views.js, line 242 &lt;static&gt; setSelectedIndex(selected) Set the selected index Parameters: Name Type Description selected int Source: screensaver/ss_views.js, line 182 × Search results Close "},"app.Utils.html":{"id":"app.Utils.html","title":"Namespace: Utils","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Utils Utils Misc. utility methods Source: my_utils.js, line 13 Members &lt;private, static, constant&gt; _DEBUG :boolean True if development build Type: boolean Source: my_utils.js, line 24 &lt;static&gt; DEBUG :boolean True if development build Type: boolean Source: my_utils.js, line 32 Methods &lt;static&gt; getEmail() → {string} Get our email address Source: my_utils.js, line 39 Returns: email address Type string &lt;static&gt; getEmailBody() → {string} Get body for an email with basic extension info Source: my_utils.js, line 48 Returns: text Type string &lt;static&gt; getEmailUrl(subject, body) → {string} Get encoded url for an email Parameters: Name Type Description subject string email subject body string email body Source: my_utils.js, line 61 Returns: encoded url Type string &lt;static&gt; getGithubPagesPath() → {string} Get our Github pages base path Source: my_utils.js, line 82 Returns: path Type string &lt;static&gt; getGithubPath() → {string} Get our Github base path Source: my_utils.js, line 73 Returns: path Type string &lt;static&gt; getIdleSeconds() → {int} Get the idle time in seconds Source: background/data.js, line 381 Returns: idle time in seconds Type int × Search results Close "},"Background.html":{"id":"Background.html","title":"Namespace: Background","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Background Background The background script for the extension. Source: background/background.js, line 10 Methods &lt;private, static&gt; _onChromeMessage(request [, sender] [, response]) → {boolean} Event: Fired when a message is sent from either an extension process (by runtime.sendMessage) or a content script (by tabs.sendMessage). Parameters: Name Type Argument Description request Chrome.Msg.Message details for the message sender Object &lt;optional&gt; MessageSender object response function &lt;optional&gt; function to call once after processing Source: background/background.js, line 106 See: https://developer.chrome.com/extensions/runtime#event-onMessage Returns: true if asynchronous Type boolean &lt;private, static&gt; _onIconClicked() Event: Fired when a browser action icon is clicked. Source: background/background.js, line 78 See: https://goo.gl/abVwKu &lt;private, static&gt; _onInstalled(details) Event: Fired when the extension is first installed, when the extension is updated to a new version, and when Chrome is updated to a new version. Parameters: Name Type Description details Object type of event Properties Name Type Description reason string reason for install previousVersion string old version if 'update' reason Source: background/background.js, line 41 See: https://developer.chrome.com/extensions/runtime#event-onInstalled &lt;private, static&gt; _onLoad() Event: called when document and resources are loaded Source: sources/photo_source_reddit.js, line 200 &lt;private, static&gt; _onLoad() Event: called when document and resources are loaded Source: background/background.js, line 120 &lt;private, static&gt; _onStartup() Event: Fired when a profile that has this extension installed first starts up Source: background/background.js, line 67 See: https://developer.chrome.com/extensions/runtime#event-onStartup &lt;private, static&gt; _onStorageChanged(event) Event: Fired when item in localStorage changes Parameters: Name Type Description event Event StorageEvent Properties Name Type Description key string storage item that changed Source: background/background.js, line 90 See: https://developer.mozilla.org/en-US/docs/Web/Events/storage &lt;private, static&gt; _showOptionsTab() Display the options tab Source: background/background.js, line 22 × Search results Close "},"Chrome.Auth.html":{"id":"Chrome.Auth.html","title":"Namespace: Auth","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Auth Auth Google authorization utilities Source: scripts/auth.js, line 14 See: https://developer.chrome.com/apps/identity Methods &lt;static&gt; getToken(interactive) → {Promise.&lt;string&gt;} Get our OAuth2.0 token Parameters: Name Type Description interactive boolean if true may block Source: scripts/auth.js, line 28 Returns: An access token Type Promise.&lt;string&gt; &lt;static&gt; removeCachedToken( [curToken]) → {Promise.&lt;string&gt;} Remove our cached auth token Parameters: Name Type Argument Default Description curToken string | null &lt;optional&gt; null token to remove Source: scripts/auth.js, line 42 Returns: the old token Type Promise.&lt;string&gt; × Search results Close "},"Chrome.GA.html":{"id":"Chrome.GA.html","title":"Namespace: GA","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: GA GA Google Analytics tracking Source: scripts/analytics.js, line 13 Members &lt;static, constant&gt; _EVENT :Object Event types Type: Object Properties: Name Type Description INSTALLED Chrome.GA.Event extension installed UPDATED Chrome.GA.Event extension updated MENU Chrome.GA.Event menu selected TOGGLE Chrome.GA.Event setting-toggle LINK Chrome.GA.Event setting-link TEXT Chrome.GA.Event setting-text SLIDER_VALUE Chrome.GA.Event setting-slider value SLIDER_UNITS Chrome.GA.Event setting-slider unit BUTTON Chrome.GA.Event button click ICON Chrome.GA.Event toolbar icon click CHECK Chrome.GA.Event checkbox click KEY_COMMAND Chrome.GA.Event keyboard shortcut Source: scripts/analytics.js, line 71 Methods &lt;private, static&gt; _onLoad() Event: called when document and resources are loaded Initialize Google Analytics Source: scripts/analytics.js, line 31 &lt;static&gt; error( [label] [, action]) Send an error Parameters: Name Type Argument Default Description label string &lt;optional&gt; &lt;nullable&gt; 'unknown' override label action string &lt;optional&gt; &lt;nullable&gt; 'unknownMethod' override action Source: scripts/analytics.js, line 197 &lt;static&gt; event(event [, label] [, action]) Send an event Parameters: Name Type Argument Default Description event Chrome.GA.Event the event type label string &lt;optional&gt; &lt;nullable&gt; null override label action string &lt;optional&gt; &lt;nullable&gt; null override action Source: scripts/analytics.js, line 176 &lt;static&gt; exception(exception [, message] [, fatal]) Send an exception Parameters: Name Type Argument Default Description exception Object the exception message string &lt;optional&gt; &lt;nullable&gt; null the error message fatal boolean &lt;optional&gt; true true if fatal Source: scripts/analytics.js, line 218 &lt;static&gt; initialize(trackingId, appName, appId, appVersion) Initialize analytics Parameters: Name Type Description trackingId string tracking id appName string extension name appId string extension Id appVersion string extension version Source: scripts/analytics.js, line 145 &lt;static&gt; page(page) Send a page Parameters: Name Type Description page string page path Source: scripts/analytics.js, line 161 Type Definitions Event Google Analytics Event Type: Object Properties: Name Type Description eventCategory string category eventAction string action eventLabel string label Source: scripts/analytics.js, line 16 × Search results Close "},"Chrome.Http.html":{"id":"Chrome.Http.html","title":"Namespace: Http","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Http Http Fetch with authentication and exponential back-off Source: scripts/http.js, line 13 Members &lt;private, static, constant&gt; _AUTH_HEADER :string Authorization header Type: string Source: scripts/http.js, line 46 &lt;private, static, constant&gt; _BEARER :string Bearer parameter for authorized call Type: string Source: scripts/http.js, line 54 &lt;private, static, constant&gt; _CONFIG :Chrome.Http.Config Configuration object Type: Chrome.Http.Config Source: scripts/http.js, line 78 &lt;private, static, constant&gt; _DELAY Delay multiplier for exponential back-off Source: scripts/http.js, line 70 &lt;private, static, constant&gt; _MAX_RETRIES :int Max retries on 500 errors Type: int Source: scripts/http.js, line 62 Methods &lt;private, static&gt; _doIt(url, opts, conf) → {Promise.&lt;JSON&gt;} Do a server request Parameters: Name Type Description url string server request opts Object fetch options conf Chrome.Http.Config configuration Source: scripts/http.js, line 265 Returns: response from server Type Promise.&lt;JSON&gt; &lt;private, static&gt; _fetch(url, opts, conf, attempt) → {Promise.&lt;JSON&gt;} Perform fetch, optionally using authorization and exponential back-off Parameters: Name Type Description url string server request opts Object fetch options conf Chrome.Http.Config configuration attempt int the retry attempt we are on Source: scripts/http.js, line 234 Returns: response from server Type Promise.&lt;JSON&gt; &lt;private, static&gt; _getAuthToken(isAuth, interactive) → {Promise.&lt;string&gt;} Get authorization token Parameters: Name Type Description isAuth boolean if true, authorization required interactive boolean if true, user initiated Source: scripts/http.js, line 162 Returns: auth token Type Promise.&lt;string&gt; &lt;private, static&gt; _getError(response) → {Error} Get Error message Parameters: Name Type Description response Chrome.Http.Response server response Source: scripts/http.js, line 139 Returns: Type Error &lt;private, static&gt; _processResponse(response, url, opts, conf, attempt) → {Promise.&lt;JSON&gt;} Check response and act accordingly Parameters: Name Type Description response Chrome.Http.Response server response url string server opts Object fetch options conf Chrome.Http.Config configuration attempt int the retry attempt we are on Source: scripts/http.js, line 98 Returns: response from server Type Promise.&lt;JSON&gt; &lt;private, static&gt; _retry(url, opts, conf, attempt) → {Promise.&lt;JSON&gt;} Retry authorized fetch with exponential back-off Parameters: Name Type Description url string server request opts Object fetch options conf Chrome.Http.Config configuration attempt int the retry attempt we are on Source: scripts/http.js, line 194 Returns: response from server Type Promise.&lt;JSON&gt; &lt;private, static&gt; _retryToken(url, opts, conf, attempt) → {Promise.&lt;JSON&gt;} Retry fetch after removing cached auth token Parameters: Name Type Description url string server request opts Object fetch options conf Chrome.Http.Config configuration attempt int the retry attempt we are on Source: scripts/http.js, line 215 Returns: response from server Type Promise.&lt;JSON&gt; &lt;static&gt; doGet(url [, conf]) → {Promise.&lt;JSON&gt;} Perform GET request Parameters: Name Type Argument Default Description url string server request conf Chrome.Http.Config &lt;optional&gt; null configuration Source: scripts/http.js, line 284 Returns: response from server Type Promise.&lt;JSON&gt; &lt;static&gt; doPost(url [, conf]) → {Promise.&lt;JSON&gt;} Perform POST request Parameters: Name Type Argument Default Description url string server request conf Chrome.Http.Config &lt;optional&gt; null configuration Source: scripts/http.js, line 296 Returns: response from server Type Promise.&lt;JSON&gt; Type Definitions Config Http configuration Type: Object Properties: Name Type Argument Default Description isAuth boolean &lt;optional&gt; false if true, authorization required retryToken boolean &lt;optional&gt; false if true, retry with new token interactive boolean &lt;optional&gt; false user initiated, if true token string &lt;optional&gt; &lt;nullable&gt; null auth token backoff boolean &lt;optional&gt; true if true, do exponential back-off maxRetries int &lt;optional&gt; _MAX_ATTEMPTS max retries Source: scripts/http.js, line 18 Response Http response Type: Object Properties: Name Type Description ok boolean success flag json function returned data as JSON status int HTTP response code statusText string HTTP response message Source: scripts/http.js, line 30 × Search results Close "},"Chrome.JSONUtils.html":{"id":"Chrome.JSONUtils.html","title":"Namespace: JSONUtils","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: JSONUtils JSONUtils JSON utilities Source: scripts/json.js, line 13 Methods &lt;static&gt; parse(jsonString) → {JSON} Parse JSON, with exception handling Parameters: Name Type Description jsonString string string to parse Source: scripts/json.js, line 25 Returns: JSON Object, null on error Type JSON &lt;static&gt; shallowCopy(object) → {JSON} Return shallow copy of Object Parameters: Name Type Description object Object object to copy Source: scripts/json.js, line 42 Returns: JSON Object, null on error Type JSON × Search results Close "},"Chrome.Locale.html":{"id":"Chrome.Locale.html","title":"Namespace: Locale","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Locale Locale Locale methods Source: scripts/locales.js, line 14 See: https://developer.chrome.com/extensions/i18n Methods &lt;static&gt; getLocale() → {string} Get the current locale Source: scripts/locales.js, line 35 Returns: current locale e.g. en_US Type string &lt;static&gt; localize(messageName) → {string} Get the i18n string Parameters: Name Type Description messageName string key in messages.json Source: scripts/locales.js, line 26 Returns: internationalized string Type string × Search results Close "},"Chrome.Log.html":{"id":"Chrome.Log.html","title":"Namespace: Log","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Log Log Log a message. Will also store the LastError to local storage as 'lastError' Source: scripts/log.js, line 13 Methods &lt;static&gt; error( [message] [, method] [, title]) Log an error Parameters: Name Type Argument Default Description message string &lt;optional&gt; &lt;nullable&gt; 'unknown' override label method string &lt;optional&gt; &lt;nullable&gt; 'unknownMethod' override action title string &lt;optional&gt; &lt;nullable&gt; null a title for the error Source: scripts/log.js, line 24 &lt;static&gt; exception(exception [, message] [, fatal] [, title]) Log an exception Parameters: Name Type Argument Default Description exception Object the exception message string &lt;optional&gt; &lt;nullable&gt; null the error message fatal boolean &lt;optional&gt; true true if fatal title string &lt;optional&gt; &lt;nullable&gt; 'An exception was caught' a title for the error Source: scripts/log.js, line 41 × Search results Close "},"Chrome.Msg.html":{"id":"Chrome.Msg.html","title":"Namespace: Msg","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Msg Msg Wrapper for chrome messages Source: scripts/msg.js, line 14 See: https://developer.chrome.com/extensions/messaging Members &lt;private, static, constant&gt; _MSG :Object Chrome Messages Type: Object Properties: Name Type Description HIGHLIGHT Chrome.Msg.Message highlight a tab RESTORE_DEFAULTS Chrome.Msg.Message restore default settings STORAGE_EXCEEDED Chrome.Msg.Message local storage save failed STORE Chrome.Msg.Message save value to storage Source: scripts/msg.js, line 42 Methods &lt;static&gt; listen(listener) Add a listener for chrome messages Parameters: Name Type Description listener function function to receive messages Source: scripts/msg.js, line 91 &lt;static&gt; send(type) → {Promise.&lt;JSON&gt;} Send a chrome message Parameters: Name Type Description type Chrome.Msg.Message type of message Source: scripts/msg.js, line 71 Returns: response JSON Type Promise.&lt;JSON&gt; Type Definitions Message A Chrome message Type: Object Properties: Name Type Argument Description message string Unique name error Error an error item string | Object a message specific item updated boolean item is new or updated key string key name value Object &lt;nullable&gt; value of key Source: scripts/msg.js, line 19 × Search results Close "},"Chrome.Storage.html":{"id":"Chrome.Storage.html","title":"Namespace: Storage","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Storage Storage Manage items in localStorage Source: scripts/storage.js, line 13 Methods &lt;static&gt; clearLastError() → {Promise.&lt;void&gt;} Set the LastError to an empty message in chrome.storage.local Source: scripts/storage.js, line 168 Returns: void Type Promise.&lt;void&gt; &lt;static&gt; get(key [, def]) → {Object} Get a JSON parsed value from localStorage Parameters: Name Type Argument Default Description key string key to get value for def Object &lt;optional&gt; &lt;nullable&gt; null return value if key not found Source: scripts/storage.js, line 28 Returns: JSON object, null if key does not exist Type Object &lt;static&gt; getBool(key [, def]) → {boolean} Get boolean value from localStorage Parameters: Name Type Argument Default Description key string key to get value for def boolean &lt;optional&gt; &lt;nullable&gt; null return value if key not found Source: scripts/storage.js, line 64 Returns: value as boolean, null if key does not exist Type boolean &lt;static&gt; getInt(key [, def]) → {int} Get integer value from localStorage Parameters: Name Type Argument Default Description key string key to get value for def int &lt;optional&gt; &lt;nullable&gt; null optional value to return, if NaN Source: scripts/storage.js, line 44 Returns: value as integer, NaN on error Type int &lt;static&gt; getLastError() → {Promise.&lt;Chrome.Msg.LastError&gt;} Get the LastError from chrome.storage.local Source: scripts/storage.js, line 142 Returns: last error Type Promise.&lt;Chrome.Msg.LastError&gt; &lt;static&gt; LastError( [message] [, title]) An error that can be persisted Usage: const err = new LastError(message, title) Parameters: Name Type Argument Default Description message string &lt;optional&gt; &lt;nullable&gt; '' the message title string &lt;optional&gt; &lt;nullable&gt; 'An error occurred' the title Properties: Name Type Description name string Error name stack string stack trace Source: scripts/storage.js, line 127 &lt;static&gt; safeSet(key, value [, keyBool]) → {boolean} Save a value to localStorage only if there is enough room Parameters: Name Type Argument Description key string localStorage Key value Object value to save keyBool string &lt;optional&gt; key to a boolean value that is true if the primary key has non-empty value Source: scripts/storage.js, line 92 Returns: true if value was set successfully Type boolean &lt;static&gt; set(key [, value]) JSON stringify and save a value to localStorage Parameters: Name Type Argument Default Description key string key to set value for value Object &lt;optional&gt; &lt;nullable&gt; null new value, if null remove item Source: scripts/storage.js, line 74 &lt;static&gt; setLastError(error) → {Promise.&lt;void&gt;} Save the LastError to chrome.storage.local Parameters: Name Type Description error Chrome.Storage.LastError the LastError Source: scripts/storage.js, line 158 See: https://developer.chrome.com/apps/storage Returns: void Type Promise.&lt;void&gt; × Search results Close "},"Chrome.Time.html":{"id":"Chrome.Time.html","title":"Class: Time","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: Time Time Time Class new Time( [timeString]) Create a new Time Parameters: Name Type Argument Default Description timeString string &lt;optional&gt; &lt;nullable&gt; null in '00:00' format, if null use current Date Properties: Name Type Description _hr int 24 hour time _min int minutes Source: scripts/time.js, line 20 Members &lt;static&gt; MIN_IN_DAY Minutes in day Source: scripts/time.js, line 37 &lt;static&gt; MSEC_IN_DAY Milliseconds in day Source: scripts/time.js, line 46 Methods &lt;private, static&gt; _is24Hr( [frmt]) → {boolean} Determine if user wants 24 hr time Parameters: Name Type Argument Default Description frmt int &lt;optional&gt; &lt;nullable&gt; null optional format, overrides storage value Source: scripts/time.js, line 57 Returns: true for 24 hour time Type boolean &lt;static&gt; getStringFull(timeString [, frmt]) → {string} Get time as string suitable for display, including AM/PM if 12hr Parameters: Name Type Argument Default Description timeString string in '00:00' format frmt int &lt;optional&gt; &lt;nullable&gt; null optional format, overrides storage value Source: scripts/time.js, line 141 Returns: display string Type string &lt;static&gt; getStringShort() → {string} Get current time suitable for display w/o AM/PM if 12hr Source: scripts/time.js, line 151 Returns: display string Type string &lt;static&gt; getTime(timeString) → {int} Convert string to current time Parameters: Name Type Description timeString string in '00:00' format Source: scripts/time.js, line 80 Returns: time in milliSeconds from epoch Type int &lt;static&gt; getTimeDelta(timeString) → {int} Calculate time delta from now on a 24hr basis Parameters: Name Type Description timeString string in '00:00' format Source: scripts/time.js, line 96 Returns: time delta in minutes Type int &lt;static&gt; isInRange(start, stop) → {boolean} Determine if current time is between start and stop, inclusive Parameters: Name Type Description start string in '00:00' format stop string in '00:00' format Source: scripts/time.js, line 114 Returns: true if in the given range Type boolean &lt;private&gt; _parse(timeString) Parse time string Parameters: Name Type Description timeString string in '00:00' format Source: scripts/time.js, line 167 toString( [frmt]) → {string} Get string representation of Time Parameters: Name Type Argument Default Description frmt int &lt;optional&gt; &lt;nullable&gt; null optional format, overrides storage value Source: scripts/time.js, line 183 Returns: As string Type string × Search results Close "},"Chrome.Utils.html":{"id":"Chrome.Utils.html","title":"Namespace: Utils","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Utils Utils Utility methods Source: scripts/utils.js, line 13 Members &lt;private, static, constant&gt; _DEBUG :boolean Set to true if development build Type: boolean Source: scripts/utils.js, line 26 &lt;static&gt; DEBUG :boolean True if development build Type: boolean Source: scripts/utils.js, line 34 Methods &lt;static&gt; getChromeVersion() → {int} Get the Chrome version Source: scripts/utils.js, line 60 See: http://stackoverflow.com/a/4900484/4468645 Returns: Chrome major version Type int &lt;static&gt; getExtensionName() → {string} Get the extension's name Source: scripts/utils.js, line 40 Returns: Extension name Type string &lt;static&gt; getFullChromeVersion() → {string} Get the full Chrome version Source: scripts/utils.js, line 71 See: https://goo.gl/2ITMNO Returns: Chrome version Type string &lt;static&gt; getPlatformOS() → {Promise.&lt;string&gt;} Get the OS as a human readable string Source: scripts/utils.js, line 81 Returns: OS name Type Promise.&lt;string&gt; &lt;static&gt; getRandomInt(min, max) → {int} Returns a random integer between min and max inclusive Parameters: Name Type Description min int min value max int max value Source: scripts/utils.js, line 184 Returns: random int Type int &lt;static&gt; getRandomString( [len]) → {string} Get a random string of the given length Parameters: Name Type Argument Default Description len int &lt;optional&gt; 8 length of generated string Source: scripts/utils.js, line 166 Returns: a random string Type string &lt;static&gt; getVersion() → {string} Get the Extension version Source: scripts/utils.js, line 49 Returns: Extension version Type string &lt;static&gt; isChromeOS() → {Promise.&lt;boolean&gt;} Determine if we are Chrome OS Source: scripts/utils.js, line 127 Returns: true if ChromeOS Type Promise.&lt;boolean&gt; &lt;static&gt; isMac() → {Promise.&lt;boolean&gt;} Determine if we are a Mac Source: scripts/utils.js, line 138 Returns: true if Mac Type Promise.&lt;boolean&gt; &lt;static&gt; isWhiteSpace(str) → {boolean} Determine if a String is null or whitespace only Parameters: Name Type Argument Description str string &lt;nullable&gt; string to check Source: scripts/utils.js, line 156 Returns: true is str is whitespace or null Type boolean &lt;static&gt; isWindows() → {Promise.&lt;boolean&gt;} Determine if we are MS windows Source: scripts/utils.js, line 116 Returns: true if MS Windows Type Promise.&lt;boolean&gt; &lt;static&gt; noop() No operation Source: scripts/utils.js, line 148 &lt;static&gt; shuffleArray(array) Randomly sort an Array in place Fisher-Yates shuffle algorithm. Parameters: Name Type Description array Array Array to sort Source: scripts/utils.js, line 194 × Search results Close "},"ContextMenus.html":{"id":"ContextMenus.html","title":"Namespace: ContextMenus","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: ContextMenus ContextMenus Manage the Context Menus for the extension Source: background/context_menus.js, line 10 See: https://developer.chrome.com/extensions/contextMenus Methods &lt;private, static&gt; _onInstalled(details) Event: Fired when the extension is first installed, when the extension is updated to a new version, and when Chrome is updated to a new version. Parameters: Name Type Description details Object type of event Source: background/context_menus.js, line 42 See: https://developer.chrome.com/extensions/runtime#event-onInstalled &lt;private, static&gt; _onKeyCommand(cmd) Event: Fired when a registered command is activated using a keyboard shortcut. Parameters: Name Type Description cmd string keyboard command Source: background/context_menus.js, line 106 See: https://developer.chrome.com/extensions/commands#event-onCommand &lt;private, static&gt; _onMenuClicked(info) Event: Fired when a context menu item is clicked. Parameters: Name Type Description info Object info. on the clicked menu Properties Name Type Description menuItemId Object menu name Source: background/context_menus.js, line 87 See: https://developer.chrome.com/extensions/contextMenus#event-onClicked &lt;private, static&gt; _toggleEnabled() Toggle enabled state of the screen saver Source: background/context_menus.js, line 26 × Search results Close "},"ExceptionHandler.html":{"id":"ExceptionHandler.html","title":"Class: ExceptionHandler","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Class: ExceptionHandler ExceptionHandler new ExceptionHandler() Log Exceptions with analytics. Include: new ExceptionHandler() at top of every js file Source: scripts/exception_handler.js, line 21 × Search results Close "},"Options.html":{"id":"Options.html","title":"Namespace: Options","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: Options Options Extension's Options page Source: options/options.js, line 10 Members &lt;private, static, constant&gt; EXT_URI :string Path to the extension in the Web Store Type: string Source: options/options.js, line 37 &lt;private, static, constant&gt; PUSHY_URI :string Path to my Pushy Clipboard extension Type: string Source: options/options.js, line 49 &lt;private, static, constant&gt; t :Object auto-binding template Type: Object Source: options/options.js, line 60 &lt;static&gt; t.pages :Array.&lt;Options.Page&gt; Array of pages Type: Array.&lt;Options.Page&gt; Source: options/options.js, line 67 &lt;static&gt; t.route :string Current Options.Page Type: string Source: options/options.js, line 124 Methods &lt;private, static&gt; _getPageIdx(name) → {int} Get the index into the Options.pages array Parameters: Name Type Description name string Options.page route Source: options/options.js, line 210 Returns: index into array Type int &lt;private, static&gt; _onMessage(request [, sender] [, response]) → {boolean} Event: Fired when a message is sent from either an extension process (by runtime.sendMessage) or a content script (by tabs.sendMessage). Parameters: Name Type Argument Description request Chrome.Msg.Message details for the message sender Object &lt;optional&gt; MessageSender object response function &lt;optional&gt; function to call once after processing Source: options/options.js, line 324 See: https://developer.chrome.com/extensions/runtime#event-onMessage Returns: true if asynchronous Type boolean &lt;static&gt; _scrollPageToTop() Scroll page to top Source: options/options.js, line 288 &lt;static&gt; _setErrorMenuState() Set enabled state of Error Viewer menu item Source: options/options.js, line 296 &lt;private, static&gt; _showErrorPage(index) Show the error viewer page Parameters: Name Type Description index int index into Options.pages Source: options/options.js, line 241 &lt;static&gt; _showGooglePhotosPage(index) Show the Google Photos page Parameters: Name Type Description index int index into t.pages Source: options/options.js, line 221 &lt;private, static&gt; _showHelpPage(index) Show the help page Parameters: Name Type Description index int index into t.pages Source: options/options.js, line 258 &lt;static&gt; _showScreensaverPreview(index, prevRoute) Display a preview of the screen saver Parameters: Name Type Description index int index into t.pages prevRoute string last page selected Source: options/options.js, line 276 &lt;static&gt; t._computeMenu() → {string} Computed property: Menu label Source: options/options.js, line 199 Returns: i18n label Type string &lt;static&gt; t._computeTitle() → {string} Computed property: Page title Source: options/options.js, line 190 Returns: i18n title Type string &lt;static&gt; t._onNavMenuItemTapped(event) Event: navigation menu selected Route to proper page Parameters: Name Type Description event Event ClickEvent Source: options/options.js, line 159 Type Definitions Page Manage an html page that is inserted on demand May also be a url link to external site Type: Object Properties: Name Type Description label string label for Nav menu route string element name route to page icon string icon for Nav Menu obj Object | function something to be done when selected ready boolean true if html is inserted divider boolean true for divider before item Source: options/options.js, line 17 × Search results Close "},"SettingBackground.html":{"id":"SettingBackground.html","title":"Namespace: SettingBackground","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SettingBackground SettingBackground Polymer element to select an HTML element background style Source: setting-background/setting-background.js, line 5 Members &lt;static&gt; disabled Disabled state of element Source: setting-background/setting-background.js, line 39 &lt;static&gt; mainLabel Item description Source: setting-background/setting-background.js, line 78 &lt;static&gt; name Local storage key Source: setting-background/setting-background.js, line 21 &lt;static&gt; noseparator Visibility state of optional divider Source: setting-background/setting-background.js, line 48 &lt;static&gt; secondaryLabel Item secondary description Source: setting-background/setting-background.js, line 87 &lt;static&gt; sectionTitle Optional group title Source: setting-background/setting-background.js, line 30 &lt;static&gt; selected :string Element id of currently selected background style Type: string Source: setting-background/setting-background.js, line 58 &lt;static&gt; value Local storage value of currently selected background style Source: setting-background/setting-background.js, line 68 Methods &lt;private, static&gt; _init() Initialize value if it is not in localstorage Source: setting-background/setting-background.js, line 98 &lt;private, static&gt; _onOK() Event: Set selected background on tap of OK button Source: setting-background/setting-background.js, line 117 &lt;private, static&gt; _onTap() Event: Show dialog on tap Source: setting-background/setting-background.js, line 108 × Search results Close "},"SettingDropdown.html":{"id":"SettingDropdown.html","title":"Namespace: SettingDropdown","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SettingDropdown SettingDropdown Polymer element to select an item from a list Source: setting-dropdown/setting-dropdown.js, line 5 Members &lt;static&gt; disabled Disabled state of element Source: setting-dropdown/setting-dropdown.js, line 65 &lt;static&gt; items Array of Menu item labels Source: setting-dropdown/setting-dropdown.js, line 45 &lt;static&gt; label Menu description Source: setting-dropdown/setting-dropdown.js, line 26 &lt;static&gt; name Local storage key Source: setting-dropdown/setting-dropdown.js, line 17 &lt;static&gt; noseparator Visibility state of optional divider Source: setting-dropdown/setting-dropdown.js, line 74 &lt;static&gt; sectionTitle Optional group title Source: setting-dropdown/setting-dropdown.js, line 56 &lt;static&gt; value Selected menu item index Source: setting-dropdown/setting-dropdown.js, line 35 Methods &lt;private, static&gt; _init() Initialize value if it is not in localstorage Source: setting-dropdown/setting-dropdown.js, line 99 &lt;private, static&gt; _onItemSelected(ev) Event: menu item tapped Parameters: Name Type Description ev Event tap event Source: setting-dropdown/setting-dropdown.js, line 86 × Search results Close "},"SettingLink.html":{"id":"SettingLink.html","title":"Namespace: SettingLink","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SettingLink SettingLink Polymer element to display a url link Source: setting-link/setting-link.js, line 5 Members &lt;static&gt; disabled Disabled state of element Source: setting-link/setting-link.js, line 62 &lt;static&gt; icon Link icon Source: setting-link/setting-link.js, line 35 &lt;static&gt; label Link description Source: setting-link/setting-link.js, line 26 &lt;static&gt; name Element name Source: setting-link/setting-link.js, line 17 &lt;static&gt; noseparator Visibility state of optional divider Source: setting-link/setting-link.js, line 71 &lt;static&gt; sectionTitle Optional group title Source: setting-link/setting-link.js, line 53 &lt;static&gt; url Link url Source: setting-link/setting-link.js, line 44 Methods &lt;private, static&gt; _onLinkTapped() Event: Item tapped - show url in new tab Source: setting-link/setting-link.js, line 82 × Search results Close "},"SettingSlider.html":{"id":"SettingSlider.html","title":"Namespace: SettingSlider","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SettingSlider SettingSlider Polymer element to select a value with a slider Source: setting-slider/setting-slider.js, line 5 Members &lt;static&gt; disabled Disabled state of element Source: setting-slider/setting-slider.js, line 67 &lt;static&gt; label Slider description Source: setting-slider/setting-slider.js, line 26 &lt;static&gt; name Local storage key Source: setting-slider/setting-slider.js, line 17 &lt;static&gt; noseparator Visibility state of optional divider Source: setting-slider/setting-slider.js, line 76 &lt;static&gt; sectionTitle Optional group title Source: setting-slider/setting-slider.js, line 58 &lt;static&gt; units Array of unit labels Source: setting-slider/setting-slider.js, line 47 &lt;static&gt; value Object containing slider value and display unit index Source: setting-slider/setting-slider.js, line 35 Methods &lt;private, static&gt; _initValue() Initialize value if it is not in localstorage Source: setting-slider/setting-slider.js, line 120 &lt;private, static&gt; _onSliderValueChanged() Event: User changed slider value Source: setting-slider/setting-slider.js, line 87 &lt;private, static&gt; _onUnitChanged() Event: Display unit was changed Source: setting-slider/setting-slider.js, line 97 &lt;private, static&gt; _setBase() Set the base value Source: setting-slider/setting-slider.js, line 111 × Search results Close "},"SettingText.html":{"id":"SettingText.html","title":"Namespace: SettingText","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SettingText SettingText Polymer element for a text entry Source: setting-text/setting-text.js, line 5 Members &lt;static&gt; disabled Disabled state of element Source: setting-text/setting-text.js, line 88 &lt;static&gt; mainLabel Descriptive label Source: setting-text/setting-text.js, line 61 &lt;static&gt; maxLength Max length of text entry Source: setting-text/setting-text.js, line 51 &lt;static&gt; name Local storage key Source: setting-text/setting-text.js, line 22 &lt;static&gt; noseparator Visibility state of optional divider Source: setting-text/setting-text.js, line 97 &lt;static&gt; placeholder Placeholder text when empty Source: setting-text/setting-text.js, line 41 &lt;static&gt; secondaryLabel Secondary descriptive label Source: setting-text/setting-text.js, line 70 &lt;static&gt; sectionTitle Optional group title Source: setting-text/setting-text.js, line 79 &lt;static&gt; value Text value Source: setting-text/setting-text.js, line 31 Methods &lt;private, static&gt; _init() Initialize value if it is not in localstorage Source: setting-text/setting-text.js, line 132 &lt;private, static&gt; _onBlur() Event: Lost focus - fire setting-text-changed event Source: setting-text/setting-text.js, line 108 &lt;private, static&gt; _onKeyUp(event) Event: keyup - fire setting-text-changed event on 'Enter' Parameters: Name Type Description event Event key event Source: setting-text/setting-text.js, line 119 × Search results Close "},"SettingTime.html":{"id":"SettingTime.html","title":"Namespace: SettingTime","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SettingTime SettingTime Polymer element for selecting a time Source: setting-time/setting-time.js, line 5 Members &lt;static&gt; disabled Disabled state of element Source: setting-time/setting-time.js, line 87 &lt;static&gt; format Display format 12/24 hr Source: setting-time/setting-time.js, line 49 &lt;static&gt; mainLabel Descriptive label Source: setting-time/setting-time.js, line 60 &lt;static&gt; name Local storage key Source: setting-time/setting-time.js, line 21 &lt;static&gt; noseparator Visibility state of optional divider Source: setting-time/setting-time.js, line 96 &lt;static&gt; secondaryLabel Secondary descriptive label Source: setting-time/setting-time.js, line 69 &lt;static&gt; sectionTitle Optional group title Source: setting-time/setting-time.js, line 78 &lt;static&gt; timeLabel Time display label Source: setting-time/setting-time.js, line 40 &lt;static&gt; value Time value '00:00' format Source: setting-time/setting-time.js, line 30 Methods &lt;private, static&gt; _formatChanged() Observer: Global Time format changed Source: setting-time/setting-time.js, line 142 &lt;private, static&gt; _formatTime(timeString) → {string} Get the time suitable for display Parameters: Name Type Description timeString string format '00:00' Source: setting-time/setting-time.js, line 153 Returns: formatted time Type string &lt;private, static&gt; _init() Initialize value if it is not in localstorage Source: setting-time/setting-time.js, line 178 &lt;private, static&gt; _onTap() Event: Show dialog on tap Source: setting-time/setting-time.js, line 107 &lt;private, static&gt; _onTimeSelected() Event: Set time on tap of OK button Source: setting-time/setting-time.js, line 118 &lt;private, static&gt; _setTimeLabel(value) Set the time display label Parameters: Name Type Description value string time in '00:00' format Source: setting-time/setting-time.js, line 169 &lt;private, static&gt; _valueChanged(newValue) Observer: Value changed Parameters: Name Type Description newValue string value we changed to Source: setting-time/setting-time.js, line 133 × Search results Close "},"SettingToggle.html":{"id":"SettingToggle.html","title":"Namespace: SettingToggle","body":" Documentation Namespaces app.Alarmapp.Dataapp.GAapp.Geoapp.Msgapp.Permissionsapp.PhotoSourcesapp.Screensaverapp.SSBuilderapp.SSControlapp.SSEventsapp.SSFinderapp.SSHistoryapp.SSPhotosapp.SSRunnerapp.SSTimeapp.SSViewsapp.UtilsBackgroundChrome.AuthChrome.GAChrome.HttpChrome.JSONUtilsChrome.LocaleChrome.LogChrome.MsgChrome.StorageChrome.UtilsContextMenusOptionsSettingBackgroundSettingDropdownSettingLinkSettingSliderSettingTextSettingTimeSettingToggle Classes app.CCSourceapp.FlickrSourceapp.GoogleSourceapp.PhotoSourceapp.Px500Sourceapp.RedditSourceapp.SSPhotoapp.SSViewapp.SSViewFrameapp.SSViewFullapp.SSViewLetterboxChrome.TimeExceptionHandler Global _checkPermissions_chromeBackgroundTapped_computeAlbumIconDisabled_computeHidden_computeLargeTimeDisabled_computeMailToUrl_computeMenuHidden_computeModeIcon_computeModeTooltip_computePhotoLabel_computePhotoSizingMenu_computePhotoTransitionMenu_computeStack_computeTimeFormatMenu_computeTitle_computeTransitionTimeUnits_computeVersion_computeWaitTimeUnits_deselectAllTapped_initIsAlbumMode_initPermPicasa_initUseGoogleAlbums_initUseGooglePhotos_onAlbumSelectChanged_onDeselectAllTapped_onEmailTapped_onModeTapped_onRefreshTapped_onRemoveTapped_onSelectAllTapped_onUseGoogleChanged_restoreDefaultsTapped_selectAlbums_selectAllTapped_setPhotoSourceChecked_setPhotoSourcesChecked_setUseKeys_showStorageErrorDialog_uncheckAlldeselectPhotoSourceloadAlbumList Namespace: SettingToggle SettingToggle Polymer element for a text entry Source: setting-toggle/setting-toggle.js, line 5 Members &lt;static&gt; checked Toggle checked state Source: setting-toggle/setting-toggle.js, line 26 &lt;static&gt; disabled Disabled state of element Source: setting-toggle/setting-toggle.js, line 63 &lt;static&gt; mainLabel Toggle descriptive label Source: setting-toggle/setting-toggle.js, line 36 &lt;static&gt; name Local storage key Source: setting-toggle/setting-toggle.js, line 17 &lt;static&gt; noseparator Visibility state of optional divider Source: setting-toggle/setting-toggle.js, line 72 &lt;static&gt; secondaryLabel Toggle secondary descriptive label Source: setting-toggle/setting-toggle.js, line 45 &lt;static&gt; sectionTitle Optional group title Source: setting-toggle/setting-toggle.js, line 54 Methods &lt;private, static&gt; _init() Initialize value if it is not in localStorage Source: setting-toggle/setting-toggle.js, line 102 &lt;private, static&gt; _onChange() Event: checked state changed Source: setting-toggle/setting-toggle.js, line 93 &lt;static&gt; setChecked(checked) Set the checked state of the toggle Parameters: Name Type Description checked boolean checked state Source: setting-toggle/setting-toggle.js, line 83 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
